(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function U_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Uf={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function pT(){if(dy)return ql;dy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var my;function yT(){return my||(my=1,Uf.exports=pT()),Uf.exports}var it=yT(),Lf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function _T(){if(gy)return St;gy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,K={};function H(x,J,ct){this.props=x,this.context=J,this.refs=K,this.updater=ct||O}H.prototype.isReactComponent={},H.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},H.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function X(){}X.prototype=H.prototype;function et(x,J,ct){this.props=x,this.context=J,this.refs=K,this.updater=ct||O}var tt=et.prototype=new X;tt.constructor=et,P(tt,H.prototype),tt.isPureReactComponent=!0;var vt=Array.isArray,ht={H:null,A:null,T:null,S:null},wt=Object.prototype.hasOwnProperty;function M(x,J,ct,at,st,Rt){return ct=Rt.ref,{$$typeof:a,type:x,key:J,ref:ct!==void 0?ct:null,props:Rt}}function w(x,J){return M(x.type,J,void 0,void 0,void 0,x.props)}function b(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function V(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ct){return J[ct]})}var I=/\/+/g;function z(x,J){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):J.toString(36)}function D(){}function ye(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function he(x,J,ct,at,st){var Rt=typeof x;(Rt==="undefined"||Rt==="boolean")&&(x=null);var bt=!1;if(x===null)bt=!0;else switch(Rt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(x.$$typeof){case a:case e:bt=!0;break;case T:return bt=x._init,he(bt(x._payload),J,ct,at,st)}}if(bt)return st=st(x),bt=at===""?"."+z(x,0):at,vt(st)?(ct="",bt!=null&&(ct=bt.replace(I,"$&/")+"/"),he(st,J,ct,"",function(ie){return ie})):st!=null&&(b(st)&&(st=w(st,ct+(st.key==null||x&&x.key===st.key?"":(""+st.key).replace(I,"$&/")+"/")+bt)),J.push(st)),1;bt=0;var fe=at===""?".":at+":";if(vt(x))for(var zt=0;zt<x.length;zt++)at=x[zt],Rt=fe+z(at,zt),bt+=he(at,J,ct,Rt,st);else if(zt=C(x),typeof zt=="function")for(x=zt.call(x),zt=0;!(at=x.next()).done;)at=at.value,Rt=fe+z(at,zt++),bt+=he(at,J,ct,Rt,st);else if(Rt==="object"){if(typeof x.then=="function")return he(ye(x),J,ct,at,st);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return bt}function rt(x,J,ct){if(x==null)return x;var at=[],st=0;return he(x,at,"","",function(Rt){return J.call(ct,Rt,st++)}),at}function yt(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(ct){(x._status===0||x._status===-1)&&(x._status=1,x._result=ct)},function(ct){(x._status===0||x._status===-1)&&(x._status=2,x._result=ct)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var dt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Ht(){}return St.Children={map:rt,forEach:function(x,J,ct){rt(x,function(){J.apply(this,arguments)},ct)},count:function(x){var J=0;return rt(x,function(){J++}),J},toArray:function(x){return rt(x,function(J){return J})||[]},only:function(x){if(!b(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},St.Component=H,St.Fragment=i,St.Profiler=o,St.PureComponent=et,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,St.act=function(){throw Error("act(...) is not supported in production builds of React.")},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cloneElement=function(x,J,ct){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var at=P({},x.props),st=x.key,Rt=void 0;if(J!=null)for(bt in J.ref!==void 0&&(Rt=void 0),J.key!==void 0&&(st=""+J.key),J)!wt.call(J,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&J.ref===void 0||(at[bt]=J[bt]);var bt=arguments.length-2;if(bt===1)at.children=ct;else if(1<bt){for(var fe=Array(bt),zt=0;zt<bt;zt++)fe[zt]=arguments[zt+2];at.children=fe}return M(x.type,st,void 0,void 0,Rt,at)},St.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},St.createElement=function(x,J,ct){var at,st={},Rt=null;if(J!=null)for(at in J.key!==void 0&&(Rt=""+J.key),J)wt.call(J,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(st[at]=J[at]);var bt=arguments.length-2;if(bt===1)st.children=ct;else if(1<bt){for(var fe=Array(bt),zt=0;zt<bt;zt++)fe[zt]=arguments[zt+2];st.children=fe}if(x&&x.defaultProps)for(at in bt=x.defaultProps,bt)st[at]===void 0&&(st[at]=bt[at]);return M(x,Rt,void 0,void 0,null,st)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:g,render:x}},St.isValidElement=b,St.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:yt}},St.memo=function(x,J){return{$$typeof:y,type:x,compare:J===void 0?null:J}},St.startTransition=function(x){var J=ht.T,ct={};ht.T=ct;try{var at=x(),st=ht.S;st!==null&&st(ct,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ht,dt)}catch(Rt){dt(Rt)}finally{ht.T=J}},St.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},St.use=function(x){return ht.H.use(x)},St.useActionState=function(x,J,ct){return ht.H.useActionState(x,J,ct)},St.useCallback=function(x,J){return ht.H.useCallback(x,J)},St.useContext=function(x){return ht.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,J){return ht.H.useDeferredValue(x,J)},St.useEffect=function(x,J){return ht.H.useEffect(x,J)},St.useId=function(){return ht.H.useId()},St.useImperativeHandle=function(x,J,ct){return ht.H.useImperativeHandle(x,J,ct)},St.useInsertionEffect=function(x,J){return ht.H.useInsertionEffect(x,J)},St.useLayoutEffect=function(x,J){return ht.H.useLayoutEffect(x,J)},St.useMemo=function(x,J){return ht.H.useMemo(x,J)},St.useOptimistic=function(x,J){return ht.H.useOptimistic(x,J)},St.useReducer=function(x,J,ct){return ht.H.useReducer(x,J,ct)},St.useRef=function(x){return ht.H.useRef(x)},St.useState=function(x){return ht.H.useState(x)},St.useSyncExternalStore=function(x,J,ct){return ht.H.useSyncExternalStore(x,J,ct)},St.useTransition=function(){return ht.H.useTransition()},St.version="19.0.0",St}var py;function Td(){return py||(py=1,Lf.exports=_T()),Lf.exports}var G=Td();const vT=U_(G);var kf={exports:{}},Gl={},zf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function ET(){return yy||(yy=1,function(a){function e(rt,yt){var dt=rt.length;rt.push(yt);t:for(;0<dt;){var Ht=dt-1>>>1,x=rt[Ht];if(0<o(x,yt))rt[Ht]=yt,rt[dt]=x,dt=Ht;else break t}}function i(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var yt=rt[0],dt=rt.pop();if(dt!==yt){rt[0]=dt;t:for(var Ht=0,x=rt.length,J=x>>>1;Ht<J;){var ct=2*(Ht+1)-1,at=rt[ct],st=ct+1,Rt=rt[st];if(0>o(at,dt))st<x&&0>o(Rt,at)?(rt[Ht]=Rt,rt[st]=dt,Ht=st):(rt[Ht]=at,rt[ct]=dt,Ht=ct);else if(st<x&&0>o(Rt,dt))rt[Ht]=Rt,rt[st]=dt,Ht=st;else break t}}return yt}function o(rt,yt){var dt=rt.sortIndex-yt.sortIndex;return dt!==0?dt:rt.id-yt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,S=null,C=3,O=!1,P=!1,K=!1,H=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function tt(rt){for(var yt=i(y);yt!==null;){if(yt.callback===null)s(y);else if(yt.startTime<=rt)s(y),yt.sortIndex=yt.expirationTime,e(p,yt);else break;yt=i(y)}}function vt(rt){if(K=!1,tt(rt),!P)if(i(p)!==null)P=!0,ye();else{var yt=i(y);yt!==null&&he(vt,yt.startTime-rt)}}var ht=!1,wt=-1,M=5,w=-1;function b(){return!(a.unstable_now()-w<M)}function V(){if(ht){var rt=a.unstable_now();w=rt;var yt=!0;try{t:{P=!1,K&&(K=!1,X(wt),wt=-1),O=!0;var dt=C;try{e:{for(tt(rt),S=i(p);S!==null&&!(S.expirationTime>rt&&b());){var Ht=S.callback;if(typeof Ht=="function"){S.callback=null,C=S.priorityLevel;var x=Ht(S.expirationTime<=rt);if(rt=a.unstable_now(),typeof x=="function"){S.callback=x,tt(rt),yt=!0;break e}S===i(p)&&s(p),tt(rt)}else s(p);S=i(p)}if(S!==null)yt=!0;else{var J=i(y);J!==null&&he(vt,J.startTime-rt),yt=!1}}break t}finally{S=null,C=dt,O=!1}yt=void 0}}finally{yt?I():ht=!1}}}var I;if(typeof et=="function")I=function(){et(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=V,I=function(){D.postMessage(null)}}else I=function(){H(V,0)};function ye(){ht||(ht=!0,I())}function he(rt,yt){wt=H(function(){rt(a.unstable_now())},yt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(rt){rt.callback=null},a.unstable_continueExecution=function(){P||O||(P=!0,ye())},a.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<rt?Math.floor(1e3/rt):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(rt){switch(C){case 1:case 2:case 3:var yt=3;break;default:yt=C}var dt=C;C=yt;try{return rt()}finally{C=dt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(rt,yt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var dt=C;C=rt;try{return yt()}finally{C=dt}},a.unstable_scheduleCallback=function(rt,yt,dt){var Ht=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ht+dt:Ht):dt=Ht,rt){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=dt+x,rt={id:T++,callback:yt,priorityLevel:rt,startTime:dt,expirationTime:x,sortIndex:-1},dt>Ht?(rt.sortIndex=dt,e(y,rt),i(p)===null&&rt===i(y)&&(K?(X(wt),wt=-1):K=!0,he(vt,dt-Ht))):(rt.sortIndex=x,e(p,rt),P||O||(P=!0,ye())),rt},a.unstable_shouldYield=b,a.unstable_wrapCallback=function(rt){var yt=C;return function(){var dt=C;C=yt;try{return rt.apply(this,arguments)}finally{C=dt}}}}(Pf)),Pf}var _y;function TT(){return _y||(_y=1,zf.exports=ET()),zf.exports}var Bf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function AT(){if(vy)return Ge;vy=1;var a=Td();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(p,y,null,T)},Ge.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:O}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var Ey;function bT(){if(Ey)return Bf.exports;Ey=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Bf.exports=AT(),Bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function ST(){if(Ty)return Gl;Ty=1;var a=TT(),e=Td(),i=bT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),tt=Symbol.for("react.offscreen"),vt=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function wt(t){return t===null||typeof t!="object"?null:(t=ht&&t[ht]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case T:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case P:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return n=t.displayName||null,n!==null?n:w(t.type)||"Memo";case et:n=t._payload,t=t._init;try{return w(t(n))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,I,z;function D(t){if(I===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||"",z=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+t+z}var ye=!1;function he(t,n){if(!t||ye)return"";ye=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var j=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){j=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){j=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),U=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===U.length)for(l=R.length-1,c=U.length-1;1<=l&&0<=c&&R[l]!==U[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==U[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==U[c]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{ye=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?D(r):""}function rt(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function yt(t){try{var n="";do n+=rt(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function dt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Ht(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function x(t){if(dt(t)!==t)throw Error(s(188))}function J(t){var n=t.alternate;if(!n){if(n=dt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return x(c),t;if(f===l)return x(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===r){v=!0,r=c,l=f;break}if(E===l){v=!0,l=c,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,l=c;break}if(E===l){v=!0,l=f,r=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ct(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ct(t),n!==null)return n;t=t.sibling}return null}var at=Array.isArray,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},bt=[],fe=-1;function zt(t){return{current:t}}function ie(t){0>fe||(t.current=bt[fe],bt[fe]=null,fe--)}function Ft(t,n){fe++,bt[fe]=t.current,t.current=n}var Ye=zt(null),ci=zt(null),dn=zt(null),ji=zt(null);function Hi(t,n){switch(Ft(dn,n),Ft(ci,t),Ft(Ye,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Hp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=Hp(t),n=qp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ye),Ft(Ye,n)}function hi(){ie(Ye),ie(ci),ie(dn)}function zs(t){t.memoizedState!==null&&Ft(ji,t);var n=Ye.current,r=qp(n,t.type);n!==r&&(Ft(ci,t),Ft(Ye,r))}function Ca(t){ci.current===t&&(ie(Ye),ie(ci)),ji.current===t&&(ie(ji),zl._currentValue=Rt)}var Da=Object.prototype.hasOwnProperty,zr=a.unstable_scheduleCallback,Va=a.unstable_cancelCallback,Lc=a.unstable_shouldYield,Ps=a.unstable_requestPaint,tn=a.unstable_now,To=a.unstable_getCurrentPriorityLevel,_e=a.unstable_ImmediatePriority,Ce=a.unstable_UserBlockingPriority,fi=a.unstable_NormalPriority,Ao=a.unstable_LowPriority,Bs=a.unstable_IdlePriority,kc=a.log,Pr=a.unstable_setDisableYieldValue,qi=null,He=null;function js(t){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(qi,t,void 0,(t.current.flags&128)===128)}catch{}}function Bn(t){if(typeof kc=="function"&&Pr(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(qi,t)}catch{}}var Xe=Math.clz32?Math.clz32:So,Hs=Math.log,bo=Math.LN2;function So(t){return t>>>=0,t===0?32:31-(Hs(t)/bo|0)|0}var jn=128,Gi=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Nn(r):(f&=E,f!==0?l=Nn(f):t||(v=E&~v,v!==0&&(l=Nn(v))))):(E=r&~c,E!==0?l=Nn(E):f!==0?l=Nn(f):t||(v=r&~v,v!==0&&(l=Nn(v)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,v=n&-n,c>=v||c===32&&(v&4194176)!==0)?n:l}function Fi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xa(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qs(){var t=jn;return jn<<=1,!(jn&4194176)&&(jn=128),t}function Qi(){var t=Gi;return Gi<<=1,!(Gi&62914560)&&(Gi=4194304),t}function Na(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ro(t,n,r,l,c,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,U=t.hiddenUpdates;for(r=v&~r;0<r;){var Q=31-Xe(r),Z=1<<Q;E[Q]=0,R[Q]=-1;var j=U[Q];if(j!==null)for(U[Q]=null,Q=0;Q<j.length;Q++){var F=j[Q];F!==null&&(F.lane&=-536870913)}r&=~Z}l!==0&&Ki(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Ki(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Yi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Xe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function wo(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Co(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:ly(t.type))}function Xi(t,n){var r=st.p;try{return st.p=t,n()}finally{st.p=r}}var Hn=Math.random().toString(36).slice(2),De="__reactFiber$"+Hn,ve="__reactProps$"+Hn,di="__reactContainer$"+Hn,Br="__reactEvents$"+Hn,Oa="__reactListeners$"+Hn,qn="__reactHandles$"+Hn,Gs="__reactResources$"+Hn,$i="__reactMarker$"+Hn;function jr(t){delete t[De],delete t[ve],delete t[Br],delete t[Oa],delete t[qn]}function On(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[di]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Qp(t);t!==null;){if(r=t[De])return r;t=Qp(t)}return n}t=r,r=t.parentNode}return null}function mi(t){if(t=t[De]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Zi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Wi(t){var n=t[Gs];return n||(n=t[Gs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(t){t[$i]=!0}var Fs=new Set,Ia={};function an(t,n){en(t,n),en(t+"Capture",n)}function en(t,n){for(Ia[t]=n,t=0;t<n.length;t++)Fs.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qs={},Ks={};function Do(t){return Da.call(Ks,t)?!0:Da.call(Qs,t)?!1:zc.test(t)?Ks[t]=!0:(Qs[t]=!0,!1)}function Ji(t,n,r){if(Do(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function tr(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function gn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pc(t){var n=Vo(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Hr(t){t._valueTracker||(t._valueTracker=Pc(t))}function Ys(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Vo(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ma(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gi=/[\n"\\]/g;function re(t){return t.replace(gi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function er(t,n,r,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Ua(t,v,$e(n)):r!=null?Ua(t,v,$e(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$e(E):t.removeAttribute("name")}function qr(t,n,r,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+$e(r):"",n=n!=null?""+$e(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ua(t,n,r){n==="number"&&Ma(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Pt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gr(t,n,r){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+$e(r):""}function nr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$e(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Bc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function xo(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Xs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Xs(t,f,n[f])}function $s(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gn(t){return Hc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yn=null;function La(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,yi=null;function _i(t){var n=mi(t);if(n&&(t=n.stateNode)){var r=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(er(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ve]||null;if(!c)throw Error(s(90));er(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ys(l)}break t;case"textarea":Gr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Pt(t,!!r.multiple,n,!1)}}}var Zs=!1;function No(t,n,r){if(Zs)return t(n,r);Zs=!0;try{var l=t(n);return l}finally{if(Zs=!1,(pi!==null||yi!==null)&&(Au(),pi&&(n=pi,t=yi,yi=pi=null,_i(n),t)))for(n=0;n<t.length;n++)_i(t[n])}}function Fr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ve]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var _n=!1;if(sn)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{_n=!1}var Fn=null,ir=null,vi=null;function Ws(){if(vi)return vi;var t,n=ir,r=n.length,l,c="value"in Fn?Fn.value:Fn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===c[f-l];l++);return vi=c.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function Js(){return!1}function Ve(t){function n(r,l,c,f,v){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:Js,this.isPropagationStopped=Js,this}return V(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=Ve(qt),Kr=V({},qt,{view:0,detail:0}),Oo=Ve(Kr),za,Pa,Yn,Yr=V({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(za=t.screenX-Yn.screenX,Pa=t.screenY-Yn.screenY):Pa=za=0,Yn=t),za)},movementY:function(t){return"movementY"in t?t.movementY:Pa}}),vn=Ve(Yr),Io=V({},Yr,{dataTransfer:0}),qc=Ve(Io),Xr=V({},Kr,{relatedTarget:0}),Ba=Ve(Xr),tl=V({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Ve(tl),Mo=V({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ha=Ve(Mo),Gc=V({},qt,{data:0}),el=Ve(Gc),$r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lo[t])?!!n[t]:!1}function Zr(){return nl}var ko=V({},Kr,{key:function(t){if(t.key){var n=$r[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qa=Ve(ko),zo=V({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Ve(zo),Ei=V({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),Po=Ve(Ei),Bo=V({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),jo=Ve(Bo),Ho=V({},Yr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=Ve(Ho),Ze=V({},qt,{newState:0,oldState:0}),qo=Ve(Ze),Go=[9,13,27,32],Xn=sn&&"CompositionEvent"in window,u=null;sn&&"documentMode"in document&&(u=document.documentMode);var m=sn&&"TextEvent"in window&&!u,_=sn&&(!Xn||u&&8<u&&11>=u),A=" ",k=!1;function q(t,n){switch(t){case"keyup":return Go.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function Ee(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(k=!0,A);case"textInput":return t=n.data,t===A&&k?null:t;default:return null}}function Mt(t,n){if(It)return t==="compositionend"||!Xn&&q(t,n)?(t=Ws(),vi=ir=Fn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xe[t.type]:n==="textarea"}function Ti(t,n,r,l){pi?yi?yi.push(l):yi=[l]:pi=l,n=Cu(n,"onChange"),0<n.length&&(r=new ka("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,$n=null;function rl(t){kp(t,0)}function Fo(t){var n=Zi(t);if(Ys(n))return t}function fm(t,n){if(t==="change")return n}var dm=!1;if(sn){var Fc;if(sn){var Qc="oninput"in document;if(!Qc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Qc=typeof mm.oninput=="function"}Fc=Qc}else Fc=!1;dm=Fc&&(!document.documentMode||9<document.documentMode)}function gm(){Ue&&(Ue.detachEvent("onpropertychange",pm),$n=Ue=null)}function pm(t){if(t.propertyName==="value"&&Fo($n)){var n=[];Ti(n,$n,t,La(t)),No(rl,n)}}function Q0(t,n,r){t==="focusin"?(gm(),Ue=n,$n=r,Ue.attachEvent("onpropertychange",pm)):t==="focusout"&&gm()}function K0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo($n)}function Y0(t,n){if(t==="click")return Fo(n)}function X0(t,n){if(t==="input"||t==="change")return Fo(n)}function $0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:$0;function al(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Da.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function ym(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _m(t,n){var r=ym(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ym(r)}}function vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ma(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ma(t.document)}return n}function Kc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Z0(t,n){var r=Em(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&vm(n.ownerDocument.documentElement,n)){if(l!==null&&Kc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=_m(n,f);var v=_m(n,l);c&&v&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var W0=sn&&"documentMode"in document&&11>=document.documentMode,Fa=null,Yc=null,sl=null,Xc=!1;function Tm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xc||Fa==null||Fa!==Ma(l)||(l=Fa,"selectionStart"in l&&Kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&al(sl,l)||(sl=l,l=Cu(Yc,"onSelect"),0<l.length&&(n=new ka("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Fa)))}function Wr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Qa={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},$c={},Am={};sn&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Jr(t){if($c[t])return $c[t];if(!Qa[t])return t;var n=Qa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Am)return $c[t]=n[r];return t}var bm=Jr("animationend"),Sm=Jr("animationiteration"),Rm=Jr("animationstart"),J0=Jr("transitionrun"),tE=Jr("transitionstart"),eE=Jr("transitioncancel"),wm=Jr("transitionend"),Cm=new Map,Dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function In(t,n){Cm.set(t,n),an(n,[t])}var En=[],Ka=0,Zc=0;function Qo(){for(var t=Ka,n=Zc=Ka=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&Vm(r,c,f)}}function Ko(t,n,r,l){En[Ka++]=t,En[Ka++]=n,En[Ka++]=r,En[Ka++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wc(t,n,r,l){return Ko(t,n,r,l),Yo(t)}function rr(t,n){return Ko(t,null,null,n),Yo(t)}function Vm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Xe(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Yo(t){if(50<Nl)throw Nl=0,af=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ya={},xm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=xm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:yt(n)},xm.set(t,n),n)}return{value:t,source:n,stack:yt(n)}}var Xa=[],$a=0,Xo=null,$o=0,An=[],bn=0,ta=null,Ai=1,bi="";function ea(t,n){Xa[$a++]=$o,Xa[$a++]=Xo,Xo=t,$o=n}function Nm(t,n,r){An[bn++]=Ai,An[bn++]=bi,An[bn++]=ta,ta=t;var l=Ai;t=bi;var c=32-Xe(l)-1;l&=~(1<<c),r+=1;var f=32-Xe(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ai=1<<32-Xe(n)+c|r<<c|l,bi=f+t}else Ai=1<<f|r<<c|l,bi=t}function Jc(t){t.return!==null&&(ea(t,1),Nm(t,1,0))}function th(t){for(;t===Xo;)Xo=Xa[--$a],Xa[$a]=null,$o=Xa[--$a],Xa[$a]=null;for(;t===ta;)ta=An[--bn],An[bn]=null,bi=An[--bn],An[bn]=null,Ai=An[--bn],An[bn]=null}var We=null,Le=null,Bt=!1,Mn=null,Zn=!1,eh=Error(s(519));function na(t){var n=Error(s(418,""));throw ul(Tn(n,t)),eh}function Om(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[ve]=l,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<Il.length;r++)Nt(Il[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),qr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Hr(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),nr(n,l.value,l.defaultValue,l.children),Hr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||jp(n.textContent,r)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Du),n=!0):n=!1,n||na(t)}function Im(t){for(We=t.return;We;)switch(We.tag){case 3:case 27:Zn=!0;return;case 5:case 13:Zn=!1;return;default:We=We.return}}function ll(t){if(t!==We)return!1;if(!Bt)return Im(t),Bt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Af(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Le&&na(t),Im(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Le=Ln(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Le=null}}else Le=We?Ln(t.stateNode.nextSibling):null;return!0}function ol(){Le=We=null,Bt=!1}function ul(t){Mn===null?Mn=[t]:Mn.push(t)}var cl=Error(s(460)),Mm=Error(s(474)),nh={then:function(){}};function Um(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zo(){}function Lm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Zo,Zo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===cl?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Zo,Zo);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===cl?Error(s(483)):t}throw hl=n,cl}}var hl=null;function km(){if(hl===null)throw Error(s(459));var t=hl;return hl=null,t}var Za=null,fl=0;function Wo(t){var n=fl;return fl+=1,Za===null&&(Za=[]),Lm(Za,t,n)}function dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Jo(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zm(t){var n=t._init;return n(t._payload)}function Pm(t){function n(L,N){if(t){var B=L.deletions;B===null?(L.deletions=[N],L.flags|=16):B.push(N)}}function r(L,N){if(!t)return null;for(;N!==null;)n(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function c(L,N){return L=pr(L,N),L.index=0,L.sibling=null,L}function f(L,N,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<N?(L.flags|=33554434,N):B):(L.flags|=33554434,N)):(L.flags|=1048576,N)}function v(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function E(L,N,B,Y){return N===null||N.tag!==6?(N=$h(B,L.mode,Y),N.return=L,N):(N=c(N,B),N.return=L,N)}function R(L,N,B,Y){var ot=B.type;return ot===p?Q(L,N,B.props.children,Y,B.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===et&&zm(ot)===N.type)?(N=c(N,B.props),dl(N,B),N.return=L,N):(N=yu(B.type,B.key,B.props,null,L.mode,Y),dl(N,B),N.return=L,N)}function U(L,N,B,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Zh(B,L.mode,Y),N.return=L,N):(N=c(N,B.children||[]),N.return=L,N)}function Q(L,N,B,Y,ot){return N===null||N.tag!==7?(N=fa(B,L.mode,Y,ot),N.return=L,N):(N=c(N,B),N.return=L,N)}function Z(L,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=$h(""+N,L.mode,B),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return B=yu(N.type,N.key,N.props,null,L.mode,B),dl(B,N),B.return=L,B;case g:return N=Zh(N,L.mode,B),N.return=L,N;case et:var Y=N._init;return N=Y(N._payload),Z(L,N,B)}if(at(N)||wt(N))return N=fa(N,L.mode,B,null),N.return=L,N;if(typeof N.then=="function")return Z(L,Wo(N),B);if(N.$$typeof===O)return Z(L,mu(L,N),B);Jo(L,N)}return null}function j(L,N,B,Y){var ot=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ot!==null?null:E(L,N,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===ot?R(L,N,B,Y):null;case g:return B.key===ot?U(L,N,B,Y):null;case et:return ot=B._init,B=ot(B._payload),j(L,N,B,Y)}if(at(B)||wt(B))return ot!==null?null:Q(L,N,B,Y,null);if(typeof B.then=="function")return j(L,N,Wo(B),Y);if(B.$$typeof===O)return j(L,N,mu(L,B),Y);Jo(L,B)}return null}function F(L,N,B,Y,ot){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(B)||null,E(N,L,""+Y,ot);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case d:return L=L.get(Y.key===null?B:Y.key)||null,R(N,L,Y,ot);case g:return L=L.get(Y.key===null?B:Y.key)||null,U(N,L,Y,ot);case et:var Dt=Y._init;return Y=Dt(Y._payload),F(L,N,B,Y,ot)}if(at(Y)||wt(Y))return L=L.get(B)||null,Q(N,L,Y,ot,null);if(typeof Y.then=="function")return F(L,N,B,Wo(Y),ot);if(Y.$$typeof===O)return F(L,N,B,mu(N,Y),ot);Jo(N,Y)}return null}function ut(L,N,B,Y){for(var ot=null,Dt=null,ft=N,pt=N=0,Ie=null;ft!==null&&pt<B.length;pt++){ft.index>pt?(Ie=ft,ft=null):Ie=ft.sibling;var jt=j(L,ft,B[pt],Y);if(jt===null){ft===null&&(ft=Ie);break}t&&ft&&jt.alternate===null&&n(L,ft),N=f(jt,N,pt),Dt===null?ot=jt:Dt.sibling=jt,Dt=jt,ft=Ie}if(pt===B.length)return r(L,ft),Bt&&ea(L,pt),ot;if(ft===null){for(;pt<B.length;pt++)ft=Z(L,B[pt],Y),ft!==null&&(N=f(ft,N,pt),Dt===null?ot=ft:Dt.sibling=ft,Dt=ft);return Bt&&ea(L,pt),ot}for(ft=l(ft);pt<B.length;pt++)Ie=F(ft,L,pt,B[pt],Y),Ie!==null&&(t&&Ie.alternate!==null&&ft.delete(Ie.key===null?pt:Ie.key),N=f(Ie,N,pt),Dt===null?ot=Ie:Dt.sibling=Ie,Dt=Ie);return t&&ft.forEach(function(br){return n(L,br)}),Bt&&ea(L,pt),ot}function Tt(L,N,B,Y){if(B==null)throw Error(s(151));for(var ot=null,Dt=null,ft=N,pt=N=0,Ie=null,jt=B.next();ft!==null&&!jt.done;pt++,jt=B.next()){ft.index>pt?(Ie=ft,ft=null):Ie=ft.sibling;var br=j(L,ft,jt.value,Y);if(br===null){ft===null&&(ft=Ie);break}t&&ft&&br.alternate===null&&n(L,ft),N=f(br,N,pt),Dt===null?ot=br:Dt.sibling=br,Dt=br,ft=Ie}if(jt.done)return r(L,ft),Bt&&ea(L,pt),ot;if(ft===null){for(;!jt.done;pt++,jt=B.next())jt=Z(L,jt.value,Y),jt!==null&&(N=f(jt,N,pt),Dt===null?ot=jt:Dt.sibling=jt,Dt=jt);return Bt&&ea(L,pt),ot}for(ft=l(ft);!jt.done;pt++,jt=B.next())jt=F(ft,L,pt,jt.value,Y),jt!==null&&(t&&jt.alternate!==null&&ft.delete(jt.key===null?pt:jt.key),N=f(jt,N,pt),Dt===null?ot=jt:Dt.sibling=jt,Dt=jt);return t&&ft.forEach(function(gT){return n(L,gT)}),Bt&&ea(L,pt),ot}function le(L,N,B,Y){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var ot=B.key;N!==null;){if(N.key===ot){if(ot=B.type,ot===p){if(N.tag===7){r(L,N.sibling),Y=c(N,B.props.children),Y.return=L,L=Y;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===et&&zm(ot)===N.type){r(L,N.sibling),Y=c(N,B.props),dl(Y,B),Y.return=L,L=Y;break t}r(L,N);break}else n(L,N);N=N.sibling}B.type===p?(Y=fa(B.props.children,L.mode,Y,B.key),Y.return=L,L=Y):(Y=yu(B.type,B.key,B.props,null,L.mode,Y),dl(Y,B),Y.return=L,L=Y)}return v(L);case g:t:{for(ot=B.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){r(L,N.sibling),Y=c(N,B.children||[]),Y.return=L,L=Y;break t}else{r(L,N);break}else n(L,N);N=N.sibling}Y=Zh(B,L.mode,Y),Y.return=L,L=Y}return v(L);case et:return ot=B._init,B=ot(B._payload),le(L,N,B,Y)}if(at(B))return ut(L,N,B,Y);if(wt(B)){if(ot=wt(B),typeof ot!="function")throw Error(s(150));return B=ot.call(B),Tt(L,N,B,Y)}if(typeof B.then=="function")return le(L,N,Wo(B),Y);if(B.$$typeof===O)return le(L,N,mu(L,B),Y);Jo(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(r(L,N.sibling),Y=c(N,B),Y.return=L,L=Y):(r(L,N),Y=$h(B,L.mode,Y),Y.return=L,L=Y),v(L)):r(L,N)}return function(L,N,B,Y){try{fl=0;var ot=le(L,N,B,Y);return Za=null,ot}catch(ft){if(ft===cl)throw ft;var Dt=Cn(29,ft,null,L.mode);return Dt.lanes=Y,Dt.return=L,Dt}finally{}}}var ia=Pm(!0),Bm=Pm(!1),Wa=zt(null),tu=zt(0);function jm(t,n){t=Mi,Ft(tu,t),Ft(Wa,n),Mi=t|n.baseLanes}function ih(){Ft(tu,Mi),Ft(Wa,Wa.current)}function rh(){Mi=tu.current,ie(Wa),ie(tu)}var Sn=zt(null),Wn=null;function ar(t){var n=t.alternate;Ft(Ae,Ae.current&1),Ft(Sn,t),Wn===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(Wn=t)}function Hm(t){if(t.tag===22){if(Ft(Ae,Ae.current),Ft(Sn,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else sr()}function sr(){Ft(Ae,Ae.current),Ft(Sn,Sn.current)}function Si(t){ie(Sn),Wn===t&&(Wn=null),ie(Ae)}var Ae=zt(0);function eu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},iE=a.unstable_scheduleCallback,rE=a.unstable_NormalPriority,be={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ah(){return{controller:new nE,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&iE(rE,function(){t.controller.abort()})}var gl=null,sh=0,Ja=0,ts=null;function aE(t,n){if(gl===null){var r=gl=[];sh=0,Ja=df(),ts={status:"pending",value:void 0,then:function(l){r.push(l)}}}return sh++,n.then(qm,qm),n}function qm(){if(--sh===0&&gl!==null){ts!==null&&(ts.status="fulfilled");var t=gl;gl=null,Ja=0,ts=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function sE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Gm=b.S;b.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&aE(t,n),Gm!==null&&Gm(t,n)};var ra=zt(null);function lh(){var t=ra.current;return t!==null?t:Xt.pooledCache}function nu(t,n){n===null?Ft(ra,ra.current):Ft(ra,n.pool)}function Fm(){var t=lh();return t===null?null:{parent:be._currentValue,pool:t}}var lr=0,Ct=null,Qt=null,de=null,iu=!1,es=!1,aa=!1,ru=0,pl=0,ns=null,lE=0;function ue(){throw Error(s(321))}function oh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function uh(t,n,r,l,c,f){return lr=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=t===null||t.memoizedState===null?sa:or,aa=!1,f=r(l,c),aa=!1,es&&(f=Km(n,r,l,c)),Qm(t),f}function Qm(t){b.H=Jn;var n=Qt!==null&&Qt.next!==null;if(lr=0,de=Qt=Ct=null,iu=!1,pl=0,ns=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&du(t)&&(Ne=!0))}function Km(t,n,r,l){Ct=t;var c=0;do{if(es&&(ns=null),pl=0,es=!1,25<=c)throw Error(s(301));if(c+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}b.H=la,f=n(r,l)}while(es);return f}function oE(){var t=b.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function ch(){var t=ru!==0;return ru=0,t}function hh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function fh(t){if(iu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}iu=!1}lr=0,de=Qt=Ct=null,es=!1,pl=ru=0,ns=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ct.memoizedState=de=t:de=de.next=t}return de}var au;au=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function yl(t){var n=pl;return pl+=1,ns===null&&(ns=[]),t=Lm(ns,t,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?sa:or),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===O)return qe(t)}throw Error(s(438,String(t)))}function dh(t){var n=null,r=Ct.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=au(),Ct.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=vt;return n.index++,r}function Ri(t,n){return typeof n=="function"?n(t):n}function lu(t){var n=me();return mh(n,Qt,t)}function mh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,R=null,U=n,Q=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(Ut&Z)===Z:(lr&Z)===Z){var j=U.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===Ja&&(Q=!0);else if((lr&j)===j){U=U.next,j===Ja&&(Q=!0);continue}else Z={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(E=R=Z,v=f):R=R.next=Z,Ct.lanes|=j,yr|=j;Z=U.action,aa&&r(f,Z),f=U.hasEagerState?U.eagerState:r(f,Z)}else j={lane:Z,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(E=R=j,v=f):R=R.next=j,Ct.lanes|=Z,yr|=Z;U=U.next}while(U!==null&&U!==n);if(R===null?v=f:R.next=E,!ln(f,t.memoizedState)&&(Ne=!0,Q&&(r=ts,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gh(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Ym(t,n,r){var l=Ct,c=me(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!ln((Qt||c).memoizedState,r);if(v&&(c.memoizedState=r,Ne=!0),c=c.queue,_h(Zm.bind(null,l,c,t),[t]),c.getSnapshot!==n||v||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,is(9,$m.bind(null,l,c,r,n),{destroy:void 0},null),Xt===null)throw Error(s(349));f||lr&60||Xm(l,n,r)}return r}function Xm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ct.updateQueue,n===null?(n=au(),Ct.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function $m(t,n,r,l){n.value=r,n.getSnapshot=l,Wm(n)&&Jm(t)}function Zm(t,n,r){return r(function(){Wm(n)&&Jm(t)})}function Wm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function Jm(t){var n=rr(t,2);n!==null&&Je(n,t,2)}function ph(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),aa){Bn(!0);try{r()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function tg(t,n,r,l){return t.baseState=r,mh(t,Qt,typeof l=="function"?l:Ri)}function uE(t,n,r,l,c){if(cu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};b.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,eg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function eg(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=b.T,v={};b.T=v;try{var E=r(c,l),R=b.S;R!==null&&R(v,E),ng(t,n,E)}catch(U){yh(t,n,U)}finally{b.T=f}}else try{f=r(c,l),ng(t,n,f)}catch(U){yh(t,n,U)}}function ng(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){ig(t,n,l)},function(l){return yh(t,n,l)}):ig(t,n,r)}function ig(t,n,r){n.status="fulfilled",n.value=r,rg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,eg(t,r)))}function yh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,rg(n),n=n.next;while(n!==l)}t.action=null}function rg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ag(t,n){return n}function sg(t,n){if(Bt){var r=Xt.formState;if(r!==null){t:{var l=Ct;if(Bt){if(Le){e:{for(var c=Le,f=Zn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Ln(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Le=Ln(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},r.queue=l,r=Sg.bind(null,Ct,l),l.dispatch=r,l=ph(!1),f=bh.bind(null,Ct,!1,l.queue),l=nn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=uE.bind(null,Ct,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function lg(t){var n=me();return og(n,Qt,t)}function og(t,n,r){n=mh(t,n,ag)[0],t=lu(Ri)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?yl(n):n;var l=me(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(Ct.flags|=2048,is(9,cE.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function cE(t,n){t.action=n}function ug(t){var n=me(),r=Qt;if(r!==null)return og(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function is(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=au(),Ct.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function cg(){return me().memoizedState}function ou(t,n,r,l){var c=nn();Ct.flags|=t,c.memoizedState=is(1|n,r,{destroy:void 0},l===void 0?null:l)}function uu(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&oh(l,Qt.memoizedState.deps)?c.memoizedState=is(n,r,f,l):(Ct.flags|=t,c.memoizedState=is(1|n,r,f,l))}function hg(t,n){ou(8390656,8,t,n)}function _h(t,n){uu(2048,8,t,n)}function fg(t,n){return uu(4,2,t,n)}function dg(t,n){return uu(4,4,t,n)}function mg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function gg(t,n,r){r=r!=null?r.concat([t]):null,uu(4,4,mg.bind(null,n,t),r)}function vh(){}function pg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&oh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function yg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&oh(n,l[1]))return l[0];if(l=t(),aa){Bn(!0);try{t()}finally{Bn(!1)}}return r.memoizedState=[l,n],l}function Eh(t,n,r){return r===void 0||lr&1073741824?t.memoizedState=n:(t.memoizedState=r,t=vp(),Ct.lanes|=t,yr|=t,r)}function _g(t,n,r,l){return ln(r,n)?r:Wa.current!==null?(t=Eh(t,r,l),ln(t,n)||(Ne=!0),t):lr&42?(t=vp(),Ct.lanes|=t,yr|=t,n):(Ne=!0,t.memoizedState=r)}function vg(t,n,r,l,c){var f=st.p;st.p=f!==0&&8>f?f:8;var v=b.T,E={};b.T=E,bh(t,!1,n,r);try{var R=c(),U=b.S;if(U!==null&&U(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=sE(R,l);_l(t,n,Q,hn(t))}else _l(t,n,l,hn(t))}catch(Z){_l(t,n,{then:function(){},status:"rejected",reason:Z},hn())}finally{st.p=f,b.T=v}}function hE(){}function Th(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Eg(t).queue;vg(t,c,n,Rt,r===null?hE:function(){return Tg(t),r(l)})}function Eg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:Rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Tg(t){var n=Eg(t).next.queue;_l(t,n,{},hn())}function Ah(){return qe(zl)}function Ag(){return me().memoizedState}function bg(){return me().memoizedState}function fE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=hr(r);var l=fr(n,t,r);l!==null&&(Je(l,n,r),Tl(l,n,r)),n={cache:ah()},t.payload=n;return}n=n.return}}function dE(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},cu(t)?Rg(n,r):(r=Wc(t,n,r,l),r!==null&&(Je(r,t,l),wg(r,n,l)))}function Sg(t,n,r){var l=hn();_l(t,n,r,l)}function _l(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(cu(t))Rg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,v))return Ko(t,n,c,0),Xt===null&&Qo(),!1}catch{}finally{}if(r=Wc(t,n,c,l),r!==null)return Je(r,t,l),wg(r,n,l),!0}return!1}function bh(t,n,r,l){if(l={lane:2,revertLane:df(),action:l,hasEagerState:!1,eagerState:null,next:null},cu(t)){if(n)throw Error(s(479))}else n=Wc(t,r,l,2),n!==null&&Je(n,t,2)}function cu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function Rg(t,n){es=iu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function wg(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Yi(t,r)}}var Jn={readContext:qe,use:su,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};Jn.useCacheRefresh=ue,Jn.useMemoCache=ue,Jn.useHostTransitionStatus=ue,Jn.useFormState=ue,Jn.useActionState=ue,Jn.useOptimistic=ue;var sa={readContext:qe,use:su,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:hg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ou(4194308,4,mg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ou(4194308,4,t,n)},useInsertionEffect:function(t,n){ou(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(aa){Bn(!0);try{t()}finally{Bn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var c=r(n);if(aa){Bn(!0);try{r(n)}finally{Bn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=dE.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=ph(t);var n=t.queue,r=Sg.bind(null,Ct,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:vh,useDeferredValue:function(t,n){var r=nn();return Eh(r,t,n)},useTransition:function(){var t=ph(!1);return t=vg.bind(null,Ct,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ct,c=nn();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Xt===null)throw Error(s(349));Ut&60||Xm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,hg(Zm.bind(null,l,f,t),[t]),l.flags|=2048,is(9,$m.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=nn(),n=Xt.identifierPrefix;if(Bt){var r=bi,l=Ai;r=(l&~(1<<32-Xe(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=ru++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=lE++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=fE.bind(null,Ct)}};sa.useMemoCache=dh,sa.useHostTransitionStatus=Ah,sa.useFormState=sg,sa.useActionState=sg,sa.useOptimistic=function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=bh.bind(null,Ct,!0,r),r.dispatch=n,[t,n]};var or={readContext:qe,use:su,useCallback:pg,useContext:qe,useEffect:_h,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:lu,useRef:cg,useState:function(){return lu(Ri)},useDebugValue:vh,useDeferredValue:function(t,n){var r=me();return _g(r,Qt.memoizedState,t,n)},useTransition:function(){var t=lu(Ri)[0],n=me().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Ym,useId:Ag};or.useCacheRefresh=bg,or.useMemoCache=dh,or.useHostTransitionStatus=Ah,or.useFormState=lg,or.useActionState=lg,or.useOptimistic=function(t,n){var r=me();return tg(r,Qt,t,n)};var la={readContext:qe,use:su,useCallback:pg,useContext:qe,useEffect:_h,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:gh,useRef:cg,useState:function(){return gh(Ri)},useDebugValue:vh,useDeferredValue:function(t,n){var r=me();return Qt===null?Eh(r,t,n):_g(r,Qt.memoizedState,t,n)},useTransition:function(){var t=gh(Ri)[0],n=me().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Ym,useId:Ag};la.useCacheRefresh=bg,la.useMemoCache=dh,la.useHostTransitionStatus=Ah,la.useFormState=ug,la.useActionState=ug,la.useOptimistic=function(t,n){var r=me();return Qt!==null?tg(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Sh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:V({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Rh={isMounted:function(t){return(t=t._reactInternals)?dt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=hr(l);c.payload=n,r!=null&&(c.callback=r),n=fr(t,c,l),n!==null&&(Je(n,t,l),Tl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=hr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=fr(t,c,l),n!==null&&(Je(n,t,l),Tl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=hr(r);l.tag=2,n!=null&&(l.callback=n),n=fr(t,l,r),n!==null&&(Je(n,t,r),Tl(n,t,r))}};function Cg(t,n,r,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!al(r,l)||!al(c,f):!0}function Dg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Rh.enqueueReplaceState(n,n.state,null)}function oa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=V({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vg(t){hu(t)}function xg(t){console.error(t)}function Ng(t){hu(t)}function fu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wh(t,n,r){return r=hr(r),r.tag=3,r.payload={element:null},r.callback=function(){fu(t,n)},r}function Ig(t){return t=hr(t),t.tag=3,t}function Mg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Og(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Og(n,r,l),typeof c!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function mE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&El(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Wn===null?of():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===nh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),cf(t,l,c)),!1;case 22:return r.flags|=65536,l===nh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),cf(t,l,c)),!1}throw Error(s(435,r.tag))}return cf(t,l,c),of(),!1}if(Bt)return n=Sn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==eh&&(t=Error(s(422),{cause:l}),ul(Tn(t,r)))):(l!==eh&&(n=Error(s(423),{cause:l}),ul(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=wh(t.stateNode,l,c),jh(t,c),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,r),Vl===null?Vl=[f]:Vl.push(f),se!==4&&(se=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=wh(r.stateNode,l,t),jh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_r===null||!_r.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Ig(c),Mg(c,t,r,l),jh(r,c),!1}r=r.return}while(r!==null);return!1}var Ug=Error(s(461)),Ne=!1;function ke(t,n,r,l){n.child=t===null?Bm(n,null,r,l):ia(n,t.child,r,l)}function Lg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ca(n),l=uh(t,n,r,v,f,c),E=ch(),t!==null&&!Ne?(hh(t,n,c),wi(t,n,c)):(Bt&&E&&Jc(n),n.flags|=1,ke(t,n,l,c),n.child)}function kg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,zg(t,n,f,l,c)):(t=yu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uh(t,c)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:al,r(v,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=pr(f,l),t.ref=n.ref,t.return=n,n.child=t}function zg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(al(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Uh(t,c))t.flags&131072&&(Ne=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Ch(t,n,r,l,c)}function Pg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(vl(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=v!==null?v.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Bg(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&nu(n,v!==null?v.cachePool:null),v!==null?jm(n,v):ih(),Hm(n);else return n.lanes=n.childLanes=536870912,Bg(t,n,v!==null?v.baseLanes|r:r,r)}else v!==null?(nu(n,v.cachePool),jm(n,v),sr(),n.memoizedState=null):(t!==null&&nu(n,null),ih(),sr());return ke(t,n,c,r),n.child}function Bg(t,n,r,l){var c=lh();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&nu(n,null),ih(),Hm(n),t!==null&&El(t,n,l,!0),null}function vl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Ch(t,n,r,l,c){return ca(n),r=uh(t,n,r,l,void 0,c),l=ch(),t!==null&&!Ne?(hh(t,n,c),wi(t,n,c)):(Bt&&l&&Jc(n),n.flags|=1,ke(t,n,r,c),n.child)}function jg(t,n,r,l,c,f){return ca(n),n.updateQueue=null,r=Km(n,l,r,c),Qm(t),l=ch(),t!==null&&!Ne?(hh(t,n,f),wi(t,n,f)):(Bt&&l&&Jc(n),n.flags|=1,ke(t,n,r,f),n.child)}function Hg(t,n,r,l,c){if(ca(n),n.stateNode===null){var f=Ya,v=r.contextType;typeof v=="object"&&v!==null&&(f=qe(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ph(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?qe(v):Ya,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Sh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Rh.enqueueReplaceState(f,f.state,null),bl(n,l,f,c),Al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=oa(r,E);f.props=R;var U=f.context,Q=r.contextType;v=Ya,typeof Q=="object"&&Q!==null&&(v=qe(Q));var Z=r.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==v)&&Dg(n,f,l,v),cr=!1;var j=n.memoizedState;f.state=j,bl(n,l,f,c),Al(),U=n.memoizedState,E||j!==U||cr?(typeof Z=="function"&&(Sh(n,r,Z,l),U=n.memoizedState),(R=cr||Cg(n,r,R,l,j,U,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=v,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Bh(t,n),v=n.memoizedProps,Q=oa(r,v),f.props=Q,Z=n.pendingProps,j=f.context,U=r.contextType,R=Ya,typeof U=="object"&&U!==null&&(R=qe(U)),E=r.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||j!==R)&&Dg(n,f,l,R),cr=!1,j=n.memoizedState,f.state=j,bl(n,l,f,c),Al();var F=n.memoizedState;v!==Z||j!==F||cr||t!==null&&t.dependencies!==null&&du(t.dependencies)?(typeof E=="function"&&(Sh(n,r,E,l),F=n.memoizedState),(Q=cr||Cg(n,r,Q,l,j,F,R)||t!==null&&t.dependencies!==null&&du(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=R,l=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,vl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ia(n,t.child,null,c),n.child=ia(n,null,r,c)):ke(t,n,r,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function qg(t,n,r,l){return ol(),n.flags|=256,ke(t,n,r,l),n.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Vh(t){return{baseLanes:t,cachePool:Fm()}}function xh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Dn),t}function Gg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?ar(n):sr(),Bt){var E=Le,R;if(R=E){t:{for(R=E,E=Zn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Ln(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:ta!==null?{id:Ai,overflow:bi}:null,retryLane:536870912},R=Cn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,We=n,Le=null,R=!0):R=!1}R||na(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(sr(),c=n.mode,E=Oh({mode:"hidden",children:E},c),l=fa(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Vh(r),c.childLanes=xh(t,v,r),n.memoizedState=Dh,l):(ar(n),Nh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(ar(n),n.flags&=-257,n=Ih(t,n,r)):n.memoizedState!==null?(sr(),n.child=t.child,n.flags|=128,n=null):(sr(),c=l.fallback,E=n.mode,l=Oh({mode:"visible",children:l.children},E),c=fa(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ia(n,t.child,null,r),l=n.child,l.memoizedState=Vh(r),l.childLanes=xh(t,v,r),n.memoizedState=Dh,n=c);else if(ar(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),n=Ih(t,n,r)}else if(Ne||El(t,n,r,!1),v=(r&t.childLanes)!==0,Ne||v){if(v=Xt,v!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|r)?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,rr(t,l),Je(v,t,l),Ug}E.data==="$?"||of(),n=Ih(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=VE.bind(null,t),E._reactRetry=n,n=null):(t=R.treeContext,Le=Ln(E.nextSibling),We=n,Bt=!0,Mn=null,Zn=!1,t!==null&&(An[bn++]=Ai,An[bn++]=bi,An[bn++]=ta,Ai=t.id,bi=t.overflow,ta=n),n=Nh(n,l.children),n.flags|=4096);return n}return c?(sr(),c=l.fallback,E=n.mode,R=t.child,U=R.sibling,l=pr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,U!==null?c=pr(U,c):(c=fa(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Vh(r):(R=E.cachePool,R!==null?(U=be._currentValue,R=R.parent!==U?{parent:U,pool:U}:R):R=Fm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=xh(t,v,r),n.memoizedState=Dh,l):(ar(n),r=t.child,t=r.sibling,r=pr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Nh(t,n){return n=Oh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Oh(t,n){return pp(t,n,0,null)}function Ih(t,n,r){return ia(n,t.child,null,r),t=Nh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Fg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),kh(t.return,n,r)}function Mh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Qg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ke(t,n,l.children,r),l=Ae.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,r,n);else if(t.tag===19)Fg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&eu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Mh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&eu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Mh(n,!0,r,null,f);break;case"together":Mh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),yr|=n.lanes,!(r&n.childLanes))if(t!==null){if(El(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=pr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=pr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Uh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&du(t)))}function gE(t,n,r){switch(n.tag){case 3:Hi(n,n.stateNode.containerInfo),ur(n,be,t.memoizedState.cache),ol();break;case 27:case 5:zs(n);break;case 4:Hi(n,n.stateNode.containerInfo);break;case 10:ur(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ar(n),n.flags|=128,null):r&n.child.childLanes?Gg(t,n,r):(ar(n),t=wi(t,n,r),t!==null?t.sibling:null);ar(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(El(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Qg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ft(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Pg(t,n,r);case 24:ur(n,be,t.memoizedState.cache)}return wi(t,n,r)}function Kg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Uh(t,r)&&!(n.flags&128))return Ne=!1,gE(t,n,r);Ne=!!(t.flags&131072)}else Ne=!1,Bt&&n.flags&1048576&&Nm(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Xh(l)?(t=oa(l,t),n.tag=1,n=Hg(null,n,l,t,r)):(n.tag=0,n=Ch(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===P){n.tag=11,n=Lg(null,n,l,t,r);break t}else if(c===X){n.tag=14,n=kg(null,n,l,t,r);break t}}throw n=w(l)||l,Error(s(306,n,""))}}return n;case 0:return Ch(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=oa(l,n.pendingProps),Hg(t,n,l,c,r);case 3:t:{if(Hi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,Bh(t,n),bl(n,f,null,r);var v=n.memoizedState;if(f=v.cache,ur(n,be,f),f!==c.cache&&zh(n,[be],r,!0),Al(),f=v.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=qg(t,n,f,r);break t}else if(f!==l){l=Tn(Error(s(424)),n),ul(l),n=qg(t,n,f,r);break t}else for(Le=Ln(n.stateNode.containerInfo.firstChild),We=n,Bt=!0,Mn=null,Zn=!0,r=Bm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ol(),f===l){n=wi(t,n,r);break t}ke(t,n,f,r)}n=n.child}return n;case 26:return vl(t,n),t===null?(r=$p(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Vu(dn.current).createElement(r),l[De]=n,l[ve]=t,ze(l,r,t),Wt(l),n.stateNode=l):n.memoizedState=$p(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zs(n),t===null&&Bt&&(l=n.stateNode=Kp(n.type,n.pendingProps,dn.current),We=n,Zn=!0,Le=Ln(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?ke(t,n,l,r):n.child=ia(n,null,l,r),vl(t,n),n.child;case 5:return t===null&&Bt&&((c=l=Le)&&(l=FE(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,We=n,Le=Ln(l.firstChild),Zn=!1,c=!0):c=!1),c||na(n)),zs(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Af(c,f)?l=null:v!==null&&Af(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=uh(t,n,oE,null,null,r),zl._currentValue=c),vl(t,n),ke(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=Le)&&(r=QE(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,We=n,Le=null,t=!0):t=!1),t||na(n)),null;case 13:return Gg(t,n,r);case 4:return Hi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ia(n,null,l,r):ke(t,n,l,r),n.child;case 11:return Lg(t,n,n.type,n.pendingProps,r);case 7:return ke(t,n,n.pendingProps,r),n.child;case 8:return ke(t,n,n.pendingProps.children,r),n.child;case 12:return ke(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ur(n,n.type,l.value),ke(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ca(n),c=qe(c),l=l(c),n.flags|=1,ke(t,n,l,r),n.child;case 14:return kg(t,n,n.type,n.pendingProps,r);case 15:return zg(t,n,n.type,n.pendingProps,r);case 19:return Qg(t,n,r);case 22:return Pg(t,n,r);case 24:return ca(n),l=qe(be),t===null?(c=lh(),c===null&&(c=Xt,f=ah(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Ph(n),ur(n,be,c)):(t.lanes&r&&(Bh(t,n),bl(n,null,null,r),Al()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ur(n,be,l)):(l=f.cache,ur(n,be,l),l!==c.cache&&zh(n,[be],r,!0))),ke(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Lh=zt(null),ua=null,Ci=null;function ur(t,n,r){Ft(Lh,n._currentValue),n._currentValue=r}function Di(t){t._currentValue=Lh.current,ie(Lh)}function kh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function zh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),kh(f.return,r,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),kh(v,r,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function El(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;ln(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===ji.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}c=c.return}t!==null&&zh(n,t,r,l),n.flags|=262144}function du(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ca(t){ua=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Yg(ua,t)}function mu(t,n){return ua===null&&ca(t),Yg(t,n)}function Yg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ci===null){if(t===null)throw Error(s(308));Ci=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ci=Ci.next=n;return r}var cr=!1;function Ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function hr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,te&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Yo(t),Vm(t,null,r),n}return Ko(t,l,n,r),Yo(t)}function Tl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Yi(t,r)}}function jh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Hh=!1;function Al(){if(Hh){var t=ts;if(t!==null)throw t}}function bl(t,n,r,l){Hh=!1;var c=t.updateQueue;cr=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,U=R.next;R.next=null,v===null?f=U:v.next=U,v=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=U:E.next=U,Q.lastBaseUpdate=R))}if(f!==null){var Z=c.baseState;v=0,Q=U=R=null,E=f;do{var j=E.lane&-536870913,F=j!==E.lane;if(F?(Ut&j)===j:(l&j)===j){j!==0&&j===Ja&&(Hh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=t,Tt=E;j=n;var le=r;switch(Tt.tag){case 1:if(ut=Tt.payload,typeof ut=="function"){Z=ut.call(le,Z,j);break t}Z=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Tt.payload,j=typeof ut=="function"?ut.call(le,Z,j):ut,j==null)break t;Z=V({},Z,j);break t;case 2:cr=!0}}j=E.callback,j!==null&&(t.flags|=64,F&&(t.flags|=8192),F=c.callbacks,F===null?c.callbacks=[j]:F.push(j))}else F={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(U=Q=F,R=Z):Q=Q.next=F,v|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;F=E,E=F.next,F.next=null,c.lastBaseUpdate=F,c.shared.pending=null}}while(!0);Q===null&&(R=Z),c.baseState=R,c.firstBaseUpdate=U,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),yr|=v,t.lanes=v,t.memoizedState=Z}}function Xg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function $g(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Xg(r[t],n)}function Sl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==c)}}catch(E){Yt(n,n.return,E)}}function dr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var R=r;try{E()}catch(U){Yt(c,R,U)}}}l=l.next}while(l!==f)}}catch(U){Yt(n,n.return,U)}}function Zg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{$g(n,r)}catch(l){Yt(t,t.return,l)}}}function Wg(t,n,r){r.props=oa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function ha(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Yt(t,n,f)}}function on(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(t,n,c)}else r.current=null}function Jg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Yt(t,t.return,c)}}function tp(t,n,r){try{var l=t.stateNode;BE(l,t.type,r,n),l[ve]=n}catch(c){Yt(t,t.return,c)}}function ep(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Du));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Gh(t,n,r),t=t.sibling;t!==null;)Gh(t,n,r),t=t.sibling}function gu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(gu(t,n,r),t=t.sibling;t!==null;)gu(t,n,r),t=t.sibling}var Vi=!1,ae=!1,Fh=!1,np=typeof WeakSet=="function"?WeakSet:Set,Oe=null,ip=!1;function pE(t,n){if(t=t.containerInfo,Ef=Uu,t=Em(t),Kc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,R=-1,U=0,Q=0,Z=t,j=null;e:for(;;){for(var F;Z!==r||c!==0&&Z.nodeType!==3||(E=v+c),Z!==f||l!==0&&Z.nodeType!==3||(R=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)j=Z,Z=F;for(;;){if(Z===t)break e;if(j===r&&++U===c&&(E=v),j===f&&++Q===l&&(R=v),(F=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=F}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tf={focusedElem:t,selectionRange:r},Uu=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ut=oa(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Yt(r,r.return,Tt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Rf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}return ut=ip,ip=!1,ut}function rp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(t,r),l&4&&Sl(5,r);break;case 1:if(Ni(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(r,r.return,E)}else{var c=oa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(r,r.return,E)}}l&64&&Zg(r),l&512&&ha(r,r.return);break;case 3:if(Ni(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{$g(l,t)}catch(E){Yt(r,r.return,E)}}break;case 26:Ni(t,r),l&512&&ha(r,r.return);break;case 27:case 5:Ni(t,r),n===null&&l&4&&Jg(r),l&512&&ha(r,r.return);break;case 12:Ni(t,r);break;case 13:Ni(t,r),l&4&&lp(t,r);break;case 22:if(c=r.memoizedState!==null||Vi,!c){n=n!==null&&n.memoizedState!==null||ae;var f=Vi,v=ae;Vi=c,(ae=n)&&!v?mr(t,r,(r.subtreeFlags&8772)!==0):Ni(t,r),Vi=f,ae=v}l&512&&(r.memoizedProps.mode==="manual"?ha(r,r.return):on(r,r.return));break;default:Ni(t,r)}}function ap(t){var n=t.alternate;n!==null&&(t.alternate=null,ap(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&jr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,un=!1;function xi(t,n,r){for(r=r.child;r!==null;)sp(t,n,r),r=r.sibling}function sp(t,n,r){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(qi,r)}catch{}switch(r.tag){case 26:ae||on(r,n),xi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ae||on(r,n);var l=ge,c=un;for(ge=r.stateNode,xi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);jr(r),ge=l,un=c;break;case 5:ae||on(r,n);case 6:c=ge;var f=un;if(ge=null,xi(t,n,r),ge=c,un=f,ge!==null)if(un)try{t=ge,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Yt(r,n,v)}else try{ge.removeChild(r.stateNode)}catch(v){Yt(r,n,v)}break;case 18:ge!==null&&(un?(n=ge,r=r.stateNode,n.nodeType===8?Sf(n.parentNode,r):n.nodeType===1&&Sf(n,r),Hl(n)):Sf(ge,r.stateNode));break;case 4:l=ge,c=un,ge=r.stateNode.containerInfo,un=!0,xi(t,n,r),ge=l,un=c;break;case 0:case 11:case 14:case 15:ae||dr(2,r,n),ae||dr(4,r,n),xi(t,n,r);break;case 1:ae||(on(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Wg(r,n,l)),xi(t,n,r);break;case 21:xi(t,n,r);break;case 22:ae||on(r,n),ae=(l=ae)||r.memoizedState!==null,xi(t,n,r),ae=l;break;default:xi(t,n,r)}}function lp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hl(t)}catch(r){Yt(n,n.return,r)}}function yE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new np),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new np),n;default:throw Error(s(435,t.tag))}}function Qh(t,n){var r=yE(t);n.forEach(function(l){var c=xE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ge=E.stateNode,un=!1;break t;case 3:ge=E.stateNode.containerInfo,un=!0;break t;case 4:ge=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(ge===null)throw Error(s(160));sp(f,v,c),ge=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)op(n,t),n=n.sibling}var Un=null;function op(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),wn(t),l&4&&(dr(3,t,t.return),Sl(3,t),dr(5,t,t.return));break;case 1:Rn(n,t),wn(t),l&512&&(ae||r===null||on(r,r.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(Rn(n,t),wn(t),l&512&&(ae||r===null||on(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$i]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[De]=t,Wt(f),l=f;break t;case"link":var v=Jp("link","href",c).get(l+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(v=Jp("meta","content",c).get(l+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,Wt(f),l=f}t.stateNode=l}else ty(c,t.type,t.stateNode);else t.stateNode=Wp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?ty(c,t.type,t.stateNode):Wp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&tp(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var R=c.firstChild;R;){var U=R.nextSibling,Q=R.nodeName;R[$i]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=U}for(var Z=t.type,j=c.attributes;j.length;)c.removeAttributeNode(j[0]);ze(c,Z,f),c[De]=t,c[ve]=f}catch(ut){Yt(t,t.return,ut)}}case 5:if(Rn(n,t),wn(t),l&512&&(ae||r===null||on(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(ut){Yt(t,t.return,ut)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,tp(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Fh=!0);break;case 6:if(Rn(n,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ut){Yt(t,t.return,ut)}}break;case 3:if(Ou=null,c=Un,Un=xu(n.containerInfo),Rn(n,t),Un=c,wn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Hl(n.containerInfo)}catch(ut){Yt(t,t.return,ut)}Fh&&(Fh=!1,up(t));break;case 4:l=Un,Un=xu(t.stateNode.containerInfo),Rn(n,t),wn(t),Un=l;break;case 12:Rn(n,t),wn(t);break;case 13:Rn(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ef=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qh(t,l)));break;case 22:if(l&512&&(ae||r===null||on(r,r.return)),R=t.memoizedState!==null,U=r!==null&&r.memoizedState!==null,Q=Vi,Z=ae,Vi=Q||R,ae=Z||U,Rn(n,t),ae=Z,Vi=Q,wn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=Vi||ae,r===null||U||n||rs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){U=r=n;try{if(c=U.stateNode,R)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=U.stateNode,E=U.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ut){Yt(U,U.return,ut)}}}else if(n.tag===6){if(r===null){U=n;try{U.stateNode.nodeValue=R?"":U.memoizedProps}catch(ut){Yt(U,U.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Qh(t,r))));break;case 19:Rn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qh(t,l)));break;case 21:break;default:Rn(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(ep(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=qh(t);gu(t,f,c);break;case 5:var v=l.stateNode;l.flags&32&&(pn(v,""),l.flags&=-33);var E=qh(t);gu(t,E,v);break;case 3:case 4:var R=l.stateNode.containerInfo,U=qh(t);Gh(t,U,R);break;default:throw Error(s(161))}}}catch(Q){Yt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function up(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;up(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ni(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)rp(t,n.alternate,n),n=n.sibling}function rs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:dr(4,n,n.return),rs(n);break;case 1:on(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Wg(n,n.return,r),rs(n);break;case 26:case 27:case 5:on(n,n.return),rs(n);break;case 22:on(n,n.return),n.memoizedState===null&&rs(n);break;default:rs(n)}t=t.sibling}}function mr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:mr(c,f,r),Sl(4,f);break;case 1:if(mr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(U){Yt(l,l.return,U)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Xg(R[c],E)}catch(U){Yt(l,l.return,U)}}r&&v&64&&Zg(f),ha(f,f.return);break;case 26:case 27:case 5:mr(c,f,r),r&&l===null&&v&4&&Jg(f),ha(f,f.return);break;case 12:mr(c,f,r);break;case 13:mr(c,f,r),r&&v&4&&lp(c,f);break;case 22:f.memoizedState===null&&mr(c,f,r),ha(f,f.return);break;default:mr(c,f,r)}n=n.sibling}}function Kh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ml(r))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function gr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cp(t,n,r,l),n=n.sibling}function cp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:gr(t,n,r,l),c&2048&&Sl(9,n);break;case 3:gr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(c&2048){gr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else gr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?gr(t,n,r,l):Rl(t,n):f._visibility&4?gr(t,n,r,l):(f._visibility|=4,as(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Kh(n.alternate,n);break;case 24:gr(t,n,r,l),c&2048&&Yh(n.alternate,n);break;default:gr(t,n,r,l)}}function as(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=r,R=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:as(f,v,E,R,c),Sl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&4?as(f,v,E,R,c):Rl(f,v):(Q._visibility|=4,as(f,v,E,R,c)),c&&U&2048&&Kh(v.alternate,v);break;case 24:as(f,v,E,R,c),c&&U&2048&&Yh(v.alternate,v);break;default:as(f,v,E,R,c)}n=n.sibling}}function Rl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Rl(r,l),c&2048&&Kh(l.alternate,l);break;case 24:Rl(r,l),c&2048&&Yh(l.alternate,l);break;default:Rl(r,l)}n=n.sibling}}var wl=8192;function ss(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)hp(t),t=t.sibling}function hp(t){switch(t.tag){case 26:ss(t),t.flags&wl&&t.memoizedState!==null&&aT(Un,t.memoizedState,t.memoizedProps);break;case 5:ss(t);break;case 3:case 4:var n=Un;Un=xu(t.stateNode.containerInfo),ss(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=wl,wl=16777216,ss(t),wl=n):ss(t));break;default:ss(t)}}function fp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,mp(l,t)}fp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dp(t),t=t.sibling}function dp(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&dr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,pu(t)):Cl(t);break;default:Cl(t)}}function pu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,mp(l,t)}fp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:dr(8,n,n.return),pu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,pu(n));break;default:pu(n)}t=t.sibling}}function mp(t,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:dr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oe=l;else t:for(r=t;Oe!==null;){l=Oe;var c=l.sibling,f=l.return;if(ap(l),l===r){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}function _E(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,n,r,l){return new _E(t,n,r,l)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pr(t,n){var r=t.alternate;return r===null?(r=Cn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function gp(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yu(t,n,r,l,c,f){var v=0;if(l=t,typeof t=="function")Xh(t)&&(v=1);else if(typeof t=="string")v=iT(t,r,Ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return fa(r.children,c,f,n);case y:v=8,c|=24;break;case T:return t=Cn(12,r,n,c|2),t.elementType=T,t.lanes=f,t;case K:return t=Cn(13,r,n,c),t.elementType=K,t.lanes=f,t;case H:return t=Cn(19,r,n,c),t.elementType=H,t.lanes=f,t;case tt:return pp(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:case O:v=10;break t;case C:v=9;break t;case P:v=11;break t;case X:v=14;break t;case et:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Cn(v,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function fa(t,n,r,l){return t=Cn(7,t,l,n),t.lanes=r,t}function pp(t,n,r,l){t=Cn(22,t,l,n),t.elementType=tt,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var v=rr(f,2);v!==null&&(c._pendingVisibility|=2,Je(v,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if(c._pendingVisibility&2){var v=rr(f,2);v!==null&&(c._pendingVisibility&=-3,Je(v,f,2))}}};return t.stateNode=c,t}function $h(t,n,r){return t=Cn(6,t,null,n),t.lanes=r,t}function Zh(t,n,r){return n=Cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Oi(t){t.flags|=4}function yp(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!ey(n)){if(n=Sn.current,n!==null&&((Ut&4194176)===Ut?Wn!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||n!==Wn))throw hl=nh,Mm;t.flags|=8192}}function _u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Qi():536870912,t.lanes|=n,os|=n)}function Dl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function vE(t,n,r){var l=n.pendingProps;switch(th(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(be),hi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ll(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mn!==null&&(sf(Mn),Mn=null))),Jt(n),null;case 26:return r=n.memoizedState,t===null?(Oi(n),r!==null?(Jt(n),yp(n,r)):(Jt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Oi(n),Jt(n),yp(n,r)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Oi(n),Jt(n),n.flags&=-16777217),null;case 27:Ca(n),r=dn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}t=Ye.current,ll(n)?Om(n):(t=Kp(c,l,r),n.stateNode=t,Oi(n))}return Jt(n),null;case 5:if(Ca(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(t=Ye.current,ll(n))Om(n);else{switch(c=Vu(dn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[De]=n,t[ve]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Oi(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=dn.current,ll(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||jp(t.nodeValue,r)),t||na(n)}else t=Vu(t).createTextNode(l),t[De]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ll(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[De]=n}else ol(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Jt(n),c=!1}else Mn!==null&&(sf(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),_u(n,n.updateQueue),Jt(n),null;case 4:return hi(),t===null&&yf(n.stateNode.containerInfo),Jt(n),null;case 10:return Di(n.type),Jt(n),null;case 19:if(ie(Ae),c=n.memoizedState,c===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Dl(c,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=eu(t),f!==null){for(n.flags|=128,Dl(c,!1),t=f.updateQueue,n.updateQueue=t,_u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)gp(r,t),r=r.sibling;return Ft(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&tn()>vu&&(n.flags|=128,l=!0,Dl(c,!1),n.lanes=4194304)}else{if(!l)if(t=eu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,_u(n,t),Dl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(n),null}else 2*tn()-c.renderingStartTime>vu&&r!==536870912&&(n.flags|=128,l=!0,Dl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=tn(),n.sibling=null,t=Ae.current,Ft(Ae,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return Si(n),rh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&_u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ie(ra),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Di(be),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function EE(t,n){switch(th(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(be),hi(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ca(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ol()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(Ae),null;case 4:return hi(),null;case 10:return Di(n.type),null;case 22:case 23:return Si(n),rh(),t!==null&&ie(ra),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(be),null;case 25:return null;default:return null}}function _p(t,n){switch(th(n),n.tag){case 3:Di(be),hi();break;case 26:case 27:case 5:Ca(n);break;case 4:hi();break;case 13:Si(n);break;case 19:ie(Ae);break;case 10:Di(n.type);break;case 22:case 23:Si(n),rh(),t!==null&&ie(ra);break;case 24:Di(be)}}var TE={getCacheForType:function(t){var n=qe(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},AE=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,Vt=null,Ut=0,$t=0,cn=null,Ii=!1,ls=!1,Wh=!1,Mi=0,se=0,yr=0,da=0,Jh=0,Dn=0,os=0,Vl=null,ti=null,tf=!1,ef=0,vu=1/0,Eu=null,_r=null,Tu=!1,ma=null,xl=0,nf=0,rf=null,Nl=0,af=null;function hn(){if(te&2&&Ut!==0)return Ut&-Ut;if(b.T!==null){var t=Ja;return t!==0?t:df()}return Co()}function vp(){Dn===0&&(Dn=!(Ut&536870912)||Bt?qs():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),Dn}function Je(t,n,r){(t===Xt&&$t===2||t.cancelPendingCommit!==null)&&(us(t,0),Ui(t,Ut,Dn,!1)),oe(t,r),(!(te&2)||t!==Xt)&&(t===Xt&&(!(te&2)&&(da|=r),se===4&&Ui(t,Ut,Dn,!1)),ei(t))}function Ep(t,n,r){if(te&6)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Fi(t,n),c=l?RE(t,n):uf(t,n,!0),f=l;do{if(c===0){ls&&!l&&Ui(t,n,0,!1);break}else if(c===6)Ui(t,n,0,!Ii);else{if(r=t.current.alternate,f&&!bE(r)){c=uf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Vl;var R=E.current.memoizedState.isDehydrated;if(R&&(us(E,v).flags|=256),v=uf(E,v,!1),v!==2){if(Wh&&!R){E.errorRecoveryDisabledLanes|=f,da|=f,c=4;break t}f=ti,ti=c,f!==null&&sf(f)}c=v}if(f=!1,c!==2)continue}}if(c===1){us(t,0),Ui(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ui(l,n,Dn,!Ii);break t}break;case 2:ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=ef+300-tn(),10<f)){if(Ui(l,n,Dn,!Ii),mn(l,0)!==0)break t;l.timeoutHandle=Gp(Tp.bind(null,l,r,ti,Eu,tf,n,Dn,da,os,Ii,2,-0,0),f);break t}Tp(l,r,ti,Eu,tf,n,Dn,da,os,Ii,0,-0,0)}}break}while(!0);ei(t)}function sf(t){ti===null?ti=t:ti.push.apply(ti,t)}function Tp(t,n,r,l,c,f,v,E,R,U,Q,Z,j){var F=n.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:rT},hp(n),n=sT(),n!==null)){t.cancelPendingCommit=n(Dp.bind(null,t,r,l,c,v,E,R,1,Z,j)),Ui(t,f,v,!U);return}Dp(t,r,l,c,v,E,R,Q,Z,j)}function bE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ui(t,n,r,l){n&=~Jh,n&=~da,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Xe(c),v=1<<f;l[f]=-1,c&=~v}r!==0&&Ki(t,r,n)}function Au(){return te&6?!0:(Ol(0),!1)}function lf(){if(Vt!==null){if($t===0)var t=Vt.return;else t=Vt,Ci=ua=null,fh(t),Za=null,fl=0,t=Vt;for(;t!==null;)_p(t.alternate,t),t=t.return;Vt=null}}function us(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,HE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),lf(),Xt=t,Vt=r=pr(t.current,null),Ut=n,$t=0,cn=null,Ii=!1,ls=Fi(t,n),Wh=!1,os=Dn=Jh=da=yr=se=0,ti=Vl=null,tf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Xe(l),f=1<<c;n|=t[c],l&=~f}return Mi=n,Qo(),r}function Ap(t,n){Ct=null,b.H=Jn,n===cl?(n=km(),$t=3):n===Mm?(n=km(),$t=4):$t=n===Ug?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Vt===null&&(se=1,fu(t,Tn(n,t.current)))}function bp(){var t=b.H;return b.H=Jn,t===null?Jn:t}function Sp(){var t=b.A;return b.A=TE,t}function of(){se=4,Ii||(Ut&4194176)!==Ut&&Sn.current!==null||(ls=!0),!(yr&134217727)&&!(da&134217727)||Xt===null||Ui(Xt,Ut,Dn,!1)}function uf(t,n,r){var l=te;te|=2;var c=bp(),f=Sp();(Xt!==t||Ut!==n)&&(Eu=null,us(t,n)),n=!1;var v=se;t:do try{if($t!==0&&Vt!==null){var E=Vt,R=cn;switch($t){case 8:lf(),v=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var U=$t;if($t=0,cn=null,cs(t,E,R,U),r&&ls){v=0;break t}break;default:U=$t,$t=0,cn=null,cs(t,E,R,U)}}SE(),v=se;break}catch(Q){Ap(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ci=ua=null,te=l,b.H=c,b.A=f,Vt===null&&(Xt=null,Ut=0,Qo()),v}function SE(){for(;Vt!==null;)Rp(Vt)}function RE(t,n){var r=te;te|=2;var l=bp(),c=Sp();Xt!==t||Ut!==n?(Eu=null,vu=tn()+500,us(t,n)):ls=Fi(t,n);t:do try{if($t!==0&&Vt!==null){n=Vt;var f=cn;e:switch($t){case 1:$t=0,cn=null,cs(t,n,f,1);break;case 2:if(Um(f)){$t=0,cn=null,wp(n);break}n=function(){$t===2&&Xt===t&&($t=7),ei(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Um(f)?($t=0,cn=null,wp(n)):($t=0,cn=null,cs(t,n,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||ey(v)){$t=0,cn=null;var R=E.sibling;if(R!==null)Vt=R;else{var U=E.return;U!==null?(Vt=U,bu(U)):Vt=null}break e}}$t=0,cn=null,cs(t,n,f,5);break;case 6:$t=0,cn=null,cs(t,n,f,6);break;case 8:lf(),se=6;break t;default:throw Error(s(462))}}wE();break}catch(Q){Ap(t,Q)}while(!0);return Ci=ua=null,b.H=l,b.A=c,te=r,Vt!==null?0:(Xt=null,Ut=0,Qo(),se)}function wE(){for(;Vt!==null&&!Lc();)Rp(Vt)}function Rp(t){var n=Kg(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,n===null?bu(t):Vt=n}function wp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=jg(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=jg(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:fh(n);default:_p(r,n),n=Vt=gp(n,Mi),n=Kg(r,n,Mi)}t.memoizedProps=t.pendingProps,n===null?bu(t):Vt=n}function cs(t,n,r,l){Ci=ua=null,fh(n),Za=null,fl=0;var c=n.return;try{if(mE(t,c,n,r,Ut)){se=1,fu(t,Tn(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;se=1,fu(t,Tn(r,t.current)),Vt=null;return}n.flags&32768?(Bt||l===1?t=!0:ls||Ut&536870912?t=!1:(Ii=t=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cp(n,t)):bu(n)}function bu(t){var n=t;do{if(n.flags&32768){Cp(n,Ii);return}t=n.return;var r=vE(n.alternate,n,Mi);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);se===0&&(se=5)}function Cp(t,n){do{var r=EE(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);se=6,Vt=null}function Dp(t,n,r,l,c,f,v,E,R,U){var Q=b.T,Z=st.p;try{st.p=2,b.T=null,CE(t,n,r,l,Z,c,f,v,E,R,U)}finally{b.T=Q,st.p=Z}}function CE(t,n,r,l,c,f,v,E){do hs();while(ma!==null);if(te&6)throw Error(s(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=R.lanes|R.childLanes;if(U|=Zc,Ro(t,l,U,f,v,E),t===Xt&&(Vt=Xt=null,Ut=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||Tu||(Tu=!0,nf=U,rf=r,NE(fi,function(){return hs(),null})),r=(R.flags&15990)!==0,R.subtreeFlags&15990||r?(r=b.T,b.T=null,f=st.p,st.p=2,v=te,te|=4,pE(t,R),op(R,t),Z0(Tf,t.containerInfo),Uu=!!Ef,Tf=Ef=null,t.current=R,rp(t,R.alternate,R),Ps(),te=v,st.p=f,b.T=r):t.current=R,Tu?(Tu=!1,ma=t,xl=l):Vp(t,U),U=t.pendingLanes,U===0&&(_r=null),js(R.stateNode),ei(t),n!==null)for(c=t.onRecoverableError,R=0;R<n.length;R++)U=n[R],c(U.value,{componentStack:U.stack});return xl&3&&hs(),U=t.pendingLanes,l&4194218&&U&42?t===af?Nl++:(Nl=0,af=t):Nl=0,Ol(0),null}function Vp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function hs(){if(ma!==null){var t=ma,n=nf;nf=0;var r=wo(xl),l=b.T,c=st.p;try{if(st.p=32>r?32:r,b.T=null,ma===null)var f=!1;else{r=rf,rf=null;var v=ma,E=xl;if(ma=null,xl=0,te&6)throw Error(s(331));var R=te;if(te|=4,dp(v.current),cp(v,v.current,E,r),te=R,Ol(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(qi,v)}catch{}f=!0}return f}finally{st.p=c,b.T=l,Vp(t,n)}}return!1}function xp(t,n,r){n=Tn(r,n),n=wh(t.stateNode,n,2),t=fr(t,n,2),t!==null&&(oe(t,2),ei(t))}function Yt(t,n,r){if(t.tag===3)xp(t,t,r);else for(;n!==null;){if(n.tag===3){xp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){t=Tn(r,t),r=Ig(2),l=fr(n,r,2),l!==null&&(Mg(r,l,n,t),oe(l,2),ei(l));break}}n=n.return}}function cf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new AE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Wh=!0,c.add(r),t=DE.bind(null,t,n,r),n.then(t,t))}function DE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Xt===t&&(Ut&r)===r&&(se===4||se===3&&(Ut&62914560)===Ut&&300>tn()-ef?!(te&2)&&us(t,0):Jh|=r,os===Ut&&(os=0)),ei(t)}function Np(t,n){n===0&&(n=Qi()),t=rr(t,n),t!==null&&(oe(t,n),ei(t))}function VE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Np(t,r)}function xE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Np(t,r)}function NE(t,n){return zr(t,n)}var Su=null,fs=null,hf=!1,Ru=!1,ff=!1,ga=0;function ei(t){t!==fs&&t.next===null&&(fs===null?Su=fs=t:fs=fs.next=t),Ru=!0,hf||(hf=!0,IE(OE))}function Ol(t,n){if(!ff&&Ru){ff=!0;do for(var r=!1,l=Su;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=c&~(v&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Mp(l,f))}else f=Ut,f=mn(l,l===Xt?f:0),!(f&3)||Fi(l,f)||(r=!0,Mp(l,f));l=l.next}while(r);ff=!1}}function OE(){Ru=hf=!1;var t=0;ga!==0&&(jE()&&(t=ga),ga=0);for(var n=tn(),r=null,l=Su;l!==null;){var c=l.next,f=Op(l,n);f===0?(l.next=null,r===null?Su=c:r.next=c,c===null&&(fs=r)):(r=l,(t!==0||f&3)&&(Ru=!0)),l=c}Ol(t)}function Op(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Xe(f),E=1<<v,R=c[v];R===-1?(!(E&r)||E&l)&&(c[v]=xa(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Xt,r=Ut,r=mn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Va(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Fi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Va(l),wo(r)){case 2:case 8:r=Ce;break;case 32:r=fi;break;case 268435456:r=Bs;break;default:r=fi}return l=Ip.bind(null,t),r=zr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Va(l),t.callbackPriority=2,t.callbackNode=null,2}function Ip(t,n){var r=t.callbackNode;if(hs()&&t.callbackNode!==r)return null;var l=Ut;return l=mn(t,t===Xt?l:0),l===0?null:(Ep(t,l,n),Op(t,tn()),t.callbackNode!=null&&t.callbackNode===r?Ip.bind(null,t):null)}function Mp(t,n){if(hs())return null;Ep(t,n,!0)}function IE(t){qE(function(){te&6?zr(_e,t):t()})}function df(){return ga===0&&(ga=qs()),ga}function Up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gn(""+t)}function Lp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ME(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Up((c[ve]||null).action),v=l.submitter;v&&(n=(n=v[ve]||null)?Up(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new ka("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var R=v?Lp(c,v):new FormData(c);Th(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?Lp(c,v):new FormData(c),Th(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var mf=0;mf<Dm.length;mf++){var gf=Dm[mf],UE=gf.toLowerCase(),LE=gf[0].toUpperCase()+gf.slice(1);In(UE,"on"+LE)}In(bm,"onAnimationEnd"),In(Sm,"onAnimationIteration"),In(Rm,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(J0,"onTransitionRun"),In(tE,"onTransitionStart"),In(eE,"onTransitionCancel"),In(wm,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function kp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,U=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=U;try{f(c)}catch(Q){hu(Q)}c.currentTarget=null,f=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,U=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=U;try{f(c)}catch(Q){hu(Q)}c.currentTarget=null,f=R}}}}function Nt(t,n){var r=n[Br];r===void 0&&(r=n[Br]=new Set);var l=t+"__bubble";r.has(l)||(zp(n,t,2,!1),r.add(l))}function pf(t,n,r){var l=0;n&&(l|=4),zp(r,t,l,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function yf(t){if(!t[wu]){t[wu]=!0,Fs.forEach(function(r){r!=="selectionchange"&&(kE.has(r)||pf(r,!1,t),pf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wu]||(n[wu]=!0,pf("selectionchange",!1,n))}}function zp(t,n,r,l){switch(ly(n)){case 2:var c=uT;break;case 8:c=cT;break;default:c=xf}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function _f(t,n,r,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===c||R.nodeType===8&&R.parentNode===c))return;v=v.return}for(;E!==null;){if(v=On(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=f=v;continue t}E=E.parentNode}}l=l.return}No(function(){var U=f,Q=La(r),Z=[];t:{var j=Cm.get(t);if(j!==void 0){var F=ka,ut=t;switch(t){case"keypress":if(Qn(r)===0)break t;case"keydown":case"keyup":F=qa;break;case"focusin":ut="focus",F=Ba;break;case"focusout":ut="blur",F=Ba;break;case"beforeblur":case"afterblur":F=Ba;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Po;break;case bm:case Sm:case Rm:F=ja;break;case wm:F=jo;break;case"scroll":case"scrollend":F=Oo;break;case"wheel":F=Ga;break;case"copy":case"cut":case"paste":F=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=il;break;case"toggle":case"beforetoggle":F=qo}var Tt=(n&4)!==0,le=!Tt&&(t==="scroll"||t==="scrollend"),L=Tt?j!==null?j+"Capture":null:j;Tt=[];for(var N=U,B;N!==null;){var Y=N;if(B=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||B===null||L===null||(Y=Fr(N,L),Y!=null&&Tt.push(Ml(N,Y,B))),le)break;N=N.return}0<Tt.length&&(j=new F(j,ut,null,r,Q),Z.push({event:j,listeners:Tt}))}}if(!(n&7)){t:{if(j=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",j&&r!==yn&&(ut=r.relatedTarget||r.fromElement)&&(On(ut)||ut[di]))break t;if((F||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ut=r.relatedTarget||r.toElement,F=U,ut=ut?On(ut):null,ut!==null&&(le=dt(ut),Tt=ut.tag,ut!==le||Tt!==5&&Tt!==27&&Tt!==6)&&(ut=null)):(F=null,ut=U),F!==ut)){if(Tt=vn,Y="onMouseLeave",L="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=il,Y="onPointerLeave",L="onPointerEnter",N="pointer"),le=F==null?j:Zi(F),B=ut==null?j:Zi(ut),j=new Tt(Y,N+"leave",F,r,Q),j.target=le,j.relatedTarget=B,Y=null,On(Q)===U&&(Tt=new Tt(L,N+"enter",ut,r,Q),Tt.target=B,Tt.relatedTarget=le,Y=Tt),le=Y,F&&ut)e:{for(Tt=F,L=ut,N=0,B=Tt;B;B=ds(B))N++;for(B=0,Y=L;Y;Y=ds(Y))B++;for(;0<N-B;)Tt=ds(Tt),N--;for(;0<B-N;)L=ds(L),B--;for(;N--;){if(Tt===L||L!==null&&Tt===L.alternate)break e;Tt=ds(Tt),L=ds(L)}Tt=null}else Tt=null;F!==null&&Pp(Z,j,F,Tt,!1),ut!==null&&le!==null&&Pp(Z,le,ut,Tt,!0)}}t:{if(j=U?Zi(U):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var ot=fm;else if(Te(j))if(dm)ot=X0;else{ot=K0;var Dt=Q0}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?U&&$s(U.elementType)&&(ot=fm):ot=Y0;if(ot&&(ot=ot(t,U))){Ti(Z,ot,r,Q);break t}Dt&&Dt(t,j,U),t==="focusout"&&U&&j.type==="number"&&U.memoizedProps.value!=null&&Ua(j,"number",j.value)}switch(Dt=U?Zi(U):window,t){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(Fa=Dt,Yc=U,sl=null);break;case"focusout":sl=Yc=Fa=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,Tm(Z,r,Q);break;case"selectionchange":if(W0)break;case"keydown":case"keyup":Tm(Z,r,Q)}var ft;if(Xn)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else It?q(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(_&&r.locale!=="ko"&&(It||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&It&&(ft=Ws()):(Fn=Q,ir="value"in Fn?Fn.value:Fn.textContent,It=!0)),Dt=Cu(U,pt),0<Dt.length&&(pt=new el(pt,t,null,r,Q),Z.push({event:pt,listeners:Dt}),ft?pt.data=ft:(ft=nt(r),ft!==null&&(pt.data=ft)))),(ft=m?Ee(t,r):Mt(t,r))&&(pt=Cu(U,"onBeforeInput"),0<pt.length&&(Dt=new el("onBeforeInput","beforeinput",null,r,Q),Z.push({event:Dt,listeners:pt}),Dt.data=ft)),ME(Z,t,U,r,Q)}kp(Z,n)})}function Ml(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Cu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Fr(t,r),c!=null&&l.unshift(Ml(t,c,f)),c=Fr(t,n),c!=null&&l.push(Ml(t,c,f))),t=t.return}return l}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pp(t,n,r,l,c){for(var f=n._reactName,v=[];r!==null&&r!==l;){var E=r,R=E.alternate,U=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||U===null||(R=U,c?(U=Fr(r,f),U!=null&&v.unshift(Ml(r,U,R))):c||(U=Fr(r,f),U!=null&&v.push(Ml(r,U,R)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var zE=/\r\n?/g,PE=/\u0000|\uFFFD/g;function Bp(t){return(typeof t=="string"?t:""+t).replace(zE,`
`).replace(PE,"")}function jp(t,n){return n=Bp(n),Bp(t)===n}function Du(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":tr(t,"class",l);break;case"tabIndex":tr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(t,r,l);break;case"style":xo(t,l,f);break;case"data":if(n!=="object"){tr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Gn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Gn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Du);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Gn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),Ji(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=jc.get(r)||r,Ji(t,r,l))}}function vf(t,n,r,l,c,f){switch(r){case"style":xo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ji(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Nt("invalid",t);var E=f=v=c=null,R=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":U=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Kt(t,n,l,Q,r,null)}}qr(t,f,E,R,U,v,c,!1),Hr(t);return;case"select":Nt("invalid",t),l=v=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=v,t.multiple=!!l,n!=null?Pt(t,!!l,n,!1):r!=null&&Pt(t,!!l,r,!0);return;case"textarea":Nt("invalid",t),f=c=l=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,v,E,r,null)}nr(t,l,c,f),Hr(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,r,null)}return;case"dialog":Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)Nt(Il[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,U,l,r,null)}return;default:if($s(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&vf(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function BE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,R=null,U=null,Q=null;for(F in r){var Z=r[F];if(r.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(F)||Kt(t,n,F,null,l,Z)}}for(var j in l){var F=l[j];if(Z=r[j],l.hasOwnProperty(j)&&(F!=null||Z!=null))switch(j){case"type":f=F;break;case"name":c=F;break;case"checked":U=F;break;case"defaultChecked":Q=F;break;case"value":v=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==Z&&Kt(t,n,j,F,l,Z)}}er(t,v,E,R,U,Q,f,c);return;case"select":F=v=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":F=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,r=v,l=F,j!=null?Pt(t,!!r,j,!1):!!l!=!!r&&(n!=null?Pt(t,!!r,n,!0):Pt(t,!!r,r?[]:"",!1));return;case"textarea":F=j=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=r[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":j=c;break;case"defaultValue":F=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,v,c,l,f)}Gr(t,j,F);return;case"option":for(var ut in r)if(j=r[ut],r.hasOwnProperty(ut)&&j!=null&&!l.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:Kt(t,n,ut,null,l,j)}for(R in l)if(j=l[R],F=r[R],l.hasOwnProperty(R)&&j!==F&&(j!=null||F!=null))switch(R){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Kt(t,n,R,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in r)j=r[Tt],r.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt)&&Kt(t,n,Tt,null,l,j);for(U in l)if(j=l[U],F=r[U],l.hasOwnProperty(U)&&j!==F&&(j!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Kt(t,n,U,j,l,F)}return;default:if($s(n)){for(var le in r)j=r[le],r.hasOwnProperty(le)&&j!==void 0&&!l.hasOwnProperty(le)&&vf(t,n,le,void 0,l,j);for(Q in l)j=l[Q],F=r[Q],!l.hasOwnProperty(Q)||j===F||j===void 0&&F===void 0||vf(t,n,Q,j,l,F);return}}for(var L in r)j=r[L],r.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&Kt(t,n,L,null,l,j);for(Z in l)j=l[Z],F=r[Z],!l.hasOwnProperty(Z)||j===F||j==null&&F==null||Kt(t,n,Z,j,l,F)}var Ef=null,Tf=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function Hp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bf=null;function jE(){var t=window.event;return t&&t.type==="popstate"?t===bf?!1:(bf=t,!0):(bf=null,!1)}var Gp=typeof setTimeout=="function"?setTimeout:void 0,HE=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,qE=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(t){return Fp.resolve(null).then(t).catch(GE)}:Gp;function GE(t){setTimeout(function(){throw t})}function Sf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Hl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Hl(n)}function Rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Rf(r),jr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function FE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$i])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function QE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Qp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Kp(t,n,r){switch(n=Vu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Vn=new Map,Yp=new Set;function xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Li=st.d;st.d={f:KE,r:YE,D:XE,C:$E,L:ZE,m:WE,X:tT,S:JE,M:eT};function KE(){var t=Li.f(),n=Au();return t||n}function YE(t){var n=mi(t);n!==null&&n.tag===5&&n.type==="form"?Tg(n):Li.r(t)}var ms=typeof document>"u"?null:document;function Xp(t,n,r){var l=ms;if(l&&typeof n=="string"&&n){var c=re(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Yp.has(c)||(Yp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),Wt(n),l.head.appendChild(n)))}}function XE(t){Li.D(t),Xp("dns-prefetch",t,null)}function $E(t,n){Li.C(t,n),Xp("preconnect",t,n)}function ZE(t,n,r){Li.L(t,n,r);var l=ms;if(l&&t&&n){var c='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+re(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+re(r.imageSizes)+'"]')):c+='[href="'+re(t)+'"]';var f=c;switch(n){case"style":f=gs(t);break;case"script":f=ps(t)}Vn.has(f)||(t=V({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Ll(f))||(n=l.createElement("link"),ze(n,"link",t),Wt(n),l.head.appendChild(n)))}}function WE(t,n){Li.m(t,n);var r=ms;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ps(t)}if(!Vn.has(f)&&(t=V({rel:"modulepreload",href:t},n),Vn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ll(f)))return}l=r.createElement("link"),ze(l,"link",t),Wt(l),r.head.appendChild(l)}}}function JE(t,n,r){Li.S(t,n,r);var l=ms;if(l&&t){var c=Wi(l).hoistableStyles,f=gs(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Ul(f)))E.loading=5;else{t=V({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Vn.get(f))&&wf(t,r);var R=v=l.createElement("link");Wt(R),ze(R,"link",t),R._p=new Promise(function(U,Q){R.onload=U,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function tT(t,n){Li.X(t,n);var r=ms;if(r&&t){var l=Wi(r).hoistableScripts,c=ps(t),f=l.get(c);f||(f=r.querySelector(Ll(c)),f||(t=V({src:t,async:!0},n),(n=Vn.get(c))&&Cf(t,n),f=r.createElement("script"),Wt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function eT(t,n){Li.M(t,n);var r=ms;if(r&&t){var l=Wi(r).hoistableScripts,c=ps(t),f=l.get(c);f||(f=r.querySelector(Ll(c)),f||(t=V({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&Cf(t,n),f=r.createElement("script"),Wt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $p(t,n,r,l){var c=(c=dn.current)?xu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=gs(r.href),r=Wi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=gs(r.href);var f=Wi(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Ul(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Vn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(t,r),f||nT(c,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ps(r),r=Wi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function gs(t){return'href="'+re(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function Zp(t){return V({},t,{"data-precedence":t.precedence,precedence:null})}function nT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),Wt(n),t.head.appendChild(n))}function ps(t){return'[src="'+re(t)+'"]'}function Ll(t){return"script[async]"+t}function Wp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+re(r.href)+'"]');if(l)return n.instance=l,Wt(l),l;var c=V({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Wt(l),ze(l,"style",c),Nu(l,r.precedence,t),n.instance=l;case"stylesheet":c=gs(r.href);var f=t.querySelector(Ul(c));if(f)return n.state.loading|=4,n.instance=f,Wt(f),f;l=Zp(r),(c=Vn.get(c))&&wf(l,c),f=(t.ownerDocument||t).createElement("link"),Wt(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ze(f,"link",l),n.state.loading|=4,Nu(f,r.precedence,t),n.instance=f;case"script":return f=ps(r.src),(c=t.querySelector(Ll(f)))?(n.instance=c,Wt(c),c):(l=r,(c=Vn.get(f))&&(l=V({},r),Cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Wt(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Nu(l,r.precedence,t));return n.instance}function Nu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ou=null;function Jp(t,n,r){if(Ou===null){var l=new Map,c=Ou=new Map;c.set(r,l)}else c=Ou,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[$i]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function ty(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function iT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ey(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var kl=null;function rT(){}function aT(t,n,r){if(kl===null)throw Error(s(475));var l=kl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=gs(r.href),f=t.querySelector(Ul(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Iu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Wt(f);return}f=t.ownerDocument||t,r=Zp(r),(c=Vn.get(c))&&wf(r,c),f=f.createElement("link"),Wt(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Iu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function sT(){if(kl===null)throw Error(s(475));var t=kl;return t.stylesheets&&t.count===0&&Df(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Df(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Iu(){if(this.count--,this.count===0){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function Df(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,n.forEach(lT,t),Mu=null,Iu.call(t))}function lT(t,n){if(!(n.state.loading&4)){var r=Mu.get(t);if(r)var l=r.get(null);else{r=new Map,Mu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,c),r.set(v,c),this.count++,l=Iu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var zl={$$typeof:O,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function oT(t,n,r,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ny(t,n,r,l,c,f,v,E,R,U,Q,Z){return t=new oT(t,n,r,v,E,R,U,Z),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),t.current=f,f.stateNode=t,n=ah(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Ph(f),t}function iy(t){return t?(t=Ya,t):Ya}function ry(t,n,r,l,c,f){c=iy(c),l.context===null?l.context=c:l.pendingContext=c,l=hr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=fr(t,l,n),r!==null&&(Je(r,t,n),Tl(r,t,n))}function ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Vf(t,n){ay(t,n),(t=t.alternate)&&ay(t,n)}function sy(t){if(t.tag===13){var n=rr(t,67108864);n!==null&&Je(n,t,67108864),Vf(t,67108864)}}var Uu=!0;function uT(t,n,r,l){var c=b.T;b.T=null;var f=st.p;try{st.p=2,xf(t,n,r,l)}finally{st.p=f,b.T=c}}function cT(t,n,r,l){var c=b.T;b.T=null;var f=st.p;try{st.p=8,xf(t,n,r,l)}finally{st.p=f,b.T=c}}function xf(t,n,r,l){if(Uu){var c=Nf(l);if(c===null)_f(t,n,l,Lu,r),oy(t,l);else if(fT(c,t,n,r,l))l.stopPropagation();else if(oy(t,l),n&4&&-1<hT.indexOf(t)){for(;c!==null;){var f=mi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Nn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Xe(v);E.entanglements[1]|=R,v&=~R}ei(f),!(te&6)&&(vu=tn()+500,Ol(0))}}break;case 13:E=rr(f,2),E!==null&&Je(E,f,2),Au(),Vf(f,2)}if(f=Nf(l),f===null&&_f(t,n,l,Lu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else _f(t,n,l,null,r)}}function Nf(t){return t=La(t),Of(t)}var Lu=null;function Of(t){if(Lu=null,t=On(t),t!==null){var n=dt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Ht(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Lu=t,null}function ly(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(To()){case _e:return 2;case Ce:return 8;case fi:case Ao:return 32;case Bs:return 268435456;default:return 32}default:return 32}}var If=!1,vr=null,Er=null,Tr=null,Pl=new Map,Bl=new Map,Ar=[],hT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oy(t,n){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function jl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=mi(n),n!==null&&sy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function fT(t,n,r,l,c){switch(n){case"focusin":return vr=jl(vr,t,n,r,l,c),!0;case"dragenter":return Er=jl(Er,t,n,r,l,c),!0;case"mouseover":return Tr=jl(Tr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Pl.set(f,jl(Pl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Bl.set(f,jl(Bl.get(f)||null,t,n,r,l,c)),!0}return!1}function uy(t){var n=On(t.target);if(n!==null){var r=dt(n);if(r!==null){if(n=r.tag,n===13){if(n=Ht(r),n!==null){t.blockedOn=n,Xi(t.priority,function(){if(r.tag===13){var l=hn(),c=rr(r,l);c!==null&&Je(c,r,l),Vf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Nf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);yn=l,r.target.dispatchEvent(l),yn=null}else return n=mi(r),n!==null&&sy(n),t.blockedOn=r,!1;n.shift()}return!0}function cy(t,n,r){ku(t)&&r.delete(n)}function dT(){If=!1,vr!==null&&ku(vr)&&(vr=null),Er!==null&&ku(Er)&&(Er=null),Tr!==null&&ku(Tr)&&(Tr=null),Pl.forEach(cy),Bl.forEach(cy)}function zu(t,n){t.blockedOn===n&&(t.blockedOn=null,If||(If=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,dT)))}var Pu=null;function hy(t){Pu!==t&&(Pu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Pu===t&&(Pu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Of(l||r)===null)continue;break}var f=mi(r);f!==null&&(t.splice(n,3),n-=3,Th(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Hl(t){function n(R){return zu(R,t)}vr!==null&&zu(vr,t),Er!==null&&zu(Er,t),Tr!==null&&zu(Tr,t),Pl.forEach(n),Bl.forEach(n);for(var r=0;r<Ar.length;r++){var l=Ar[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ar.length&&(r=Ar[0],r.blockedOn===null);)uy(r),r.blockedOn===null&&Ar.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],v=c[ve]||null;if(typeof f=="function")v||hy(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[ve]||null)E=v.formAction;else if(Of(c)!==null)continue}else E=v.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),hy(r)}}}function Mf(t){this._internalRoot=t}Bu.prototype.render=Mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();ry(r,l,t,n,null,null)},Bu.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&hs(),ry(t.current,2,null,t,null,null),Au(),n[di]=null}};function Bu(t){this._internalRoot=t}Bu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Co();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ar.length&&n!==0&&n<Ar[r].priority;r++);Ar.splice(r,0,t),r===0&&uy(t)}};var fy=e.version;if(fy!=="19.0.0")throw Error(s(527,fy,"19.0.0"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=J(n),t=t!==null?ct(t):null,t=t===null?null:t.stateNode,t};var mT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:On,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{qi=ju.inject(mT),He=ju}catch{}}return Gl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Vg,f=xg,v=Ng,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ny(t,1,!1,null,null,r,l,c,f,v,E,null),t[di]=n.current,yf(t.nodeType===8?t.parentNode:t),new Mf(n)},Gl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=Vg,v=xg,E=Ng,R=null,U=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(U=r.formState)),n=ny(t,1,!0,n,r??null,l,c,f,v,E,R,U),n.context=iy(null),r=n.current,l=hn(),c=hr(l),c.callback=null,fr(r,c,l),n.current.lanes=l,oe(n,l),ei(n),t[di]=n.current,yf(t),new Bu(n)},Gl.version="19.0.0",Gl}var Ay;function RT(){if(Ay)return kf.exports;Ay=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),kf.exports=ST(),kf.exports}var wT=RT();const CT=U_(wT);var Fl={},by;function DT(){if(by)return Fl;by=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.parse=d,Fl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,h=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function d(C,O){const P=new h,K=C.length;if(K<2)return P;const H=(O==null?void 0:O.decode)||T;let X=0;do{const et=C.indexOf("=",X);if(et===-1)break;const tt=C.indexOf(";",X),vt=tt===-1?K:tt;if(et>vt){X=C.lastIndexOf(";",et-1)+1;continue}const ht=g(C,X,et),wt=p(C,et,ht),M=C.slice(ht,wt);if(P[M]===void 0){let w=g(C,et+1,vt),b=p(C,vt,w);const V=H(C.slice(w,b));P[M]=V}X=vt+1}while(X<K);return P}function g(C,O,P){do{const K=C.charCodeAt(O);if(K!==32&&K!==9)return O}while(++O<P);return P}function p(C,O,P){for(;O>P;){const K=C.charCodeAt(--O);if(K!==32&&K!==9)return O+1}return P}function y(C,O,P){const K=(P==null?void 0:P.encode)||encodeURIComponent;if(!a.test(C))throw new TypeError(`argument name is invalid: ${C}`);const H=K(O);if(!e.test(H))throw new TypeError(`argument val is invalid: ${O}`);let X=C+"="+H;if(!P)return X;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);X+="; Max-Age="+P.maxAge}if(P.domain){if(!i.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);X+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);X+="; Path="+P.path}if(P.expires){if(!S(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);X+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(X+="; HttpOnly"),P.secure&&(X+="; Secure"),P.partitioned&&(X+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return X}function T(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function S(C){return o.call(C)==="[object Date]"}return Fl}DT();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sy="popstate";function VT(a={}){function e(o,h){let{pathname:d="/",search:g="",hash:p=""}=Ta(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Zf("",{pathname:d,search:g,hash:p},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function i(o,h){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");g=y===-1?p:p.slice(0,y)}return g+"#"+(typeof h=="string"?h:no(h))}function s(o,h){Pn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return NT(e,i,s,a)}function ee(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Pn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xT(){return Math.random().toString(36).substring(2,10)}function Ry(a,e){return{usr:a.state,key:a.key,idx:e}}function Zf(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ta(e):e,state:i,key:e&&e.key||s||xT()}}function no({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Ta(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function NT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:h=!1}=s,d=o.history,g="POP",p=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function S(){g="POP";let H=T(),X=H==null?null:H-y;y=H,p&&p({action:g,location:K.location,delta:X})}function C(H,X){g="PUSH";let et=Zf(K.location,H,X);i&&i(et,H),y=T()+1;let tt=Ry(et,y),vt=K.createHref(et);try{d.pushState(tt,"",vt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(vt)}h&&p&&p({action:g,location:K.location,delta:1})}function O(H,X){g="REPLACE";let et=Zf(K.location,H,X);i&&i(et,H),y=T();let tt=Ry(et,y),vt=K.createHref(et);d.replaceState(tt,"",vt),h&&p&&p({action:g,location:K.location,delta:0})}function P(H){let X=o.location.origin!=="null"?o.location.origin:o.location.href,et=typeof H=="string"?H:no(H);return et=et.replace(/ $/,"%20"),ee(X,`No window.location.(origin|href) available to create URL for href: ${et}`),new URL(et,X)}let K={get action(){return g},get location(){return a(o,d)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Sy,S),p=H,()=>{o.removeEventListener(Sy,S),p=null}},createHref(H){return e(o,H)},createURL:P,encodeLocation(H){let X=P(H);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:C,replace:O,go(H){return d.go(H)}};return K}function L_(a,e,i="/"){return OT(a,e,i,!1)}function OT(a,e,i,s){let o=typeof e=="string"?Ta(e):e,h=Nr(o.pathname||"/",i);if(h==null)return null;let d=k_(a);IT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=GT(h);g=HT(d[p],y,s)}return g}function k_(a,e=[],i=[],s=""){let o=(h,d,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=ki([s,p.relativePath]),T=i.concat(p);h.children&&h.children.length>0&&(ee(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),k_(h.children,e,T,y)),!(h.path==null&&!h.index)&&e.push({path:y,score:BT(y,h.index),routesMeta:T})};return a.forEach((h,d)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))o(h,d);else for(let p of z_(h.path))o(h,d,p)}),e}function z_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return o?[h,""]:[h];let d=z_(s.join("/")),g=[];return g.push(...d.map(p=>p===""?h:[h,p].join("/"))),o&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function IT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:jT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var MT=/^:[\w-]+$/,UT=3,LT=2,kT=1,zT=10,PT=-2,wy=a=>a==="*";function BT(a,e){let i=a.split("/"),s=i.length;return i.some(wy)&&(s+=PT),e&&(s+=LT),i.filter(o=>!wy(o)).reduce((o,h)=>o+(MT.test(h)?UT:h===""?kT:zT),s)}function jT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function HT(a,e,i=!1){let{routesMeta:s}=a,o={},h="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,T=h==="/"?e:e.slice(h.length)||"/",S=nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),C=p.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:ki([h,S.pathname]),pathnameBase:YT(ki([h,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(h=ki([h,S.pathnameBase]))}return d}function nc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=qT(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let h=o[0],d=h.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:S},C)=>{if(T==="*"){let P=g[C]||"";d=h.slice(0,h.length-P.length).replace(/(.)\/+$/,"$1")}const O=g[C];return S&&!O?y[T]=void 0:y[T]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:d,pattern:a}}function qT(a,e=!1,i=!0){Pn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function GT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Nr(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function FT(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Ta(a):a;return{pathname:i?i.startsWith("/")?i:QT(i,e):e,search:XT(s),hash:$T(o)}}function QT(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function jf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function P_(a){let e=KT(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function B_(a,e,i,s=!1){let o;typeof a=="string"?o=Ta(a):(o={...a},ee(!o.pathname||!o.pathname.includes("?"),jf("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),jf("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),jf("#","search","hash",o)));let h=a===""||o.pathname==="",d=h?"/":o.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}g=S>=0?e[S]:"/"}let p=FT(o,g),y=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var ki=a=>a.join("/").replace(/\/\/+/g,"/"),YT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),XT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,$T=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function ZT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var j_=["POST","PUT","PATCH","DELETE"];new Set(j_);var WT=["GET",...j_];new Set(WT);var Os=G.createContext(null);Os.displayName="DataRouter";var vc=G.createContext(null);vc.displayName="DataRouterState";var H_=G.createContext({isTransitioning:!1});H_.displayName="ViewTransition";var JT=G.createContext(new Map);JT.displayName="Fetchers";var tA=G.createContext(null);tA.displayName="Await";var oi=G.createContext(null);oi.displayName="Navigation";var fo=G.createContext(null);fo.displayName="Location";var ui=G.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var Ad=G.createContext(null);Ad.displayName="RouteError";function eA(a,{relative:e}={}){ee(mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(oi),{hash:o,pathname:h,search:d}=go(a,{relative:e}),g=h;return i!=="/"&&(g=h==="/"?i:ki([i,h])),s.createHref({pathname:g,search:d,hash:o})}function mo(){return G.useContext(fo)!=null}function Aa(){return ee(mo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(fo).location}var q_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G_(a){G.useContext(oi).static||G.useLayoutEffect(a)}function bd(){let{isDataRoute:a}=G.useContext(ui);return a?gA():nA()}function nA(){ee(mo(),"useNavigate() may be used only in the context of a <Router> component.");let a=G.useContext(Os),{basename:e,navigator:i}=G.useContext(oi),{matches:s}=G.useContext(ui),{pathname:o}=Aa(),h=JSON.stringify(P_(s)),d=G.useRef(!1);return G_(()=>{d.current=!0}),G.useCallback((p,y={})=>{if(Pn(d.current,q_),!d.current)return;if(typeof p=="number"){i.go(p);return}let T=B_(p,JSON.parse(h),o,y.relative==="path");a==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ki([e,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[e,i,h,o,a])}G.createContext(null);function iA(){let{matches:a}=G.useContext(ui),e=a[a.length-1];return e?e.params:{}}function go(a,{relative:e}={}){let{matches:i}=G.useContext(ui),{pathname:s}=Aa(),o=JSON.stringify(P_(i));return G.useMemo(()=>B_(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function rA(a,e){return F_(a,e)}function F_(a,e,i,s){var et;ee(mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:h}=G.useContext(oi),{matches:d}=G.useContext(ui),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",T=g?g.pathnameBase:"/",S=g&&g.route;{let tt=S&&S.path||"";Q_(y,!S||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let C=Aa(),O;if(e){let tt=typeof e=="string"?Ta(e):e;ee(T==="/"||((et=tt.pathname)==null?void 0:et.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),O=tt}else O=C;let P=O.pathname||"/",K=P;if(T!=="/"){let tt=T.replace(/^\//,"").split("/");K="/"+P.replace(/^\//,"").split("/").slice(tt.length).join("/")}let H=!h&&i&&i.matches&&i.matches.length>0?i.matches:L_(a,{pathname:K});Pn(S||H!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Pn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=uA(H&&H.map(tt=>Object.assign({},tt,{params:Object.assign({},p,tt.params),pathname:ki([T,o.encodeLocation?o.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?T:ki([T,o.encodeLocation?o.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),d,i,s);return e&&X?G.createElement(fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},X):X}function aA(){let a=mA(),e=ZT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:h},"ErrorBoundary")," or"," ",G.createElement("code",{style:h},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),i?G.createElement("pre",{style:o},i):null,d)}var sA=G.createElement(aA,null),lA=class extends G.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?G.createElement(ui.Provider,{value:this.props.routeContext},G.createElement(Ad.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oA({routeContext:a,match:e,children:i}){let s=G.useContext(Os);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(ui.Provider,{value:a},i)}function uA(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,h=i==null?void 0:i.errors;if(h!=null){let p=o.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:T,errors:S}=i,C=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||C){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let S,C=!1,O=null,P=null;i&&(S=h&&y.route.id?h[y.route.id]:void 0,O=y.route.errorElement||sA,d&&(g<0&&T===0?(Q_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,P=null):g===T&&(C=!0,P=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,T+1)),H=()=>{let X;return S?X=O:C?X=P:y.route.Component?X=G.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=p,G.createElement(oA,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:i!=null},children:X})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?G.createElement(lA,{location:i.location,revalidation:i.revalidation,component:O,error:S,children:H(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):H()},null)}function Sd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cA(a){let e=G.useContext(Os);return ee(e,Sd(a)),e}function hA(a){let e=G.useContext(vc);return ee(e,Sd(a)),e}function fA(a){let e=G.useContext(ui);return ee(e,Sd(a)),e}function Rd(a){let e=fA(a),i=e.matches[e.matches.length-1];return ee(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function dA(){return Rd("useRouteId")}function mA(){var s;let a=G.useContext(Ad),e=hA("useRouteError"),i=Rd("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function gA(){let{router:a}=cA("useNavigate"),e=Rd("useNavigate"),i=G.useRef(!1);return G_(()=>{i.current=!0}),G.useCallback(async(o,h={})=>{Pn(i.current,q_),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...h}))},[a,e])}var Cy={};function Q_(a,e,i){!e&&!Cy[a]&&(Cy[a]=!0,Pn(!1,i))}G.memo(pA);function pA({routes:a,future:e,state:i}){return F_(a,void 0,i,e)}function Kl(a){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yA({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:h=!1}){ee(!mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:d,navigator:o,static:h,future:{}}),[d,o,h]);typeof i=="string"&&(i=Ta(i));let{pathname:p="/",search:y="",hash:T="",state:S=null,key:C="default"}=i,O=G.useMemo(()=>{let P=Nr(p,d);return P==null?null:{location:{pathname:P,search:y,hash:T,state:S,key:C},navigationType:s}},[d,p,y,T,S,C,s]);return Pn(O!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:G.createElement(oi.Provider,{value:g},G.createElement(fo.Provider,{children:e,value:O}))}function _A({children:a,location:e}){return rA(Wf(a),e)}function Wf(a,e=[]){let i=[];return G.Children.forEach(a,(s,o)=>{if(!G.isValidElement(s))return;let h=[...e,o];if(s.type===G.Fragment){i.push.apply(i,Wf(s.props.children,h));return}ee(s.type===Kl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Wf(s.props.children,h)),i.push(d)}),i}var Yu="get",Xu="application/x-www-form-urlencoded";function Ec(a){return a!=null&&typeof a.tagName=="string"}function vA(a){return Ec(a)&&a.tagName.toLowerCase()==="button"}function EA(a){return Ec(a)&&a.tagName.toLowerCase()==="form"}function TA(a){return Ec(a)&&a.tagName.toLowerCase()==="input"}function AA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function bA(a,e){return a.button===0&&(!e||e==="_self")&&!AA(a)}var Hu=null;function SA(){if(Hu===null)try{new FormData(document.createElement("form"),0),Hu=!1}catch{Hu=!0}return Hu}var RA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hf(a){return a!=null&&!RA.has(a)?(Pn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xu}"`),null):a}function wA(a,e){let i,s,o,h,d;if(EA(a)){let g=a.getAttribute("action");s=g?Nr(g,e):null,i=a.getAttribute("method")||Yu,o=Hf(a.getAttribute("enctype"))||Xu,h=new FormData(a)}else if(vA(a)||TA(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?Nr(p,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Yu,o=Hf(a.getAttribute("formenctype"))||Hf(g.getAttribute("enctype"))||Xu,h=new FormData(g,a),!SA()){let{name:y,type:T,value:S}=a;if(T==="image"){let C=y?`${y}.`:"";h.append(`${C}x`,"0"),h.append(`${C}y`,"0")}else y&&h.append(y,S)}}else{if(Ec(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Yu,s=null,o=Xu,d=a}return h&&o==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:h,body:d}}function wd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function CA(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function VA(a,e,i){let s=await Promise.all(a.map(async o=>{let h=e.routes[o.route.id];if(h){let d=await CA(h,i);return d.links?d.links():[]}return[]}));return IA(s.flat(1).filter(DA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Dy(a,e,i,s,o,h){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return h==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):h==="data"?e.filter((p,y)=>{var S;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function xA(a,e){return NA(a.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function NA(a){return[...new Set(a)]}function OA(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function IA(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let h=JSON.stringify(OA(o));return i.has(h)||(i.add(h),s.push({key:h,link:o})),s},[])}function MA(a){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function UA(){let a=G.useContext(Os);return wd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function LA(){let a=G.useContext(vc);return wd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Cd=G.createContext(void 0);Cd.displayName="FrameworkContext";function K_(){let a=G.useContext(Cd);return wd(a,"You must render this element inside a <HydratedRouter> element"),a}function kA(a,e){let i=G.useContext(Cd),[s,o]=G.useState(!1),[h,d]=G.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:S}=e,C=G.useRef(null);G.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let K=X=>{X.forEach(et=>{d(et.isIntersecting)})},H=new IntersectionObserver(K,{threshold:.5});return C.current&&H.observe(C.current),()=>{H.disconnect()}}},[a]),G.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let O=()=>{o(!0)},P=()=>{o(!1),d(!1)};return i?a!=="intent"?[h,C,{}]:[h,C,{onFocus:Ql(g,O),onBlur:Ql(p,P),onMouseEnter:Ql(y,O),onMouseLeave:Ql(T,P),onTouchStart:Ql(S,O)}]:[!1,C,{}]}function Ql(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function zA({page:a,...e}){let{router:i}=UA(),s=G.useMemo(()=>L_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?G.createElement(BA,{page:a,matches:s,...e}):null}function PA(a){let{manifest:e,routeModules:i}=K_(),[s,o]=G.useState([]);return G.useEffect(()=>{let h=!1;return VA(a,e,i).then(d=>{h||o(d)}),()=>{h=!0}},[a,e,i]),s}function BA({page:a,matches:e,...i}){let s=Aa(),{manifest:o,routeModules:h}=K_(),{loaderData:d,matches:g}=LA(),p=G.useMemo(()=>Dy(a,e,g,o,s,"data"),[a,e,g,o,s]),y=G.useMemo(()=>Dy(a,e,g,o,s,"assets"),[a,e,g,o,s]),T=G.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let O=new Set,P=!1;if(e.forEach(H=>{var et;let X=o.routes[H.route.id];!X||!X.hasLoader||(!p.some(tt=>tt.route.id===H.route.id)&&H.route.id in d&&((et=h[H.route.id])!=null&&et.shouldRevalidate)||X.hasClientLoader?P=!0:O.add(H.route.id))}),O.size===0)return[];let K=MA(a);return P&&O.size>0&&K.searchParams.set("_routes",e.filter(H=>O.has(H.route.id)).map(H=>H.route.id).join(",")),[K.pathname+K.search]},[d,s,o,p,e,a,h]),S=G.useMemo(()=>xA(y,o),[y,o]),C=PA(y);return G.createElement(G.Fragment,null,T.map(O=>G.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...i})),S.map(O=>G.createElement("link",{key:O,rel:"modulepreload",href:O,...i})),C.map(({key:O,link:P})=>G.createElement("link",{key:O,...P})))}function jA(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Y_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y_&&(window.__reactRouterVersion="7.1.5")}catch{}function HA({basename:a,children:e,window:i}){let s=G.useRef();s.current==null&&(s.current=VT({window:i,v5Compat:!0}));let o=s.current,[h,d]=G.useState({action:o.action,location:o.location}),g=G.useCallback(p=>{G.startTransition(()=>d(p))},[d]);return G.useLayoutEffect(()=>o.listen(g),[o,g]),G.createElement(yA,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:o})}var X_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$_=G.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:h,replace:d,state:g,target:p,to:y,preventScrollReset:T,viewTransition:S,...C},O){let{basename:P}=G.useContext(oi),K=typeof y=="string"&&X_.test(y),H,X=!1;if(typeof y=="string"&&K&&(H=y,Y_))try{let b=new URL(window.location.href),V=y.startsWith("//")?new URL(b.protocol+y):new URL(y),I=Nr(V.pathname,P);V.origin===b.origin&&I!=null?y=I+V.search+V.hash:X=!0}catch{Pn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=eA(y,{relative:o}),[tt,vt,ht]=kA(s,C),wt=QA(y,{replace:d,state:g,target:p,preventScrollReset:T,relative:o,viewTransition:S});function M(b){e&&e(b),b.defaultPrevented||wt(b)}let w=G.createElement("a",{...C,...ht,href:H||et,onClick:X||h?e:M,ref:jA(O,vt),target:p,"data-discover":!K&&i==="render"?"true":void 0});return tt&&!K?G.createElement(G.Fragment,null,w,G.createElement(zA,{page:et})):w});$_.displayName="Link";var qA=G.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:h,to:d,viewTransition:g,children:p,...y},T){let S=go(d,{relative:y.relative}),C=Aa(),O=G.useContext(vc),{navigator:P,basename:K}=G.useContext(oi),H=O!=null&&ZA(S)&&g===!0,X=P.encodeLocation?P.encodeLocation(S).pathname:S.pathname,et=C.pathname,tt=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(et=et.toLowerCase(),tt=tt?tt.toLowerCase():null,X=X.toLowerCase()),tt&&K&&(tt=Nr(tt,K)||tt);const vt=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ht=et===X||!o&&et.startsWith(X)&&et.charAt(vt)==="/",wt=tt!=null&&(tt===X||!o&&tt.startsWith(X)&&tt.charAt(X.length)==="/"),M={isActive:ht,isPending:wt,isTransitioning:H},w=ht?e:void 0,b;typeof s=="function"?b=s(M):b=[s,ht?"active":null,wt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof h=="function"?h(M):h;return G.createElement($_,{...y,"aria-current":w,className:b,ref:T,style:V,to:d,viewTransition:g},typeof p=="function"?p(M):p)});qA.displayName="NavLink";var GA=G.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:h,method:d=Yu,action:g,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:S,...C},O)=>{let P=XA(),K=$A(g,{relative:y}),H=d.toLowerCase()==="get"?"get":"post",X=typeof g=="string"&&X_.test(g),et=tt=>{if(p&&p(tt),tt.defaultPrevented)return;tt.preventDefault();let vt=tt.nativeEvent.submitter,ht=(vt==null?void 0:vt.getAttribute("formmethod"))||d;P(vt||tt.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:o,state:h,relative:y,preventScrollReset:T,viewTransition:S})};return G.createElement("form",{ref:O,method:H,action:K,onSubmit:s?p:et,...C,"data-discover":!X&&a==="render"?"true":void 0})});GA.displayName="Form";function FA(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z_(a){let e=G.useContext(Os);return ee(e,FA(a)),e}function QA(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:h,viewTransition:d}={}){let g=bd(),p=Aa(),y=go(a,{relative:h});return G.useCallback(T=>{if(bA(T,e)){T.preventDefault();let S=i!==void 0?i:no(p)===no(y);g(a,{replace:S,state:s,preventScrollReset:o,relative:h,viewTransition:d})}},[p,g,y,i,s,e,a,o,h,d])}var KA=0,YA=()=>`__${String(++KA)}__`;function XA(){let{router:a}=Z_("useSubmit"),{basename:e}=G.useContext(oi),i=dA();return G.useCallback(async(s,o={})=>{let{action:h,method:d,encType:g,formData:p,body:y}=wA(s,e);if(o.navigate===!1){let T=o.fetcherKey||YA();await a.fetch(T,i,o.action||h,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||h,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function $A(a,{relative:e}={}){let{basename:i}=G.useContext(oi),s=G.useContext(ui);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),h={...go(a||".",{relative:e})},d=Aa();if(a==null){h.search=d.search;let g=new URLSearchParams(h.search),p=g.getAll("index");if(p.some(T=>T==="")){g.delete("index"),p.filter(S=>S).forEach(S=>g.append("index",S));let T=g.toString();h.search=T?`?${T}`:""}}return(!a||a===".")&&o.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:ki([i,h.pathname])),no(h)}function ZA(a,e={}){let i=G.useContext(H_);ee(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Z_("useViewTransitionState"),o=go(a,{relative:e.relative});if(!i.isTransitioning)return!1;let h=Nr(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Nr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return nc(o.pathname,d)!=null||nc(o.pathname,h)!=null}new TextEncoder;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W_=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=G.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...g},p)=>G.createElement("svg",{ref:p,...JA,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:W_("lucide",o),...g},[...d.map(([y,T])=>G.createElement(y,T)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=(a,e)=>{const i=G.forwardRef(({className:s,...o},h)=>G.createElement(tb,{ref:h,iconNode:e,className:W_(`lucide-${WA(a)}`,s),...o}));return i.displayName=`${a}`,i};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ib=eb("Settings",nb),rb="d5d171e",Tc=()=>it.jsxs("p",{className:"text-sm text-gray-600 text-center w-full py-2",children:["Version: ",rb]}),io=[{name:"Red",displayName:"Röd",navigateButtonColor:"bg-red-600 hover:bg-red-700 text-white",backgroundColor:"bg-red-600",textColor:"text-white",teamButtonColor:"from-red-500 to-red-700",teamButtonPressedColor:"from-red-700 to-red-900"},{name:"LightBlue",displayName:"Ljusblå",navigateButtonColor:"bg-sky-500 hover:bg-sky-600 text-black",backgroundColor:"bg-sky-500",textColor:"text-black",teamButtonColor:"from-sky-500 to-sky-700",teamButtonPressedColor:"from-sky-700 to-sky-900"},{name:"Orange",displayName:"Orange",navigateButtonColor:"bg-orange-500 hover:bg-orange-600 text-black",backgroundColor:"bg-orange-500",textColor:"text-black",teamButtonColor:"from-orange-500 to-orange-700",teamButtonPressedColor:"from-orange-300 to-orange-600"},{name:"Blue",displayName:"Blå",navigateButtonColor:"bg-blue-600 hover:bg-blue-700 text-white",backgroundColor:"bg-blue-600",textColor:"text-white",teamButtonColor:"from-blue-500 to-blue-700",teamButtonPressedColor:"from-blue-700 to-blue-900"},{name:"Yellow",displayName:"Gul",navigateButtonColor:"bg-yellow-500 hover:bg-yellow-600 text-black",backgroundColor:"bg-yellow-500",textColor:"text-black",teamButtonColor:"from-yellow-400 to-yellow-600",teamButtonPressedColor:"from-yellow-600 to-yellow-800"},{name:"Purple",displayName:"Lila",navigateButtonColor:"bg-purple-600 hover:bg-purple-700 text-white",backgroundColor:"bg-purple-600",textColor:"text-white",teamButtonColor:"from-purple-500 to-purple-700",teamButtonPressedColor:"from-purple-700 to-purple-900"},{name:"Green",displayName:"Grön",navigateButtonColor:"bg-green-600 hover:bg-green-700 text-white",backgroundColor:"bg-green-600",textColor:"text-white",teamButtonColor:"from-green-500 to-green-700",teamButtonPressedColor:"from-green-700 to-green-900"},{name:"Pink",displayName:"Rosa",navigateButtonColor:"bg-pink-500 hover:bg-pink-600 text-black",backgroundColor:"bg-pink-500",textColor:"text-black",teamButtonColor:"from-pink-500 to-pink-700",teamButtonPressedColor:"from-pink-700 to-pink-900"}],Ac="/quiz_answer_app/assets/uadj_01_fixed-CkPryiud.png",ab=()=>{const a=bd();return it.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen w-screen bg-gradient-to-b from-gray-100 to-gray-300 text-black p-6 relative",children:[it.jsx("button",{onClick:()=>a("/admin"),className:"absolute top-4 left-4 p-2 bg-gray-300 hover:bg-gray-400 rounded-full shadow-md transition duration-300",children:it.jsx(ib,{className:"w-6 h-6 text-black"})}),it.jsx("img",{src:Ac,alt:"Musikkampen Logo",className:"w-40 mb-6"}),it.jsx("button",{onClick:()=>a("/dashboard"),className:"absolute top-4 right-4 p-2 bg-gray-300 hover:bg-gray-400 rounded-full shadow-md transition duration-300",children:"📊"}),it.jsxs("h1",{className:"text-4xl font-extrabold mb-4 text-center tracking-wide",children:["🎵 Välkommen till"," ",it.jsx("span",{className:"text-blue-600 musikkampen-title",children:"Musikkampen"})," 🎵"]}),it.jsx("p",{className:"text-lg text-center mb-6",children:"Välj ditt lags ballongfärg för att börja spela!"}),it.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md",children:io.map(({name:e,displayName:i,navigateButtonColor:s})=>it.jsx("button",{onClick:()=>a(`/team/${e.toLowerCase()}`),className:`${s} px-6 py-3 rounded-2xl text-lg font-semibold w-full shadow-md transform transition duration-300 hover:scale-105`,children:i},e))}),it.jsx(Tc,{})]})};var Vy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},sb=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},tv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,T=h>>2,S=(h&3)<<4|g>>4;let C=(g&15)<<2|y>>6,O=y&63;p||(O=64,d||(C=64)),s.push(i[T],i[S],i[C],i[O])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(J_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):sb(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||y==null||S==null)throw new lb;const C=h<<2|g>>4;if(s.push(C),y!==64){const O=g<<4&240|y>>2;if(s.push(O),S!==64){const P=y<<6&192|S;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ob=function(a){const e=J_(a);return tv.encodeByteArray(e,!0)},ic=function(a){return ob(a).replace(/\./g,"")},ub=function(a){try{return tv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=()=>cb().__FIREBASE_DEFAULTS__,fb=()=>{if(typeof process>"u"||typeof Vy>"u")return;const a=Vy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},db=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&ub(a[1]);return e&&JSON.parse(e)},Dd=()=>{try{return hb()||fb()||db()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},mb=a=>{var e,i;return(i=(e=Dd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},gb=a=>{const e=mb(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},ev=()=>{var a;return(a=Dd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[ic(JSON.stringify(i)),ic(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vb(){var a;const e=(a=Dd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Eb(){return!vb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ab(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="FirebaseError";class Is extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=bb,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nv.prototype.create)}}class nv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?Sb(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Is(o,g,s)}}function Sb(a,e){return a.replace(Rb,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Rb=/\{\$([^}]+)}/g;function Jf(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(xy(h)&&xy(d)){if(!Jf(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function xy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(a){return a&&a._delegate?a._delegate:a}class ro{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new pb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Db(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Cb(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cb(a){return a===pa?void 0:a}function Db(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new wb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(kt||(kt={}));const xb={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Nb=kt.INFO,Ob={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Ib=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=Ob[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iv{constructor(e){this.name=e,this._logLevel=Nb,this._logHandler=Ib,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const Mb=(a,e)=>e.some(i=>a instanceof i);let Ny,Oy;function Ub(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lb(){return Oy||(Oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rv=new WeakMap,td=new WeakMap,av=new WeakMap,qf=new WeakMap,Vd=new WeakMap;function kb(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(wr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&rv.set(i,a)}).catch(()=>{}),Vd.set(e,a),e}function zb(a){if(td.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});td.set(a,e)}let ed={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return td.get(a);if(e==="objectStoreNames")return a.objectStoreNames||av.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Pb(a){ed=a(ed)}function Bb(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Gf(this),e,...i);return av.set(s,e.sort?e.sort():[e]),wr(s)}:Lb().includes(a)?function(...e){return a.apply(Gf(this),e),wr(rv.get(this))}:function(...e){return wr(a.apply(Gf(this),e))}}function jb(a){return typeof a=="function"?Bb(a):(a instanceof IDBTransaction&&zb(a),Mb(a,Ub())?new Proxy(a,ed):a)}function wr(a){if(a instanceof IDBRequest)return kb(a);if(qf.has(a))return qf.get(a);const e=jb(a);return e!==a&&(qf.set(a,e),Vd.set(e,a)),e}const Gf=a=>Vd.get(a);function Hb(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=wr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(wr(d.result),p.oldVersion,p.newVersion,wr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const qb=["get","getKey","getAll","getAllKeys","count"],Gb=["put","add","delete","clear"],Ff=new Map;function Iy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Ff.get(e))return Ff.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=Gb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qb.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Ff.set(e,h),h}Pb(a=>({...a,get:(e,i,s)=>Iy(e,i)||a.get(e,i,s),has:(e,i)=>!!Iy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Qb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Qb(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nd="@firebase/app",My="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new iv("@firebase/app"),Kb="@firebase/app-compat",Yb="@firebase/analytics-compat",Xb="@firebase/analytics",$b="@firebase/app-check-compat",Zb="@firebase/app-check",Wb="@firebase/auth",Jb="@firebase/auth-compat",tS="@firebase/database",eS="@firebase/data-connect",nS="@firebase/database-compat",iS="@firebase/functions",rS="@firebase/functions-compat",aS="@firebase/installations",sS="@firebase/installations-compat",lS="@firebase/messaging",oS="@firebase/messaging-compat",uS="@firebase/performance",cS="@firebase/performance-compat",hS="@firebase/remote-config",fS="@firebase/remote-config-compat",dS="@firebase/storage",mS="@firebase/storage-compat",gS="@firebase/firestore",pS="@firebase/vertexai",yS="@firebase/firestore-compat",_S="firebase",vS="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="[DEFAULT]",ES={[nd]:"fire-core",[Kb]:"fire-core-compat",[Xb]:"fire-analytics",[Yb]:"fire-analytics-compat",[Zb]:"fire-app-check",[$b]:"fire-app-check-compat",[Wb]:"fire-auth",[Jb]:"fire-auth-compat",[tS]:"fire-rtdb",[eS]:"fire-data-connect",[nS]:"fire-rtdb-compat",[iS]:"fire-fn",[rS]:"fire-fn-compat",[aS]:"fire-iid",[sS]:"fire-iid-compat",[lS]:"fire-fcm",[oS]:"fire-fcm-compat",[uS]:"fire-perf",[cS]:"fire-perf-compat",[hS]:"fire-rc",[fS]:"fire-rc-compat",[dS]:"fire-gcs",[mS]:"fire-gcs-compat",[gS]:"fire-fst",[yS]:"fire-fst-compat",[pS]:"fire-vertex","fire-js":"fire-js",[_S]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,TS=new Map,rd=new Map;function Uy(a,e){try{a.container.addComponent(e)}catch(i){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function ac(a){const e=a.name;if(rd.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;rd.set(e,a);for(const i of rc.values())Uy(i,a);for(const i of TS.values())Uy(i,a);return!0}function AS(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function bS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new nv("app","Firebase",SS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=vS;function sv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:id,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Cr.create("bad-app-name",{appName:String(o)});if(i||(i=ev()),!i)throw Cr.create("no-options");const h=rc.get(o);if(h){if(Jf(i,h.options)&&Jf(s,h.config))return h;throw Cr.create("duplicate-app",{appName:o})}const d=new Vb(o);for(const p of rd.values())d.addComponent(p);const g=new RS(i,s,d);return rc.set(o,g),g}function CS(a=id){const e=rc.get(a);if(!e&&a===id&&ev())return sv();if(!e)throw Cr.create("no-app",{appName:a});return e}function Ts(a,e,i){var s;let o=(s=ES[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(g.join(" "));return}ac(new ro(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebase-heartbeat-database",VS=1,ao="firebase-heartbeat-store";let Qf=null;function lv(){return Qf||(Qf=Hb(DS,VS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(ao)}catch(i){console.warn(i)}}}}).catch(a=>{throw Cr.create("idb-open",{originalErrorMessage:a.message})})),Qf}async function xS(a){try{const i=(await lv()).transaction(ao),s=await i.objectStore(ao).get(ov(a));return await i.done,s}catch(e){if(e instanceof Is)zi.warn(e.message);else{const i=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(i.message)}}}async function Ly(a,e){try{const s=(await lv()).transaction(ao,"readwrite");await s.objectStore(ao).put(e,ov(a)),await s.done}catch(i){if(i instanceof Is)zi.warn(i.message);else{const s=Cr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});zi.warn(s.message)}}}function ov(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=1024,OS=30;class IS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new US(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ky();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>OS){const d=LS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ky(),{heartbeatsToSend:s,unsentEntries:o}=MS(this._heartbeatsCache.heartbeats),h=ic(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return zi.warn(i),""}}}function ky(){return new Date().toISOString().substring(0,10)}function MS(a,e=NS){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),zy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),zy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class US{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tb()?Ab().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ly(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ly(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function zy(a){return ic(JSON.stringify({version:2,heartbeats:a})).length}function LS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(a){ac(new ro("platform-logger",e=>new Fb(e),"PRIVATE")),ac(new ro("heartbeat",e=>new IS(e),"PRIVATE")),Ts(nd,My,a),Ts(nd,My,"esm2017"),Ts("fire-js","")}kS("");var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dr,uv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,w){function b(){}b.prototype=w.prototype,M.D=w.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(V,I,z){for(var D=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)D[ye-2]=arguments[ye];return w.prototype[I].apply(V,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,w,b){b||(b=0);var V=Array(16);if(typeof w=="string")for(var I=0;16>I;++I)V[I]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(I=0;16>I;++I)V[I]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=M.g[0],b=M.g[1],I=M.g[2];var z=M.g[3],D=w+(z^b&(I^z))+V[0]+3614090360&4294967295;w=b+(D<<7&4294967295|D>>>25),D=z+(I^w&(b^I))+V[1]+3905402710&4294967295,z=w+(D<<12&4294967295|D>>>20),D=I+(b^z&(w^b))+V[2]+606105819&4294967295,I=z+(D<<17&4294967295|D>>>15),D=b+(w^I&(z^w))+V[3]+3250441966&4294967295,b=I+(D<<22&4294967295|D>>>10),D=w+(z^b&(I^z))+V[4]+4118548399&4294967295,w=b+(D<<7&4294967295|D>>>25),D=z+(I^w&(b^I))+V[5]+1200080426&4294967295,z=w+(D<<12&4294967295|D>>>20),D=I+(b^z&(w^b))+V[6]+2821735955&4294967295,I=z+(D<<17&4294967295|D>>>15),D=b+(w^I&(z^w))+V[7]+4249261313&4294967295,b=I+(D<<22&4294967295|D>>>10),D=w+(z^b&(I^z))+V[8]+1770035416&4294967295,w=b+(D<<7&4294967295|D>>>25),D=z+(I^w&(b^I))+V[9]+2336552879&4294967295,z=w+(D<<12&4294967295|D>>>20),D=I+(b^z&(w^b))+V[10]+4294925233&4294967295,I=z+(D<<17&4294967295|D>>>15),D=b+(w^I&(z^w))+V[11]+2304563134&4294967295,b=I+(D<<22&4294967295|D>>>10),D=w+(z^b&(I^z))+V[12]+1804603682&4294967295,w=b+(D<<7&4294967295|D>>>25),D=z+(I^w&(b^I))+V[13]+4254626195&4294967295,z=w+(D<<12&4294967295|D>>>20),D=I+(b^z&(w^b))+V[14]+2792965006&4294967295,I=z+(D<<17&4294967295|D>>>15),D=b+(w^I&(z^w))+V[15]+1236535329&4294967295,b=I+(D<<22&4294967295|D>>>10),D=w+(I^z&(b^I))+V[1]+4129170786&4294967295,w=b+(D<<5&4294967295|D>>>27),D=z+(b^I&(w^b))+V[6]+3225465664&4294967295,z=w+(D<<9&4294967295|D>>>23),D=I+(w^b&(z^w))+V[11]+643717713&4294967295,I=z+(D<<14&4294967295|D>>>18),D=b+(z^w&(I^z))+V[0]+3921069994&4294967295,b=I+(D<<20&4294967295|D>>>12),D=w+(I^z&(b^I))+V[5]+3593408605&4294967295,w=b+(D<<5&4294967295|D>>>27),D=z+(b^I&(w^b))+V[10]+38016083&4294967295,z=w+(D<<9&4294967295|D>>>23),D=I+(w^b&(z^w))+V[15]+3634488961&4294967295,I=z+(D<<14&4294967295|D>>>18),D=b+(z^w&(I^z))+V[4]+3889429448&4294967295,b=I+(D<<20&4294967295|D>>>12),D=w+(I^z&(b^I))+V[9]+568446438&4294967295,w=b+(D<<5&4294967295|D>>>27),D=z+(b^I&(w^b))+V[14]+3275163606&4294967295,z=w+(D<<9&4294967295|D>>>23),D=I+(w^b&(z^w))+V[3]+4107603335&4294967295,I=z+(D<<14&4294967295|D>>>18),D=b+(z^w&(I^z))+V[8]+1163531501&4294967295,b=I+(D<<20&4294967295|D>>>12),D=w+(I^z&(b^I))+V[13]+2850285829&4294967295,w=b+(D<<5&4294967295|D>>>27),D=z+(b^I&(w^b))+V[2]+4243563512&4294967295,z=w+(D<<9&4294967295|D>>>23),D=I+(w^b&(z^w))+V[7]+1735328473&4294967295,I=z+(D<<14&4294967295|D>>>18),D=b+(z^w&(I^z))+V[12]+2368359562&4294967295,b=I+(D<<20&4294967295|D>>>12),D=w+(b^I^z)+V[5]+4294588738&4294967295,w=b+(D<<4&4294967295|D>>>28),D=z+(w^b^I)+V[8]+2272392833&4294967295,z=w+(D<<11&4294967295|D>>>21),D=I+(z^w^b)+V[11]+1839030562&4294967295,I=z+(D<<16&4294967295|D>>>16),D=b+(I^z^w)+V[14]+4259657740&4294967295,b=I+(D<<23&4294967295|D>>>9),D=w+(b^I^z)+V[1]+2763975236&4294967295,w=b+(D<<4&4294967295|D>>>28),D=z+(w^b^I)+V[4]+1272893353&4294967295,z=w+(D<<11&4294967295|D>>>21),D=I+(z^w^b)+V[7]+4139469664&4294967295,I=z+(D<<16&4294967295|D>>>16),D=b+(I^z^w)+V[10]+3200236656&4294967295,b=I+(D<<23&4294967295|D>>>9),D=w+(b^I^z)+V[13]+681279174&4294967295,w=b+(D<<4&4294967295|D>>>28),D=z+(w^b^I)+V[0]+3936430074&4294967295,z=w+(D<<11&4294967295|D>>>21),D=I+(z^w^b)+V[3]+3572445317&4294967295,I=z+(D<<16&4294967295|D>>>16),D=b+(I^z^w)+V[6]+76029189&4294967295,b=I+(D<<23&4294967295|D>>>9),D=w+(b^I^z)+V[9]+3654602809&4294967295,w=b+(D<<4&4294967295|D>>>28),D=z+(w^b^I)+V[12]+3873151461&4294967295,z=w+(D<<11&4294967295|D>>>21),D=I+(z^w^b)+V[15]+530742520&4294967295,I=z+(D<<16&4294967295|D>>>16),D=b+(I^z^w)+V[2]+3299628645&4294967295,b=I+(D<<23&4294967295|D>>>9),D=w+(I^(b|~z))+V[0]+4096336452&4294967295,w=b+(D<<6&4294967295|D>>>26),D=z+(b^(w|~I))+V[7]+1126891415&4294967295,z=w+(D<<10&4294967295|D>>>22),D=I+(w^(z|~b))+V[14]+2878612391&4294967295,I=z+(D<<15&4294967295|D>>>17),D=b+(z^(I|~w))+V[5]+4237533241&4294967295,b=I+(D<<21&4294967295|D>>>11),D=w+(I^(b|~z))+V[12]+1700485571&4294967295,w=b+(D<<6&4294967295|D>>>26),D=z+(b^(w|~I))+V[3]+2399980690&4294967295,z=w+(D<<10&4294967295|D>>>22),D=I+(w^(z|~b))+V[10]+4293915773&4294967295,I=z+(D<<15&4294967295|D>>>17),D=b+(z^(I|~w))+V[1]+2240044497&4294967295,b=I+(D<<21&4294967295|D>>>11),D=w+(I^(b|~z))+V[8]+1873313359&4294967295,w=b+(D<<6&4294967295|D>>>26),D=z+(b^(w|~I))+V[15]+4264355552&4294967295,z=w+(D<<10&4294967295|D>>>22),D=I+(w^(z|~b))+V[6]+2734768916&4294967295,I=z+(D<<15&4294967295|D>>>17),D=b+(z^(I|~w))+V[13]+1309151649&4294967295,b=I+(D<<21&4294967295|D>>>11),D=w+(I^(b|~z))+V[4]+4149444226&4294967295,w=b+(D<<6&4294967295|D>>>26),D=z+(b^(w|~I))+V[11]+3174756917&4294967295,z=w+(D<<10&4294967295|D>>>22),D=I+(w^(z|~b))+V[2]+718787259&4294967295,I=z+(D<<15&4294967295|D>>>17),D=b+(z^(I|~w))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+I&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var b=w-this.blockSize,V=this.B,I=this.h,z=0;z<w;){if(I==0)for(;z<=b;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<w;)if(V[I++]=M.charCodeAt(z++),I==this.blockSize){o(this,V),I=0;break}}else for(;z<w;)if(V[I++]=M[z++],I==this.blockSize){o(this,V),I=0;break}}this.h=I,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var b=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=b&255,b/=256;for(this.u(M),M=Array(16),w=b=0;4>w;++w)for(var V=0;32>V;V+=8)M[b++]=this.g[w]>>>V&255;return M};function h(M,w){var b=g;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=w(M)}function d(M,w){this.h=w;for(var b=[],V=!0,I=M.length-1;0<=I;I--){var z=M[I]|0;V&&z==w||(b[I]=z,V=!1)}this.g=b}var g={};function p(M){return-128<=M&&128>M?h(M,function(w){return new d([w|0],0>w?-1:0)}):new d([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return H(y(-M));for(var w=[],b=1,V=0;M>=b;V++)w[V]=M/b|0,b*=4294967296;return new d(w,0)}function T(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return H(T(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(w,8)),V=S,I=0;I<M.length;I+=8){var z=Math.min(8,M.length-I),D=parseInt(M.substring(I,I+z),w);8>z?(z=y(Math.pow(w,z)),V=V.j(z).add(y(D))):(V=V.j(b),V=V.add(y(D)))}return V}var S=p(0),C=p(1),O=p(16777216);a=d.prototype,a.m=function(){if(K(this))return-H(this).m();for(var M=0,w=1,b=0;b<this.g.length;b++){var V=this.i(b);M+=(0<=V?V:4294967296+V)*w,w*=4294967296}return M},a.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(P(this))return"0";if(K(this))return"-"+H(this).toString(M);for(var w=y(Math.pow(M,6)),b=this,V="";;){var I=vt(b,w).g;b=X(b,I.j(w));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=I,P(b))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},a.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function P(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function K(M){return M.h==-1}a.l=function(M){return M=X(this,M),K(M)?-1:P(M)?0:1};function H(M){for(var w=M.g.length,b=[],V=0;V<w;V++)b[V]=~M.g[V];return new d(b,~M.h).add(C)}a.abs=function(){return K(this)?H(this):this},a.add=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],V=0,I=0;I<=w;I++){var z=V+(this.i(I)&65535)+(M.i(I)&65535),D=(z>>>16)+(this.i(I)>>>16)+(M.i(I)>>>16);V=D>>>16,z&=65535,D&=65535,b[I]=D<<16|z}return new d(b,b[b.length-1]&-2147483648?-1:0)};function X(M,w){return M.add(H(w))}a.j=function(M){if(P(this)||P(M))return S;if(K(this))return K(M)?H(this).j(H(M)):H(H(this).j(M));if(K(M))return H(this.j(H(M)));if(0>this.l(O)&&0>M.l(O))return y(this.m()*M.m());for(var w=this.g.length+M.g.length,b=[],V=0;V<2*w;V++)b[V]=0;for(V=0;V<this.g.length;V++)for(var I=0;I<M.g.length;I++){var z=this.i(V)>>>16,D=this.i(V)&65535,ye=M.i(I)>>>16,he=M.i(I)&65535;b[2*V+2*I]+=D*he,et(b,2*V+2*I),b[2*V+2*I+1]+=z*he,et(b,2*V+2*I+1),b[2*V+2*I+1]+=D*ye,et(b,2*V+2*I+1),b[2*V+2*I+2]+=z*ye,et(b,2*V+2*I+2)}for(V=0;V<w;V++)b[V]=b[2*V+1]<<16|b[2*V];for(V=w;V<2*w;V++)b[V]=0;return new d(b,0)};function et(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function tt(M,w){this.g=M,this.h=w}function vt(M,w){if(P(w))throw Error("division by zero");if(P(M))return new tt(S,S);if(K(M))return w=vt(H(M),w),new tt(H(w.g),H(w.h));if(K(w))return w=vt(M,H(w)),new tt(H(w.g),w.h);if(30<M.g.length){if(K(M)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var b=C,V=w;0>=V.l(M);)b=ht(b),V=ht(V);var I=wt(b,1),z=wt(V,1);for(V=wt(V,2),b=wt(b,2);!P(V);){var D=z.add(V);0>=D.l(M)&&(I=I.add(b),z=D),V=wt(V,1),b=wt(b,1)}return w=X(M,I.j(w)),new tt(I,w)}for(I=S;0<=M.l(w);){for(b=Math.max(1,Math.floor(M.m()/w.m())),V=Math.ceil(Math.log(b)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=y(b),D=z.j(w);K(D)||0<D.l(M);)b-=V,z=y(b),D=z.j(w);P(z)&&(z=C),I=I.add(z),M=X(M,D)}return new tt(I,M)}a.A=function(M){return vt(this,M).h},a.and=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],V=0;V<w;V++)b[V]=this.i(V)&M.i(V);return new d(b,this.h&M.h)},a.or=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],V=0;V<w;V++)b[V]=this.i(V)|M.i(V);return new d(b,this.h|M.h)},a.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],V=0;V<w;V++)b[V]=this.i(V)^M.i(V);return new d(b,this.h^M.h)};function ht(M){for(var w=M.g.length+1,b=[],V=0;V<w;V++)b[V]=M.i(V)<<1|M.i(V-1)>>>31;return new d(b,M.h)}function wt(M,w){var b=w>>5;w%=32;for(var V=M.g.length-b,I=[],z=0;z<V;z++)I[z]=0<w?M.i(z+b)>>>w|M.i(z+b+1)<<32-w:M.i(z+b);return new d(I,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,uv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Dr=d}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cv,Yl,hv,$u,ad,fv,dv,mv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var k=u[A];if(!(k in _))break t;_=_[k]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var _=0,A=!1,k={next:function(){if(!A&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function S(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function C(u,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,C.apply(null,arguments)}function O(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function P(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,k,q){for(var nt=Array(arguments.length-2),It=2;It<arguments.length;It++)nt[It-2]=arguments[It];return m.prototype[k].apply(A,nt)}}function K(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function H(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const k=u.length||0,q=A.length||0;u.length=k+q;for(let nt=0;nt<q;nt++)u[k+nt]=A[nt]}else u.push(A)}}class X{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){return/^[\s\xa0]*$/.test(u)}function tt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function vt(u){return vt[" "](u),u}vt[" "]=function(){};var ht=tt().indexOf("Gecko")!=-1&&!(tt().toLowerCase().indexOf("webkit")!=-1&&tt().indexOf("Edge")==-1)&&!(tt().indexOf("Trident")!=-1||tt().indexOf("MSIE")!=-1)&&tt().indexOf("Edge")==-1;function wt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function M(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function w(u){const m={};for(const _ in u)m[_]=u[_];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let _,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(_ in A)u[_]=A[_];for(let q=0;q<b.length;q++)_=b[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function I(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function z(u){g.setTimeout(()=>{throw u},0)}function D(){var u=Ht;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,_){const A=he.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new X(()=>new rt,u=>u.reset());class rt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,dt=!1,Ht=new ye,x=()=>{const u=g.Promise.resolve(void 0);yt=()=>{u.then(J)}};var J=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){z(_)}var m=he;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Rt(u,m){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ht){t:{try{vt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:bt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}P(Rt,at);var bt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),zt=0;function ie(u,m,_,A,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=k,this.key=++zt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,_,A,k){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var nt=dn(u,m,A,k);return-1<nt?(m=u[nt],_||(m.fa=!1)):(m=new ie(m,this.src,q,!!A,k),m.fa=_,u.push(m)),m};function ci(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],k=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(A,k,1),q&&(Ft(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function dn(u,m,_,A){for(var k=0;k<u.length;++k){var q=u[k];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return k}return-1}var ji="closure_lm_"+(1e6*Math.random()|0),Hi={};function hi(u,m,_,A,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)hi(u,m[q],_,A,k);return null}return _=To(_),u&&u[fe]?u.K(m,_,y(A)?!!A.capture:!1,k):zs(u,m,_,!1,A,k)}function zs(u,m,_,A,k,q){if(!m)throw Error("Invalid event type");var nt=y(k)?!!k.capture:!!k,It=Ps(u);if(It||(u[ji]=It=new Ye(u)),_=It.add(m,_,A,nt,q),_.proxy)return _;if(A=Ca(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)st||(k=nt),k===void 0&&(k=!1),u.addEventListener(m.toString(),A,k);else if(u.attachEvent)u.attachEvent(Va(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ca(){function u(_){return m.call(u.src,u.listener,_)}const m=Lc;return u}function Da(u,m,_,A,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)Da(u,m[q],_,A,k);else A=y(A)?!!A.capture:!!A,_=To(_),u&&u[fe]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=dn(q,_,A,k),-1<_&&(Ft(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ps(u))&&(m=u.g[m.toString()],u=-1,m&&(u=dn(m,_,A,k)),(_=-1<u?m[u]:null)&&zr(_))}function zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])ci(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Va(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Ps(m))?(ci(_,u),_.h==0&&(_.src=null,m[ji]=null)):Ft(u)}}}function Va(u){return u in Hi?Hi[u]:Hi[u]="on"+u}function Lc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&zr(u),u=_.call(A,m)}return u}function Ps(u){return u=u[ji],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function _e(){ct.call(this),this.i=new Ye(this),this.M=this,this.F=null}P(_e,ct),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,_,A){Da(this,u,m,_,A)};function Ce(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new at(m,u);else if(m instanceof at)m.target=m.target||u;else{var k=m;m=new at(A,u),V(m,k)}if(k=!0,_)for(var q=_.length-1;0<=q;q--){var nt=m.g=_[q];k=fi(nt,A,!0,m)&&k}if(nt=m.g=u,k=fi(nt,A,!0,m)&&k,k=fi(nt,A,!1,m)&&k,_)for(q=0;q<_.length;q++)nt=m.g=_[q],k=fi(nt,A,!1,m)&&k}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Ft(_[A]);delete u.g[m],u.h--}}this.F=null},_e.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},_e.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function fi(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==_){var It=nt.listener,Ee=nt.ha||nt.src;nt.fa&&ci(u.i,nt),k=It.call(Ee,A)!==!1&&k}}return k&&!A.defaultPrevented}function Ao(u,m,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Bs(u){u.g=Ao(()=>{u.g=null,u.i&&(u.i=!1,Bs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class kc extends ct{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Bs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(u){ct.call(this),this.h=u,this.g={}}P(Pr,ct);var qi=[];function He(u){wt(u.g,function(m,_){this.g.hasOwnProperty(_)&&zr(m)},u),u.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),He(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=g.JSON.stringify,Bn=g.JSON.parse,Xe=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Hs(){}Hs.prototype.h=null;function bo(u){return u.h||(u.h=u.i())}function So(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gi(){at.call(this,"d")}P(Gi,at);function Nn(){at.call(this,"c")}P(Nn,at);var mn={},Fi=null;function xa(){return Fi=Fi||new _e}mn.La="serverreachability";function qs(u){at.call(this,mn.La,u)}P(qs,at);function Qi(u){const m=xa();Ce(m,new qs(m))}mn.STAT_EVENT="statevent";function Na(u,m){at.call(this,mn.STAT_EVENT,u),this.stat=m}P(Na,at);function oe(u){const m=xa();Ce(m,new Na(m,u))}mn.Ma="timingevent";function Ro(u,m){at.call(this,mn.Ma,u),this.size=m}P(Ro,at);function Ki(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Yi(){this.g=!0}Yi.prototype.xa=function(){this.g=!1};function wo(u,m,_,A,k,q){u.info(function(){if(u.g)if(q)for(var nt="",It=q.split("&"),Ee=0;Ee<It.length;Ee++){var Mt=It[Ee].split("=");if(1<Mt.length){var xe=Mt[0];Mt=Mt[1];var Te=xe.split("_");nt=2<=Te.length&&Te[1]=="type"?nt+(xe+"="+Mt+"&"):nt+(xe+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+_+`
`+nt})}function Co(u,m,_,A,k,q,nt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+_+`
`+q+" "+nt})}function Xi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(u,_)+(A?" "+A:"")})}function Hn(u,m){u.info(function(){return"TIMEOUT: "+m})}Yi.prototype.info=function(){};function De(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<k.length;nt++)k[nt]=""}}}}return js(_)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Br;function Oa(){}P(Oa,Hs),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},Br=new Oa;function qn(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gs}function Gs(){this.i=null,this.g="",this.h=!1}var $i={},jr={};function On(u,m,_){u.L=1,u.v=Gr(re(m)),u.m=_,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),Wt(u),u.A=re(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),yi(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Gs,u.g=jo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new kc(C(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(qi[0]=k.toString()),k=qi);for(var q=0;q<k.length;q++){var nt=hi(_,k[q],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),wo(u.i,u.u,u.A,u.l,u.R,u.m)}qn.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=vn(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Io(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Ti?Qi(3):Qi(2)),Ia(this);var _=this.g.Z();this.X=_;e:if(Zi(this)){var A=Io(this.g);u="";var k=A.length,q=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),an(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==k-1)});A.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,Co(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var It,Ee=this.g;if((It=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(It)){var Mt=It;break e}}Mt=null}if(_=Mt)Xi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,_);else{this.o=!1,this.s=3,oe(12),en(this),an(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<nt.length;)if(Ue=Wi(this,nt),Ue==jr){Te==4&&(this.s=4,oe(14),_=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==$i){this.s=4,oe(15),Xi(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else Xi(this.i,this.l,Ue,null),sn(this,Ue);if(Zi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||nt.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)Xi(this.i,this.l,nt,"[Invalid Chunked Response]"),en(this),an(this);else if(0<nt.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Zr(xe),xe.M=!0,oe(11))}}else Xi(this.i,this.l,nt,null),sn(this,nt);Te==4&&en(this),this.o&&!this.J&&(Te==4?zo(this.j,this):(this.o=!1,Wt(this)))}else qc(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),en(this),an(this)}}}catch{}finally{}};function Zi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Wi(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?jr:(_=Number(m.substring(_,A)),isNaN(_)?$i:(A+=1,A+_>m.length?jr:(m=m.slice(A,A+_),u.C=A+_,m)))}qn.prototype.cancel=function(){this.J=!0,en(this)};function Wt(u){u.S=Date.now()+u.I,Fs(u,u.I)}function Fs(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ki(C(u.ba,u),m)}function Ia(u){u.B&&(g.clearTimeout(u.B),u.B=null)}qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Hn(this.i,this.A),this.L!=2&&(Qi(),oe(17)),en(this),this.s=2,an(this)):Fs(this,this.S-u)};function an(u){u.j.G==0||u.J||zo(u.j,u)}function en(u){Ia(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,He(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function sn(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Ji(_.h,u))){if(!u.K&&Ji(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)qa(_),ja(_);else break t;nl(_),oe(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ki(C(_.Za,_),6e3));if(1>=Do(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((u.K||_.g==u)&&qa(_),!et(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let Mt=k[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const xe=Mt[3];xe!=null&&(_.la=xe,_.j.info("VER="+_.la));const Te=Mt[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Ti=Mt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(A=1.5*Ti,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const $n=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var q=A.h;q.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(tr(q,q.h),q.h=null))}if(A.D){const rl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(A.ya=rl,Pt(A.I,A.D,rl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var nt=u;if(A.qa=Bo(A,A.J?A.ia:null,A.W),nt.K){gn(A.h,nt);var It=nt,Ee=A.L;Ee&&(It.I=Ee),It.B&&(Ia(It),Wt(It)),A.g=nt}else Lo(A);0<_.i.length&&Ha(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Ei(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ei(_,7):tl(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Qi(4)}catch{}}var zc=class{constructor(u,m){this.g=u,this.map=m}};function Qs(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Do(u){return u.h?1:u.g?u.g.size:0}function Ji(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function tr(u,m){u.g?u.g.add(m):u.h=m}function gn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Qs.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return K(u.i)}function Vo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Pc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function Hr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Pc(u),A=Vo(u),k=A.length,q=0;q<k;q++)m.call(void 0,A[q],_&&_[q],u)}var Ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),k=null;if(0<=A){var q=u[_].substring(0,A);k=u[_].substring(A+1)}else q=u[_];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function gi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gi){this.h=u.h,er(this,u.j),this.o=u.o,this.g=u.g,qr(this,u.s),this.l=u.l;var m=u.i,_=new Gn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ua(this,_),this.m=u.m}else u&&(m=String(u).match(Ys))?(this.h=!1,er(this,m[1]||"",!0),this.o=nr(m[2]||""),this.g=nr(m[3]||"",!0),qr(this,m[4]),this.l=nr(m[5]||"",!0),Ua(this,m[6]||"",!0),this.m=nr(m[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}gi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(pn(m,Xs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pn(m,Xs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(pn(_,_.charAt(0)=="/"?$s:xo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",pn(_,Hc)),u.join("")};function re(u){return new gi(u)}function er(u,m,_){u.j=_?nr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ua(u,m,_){m instanceof Gn?(u.i=m,Zs(u.i,u.h)):(_||(m=pn(m,jc)),u.i=new Gn(m,u.h))}function Pt(u,m,_){u.i.set(m,_)}function Gr(u){return Pt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function nr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Bc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Bc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xs=/[#\/\?@]/g,xo=/[#\?:]/g,$s=/[#\?]/g,jc=/[#\?@]/g,Hc=/#/g;function Gn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ma(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=Gn.prototype,a.add=function(u,m){yn(this),this.i=null,u=_i(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function La(u,m){yn(u),m=_i(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return yn(u),m=_i(u,m),u.g.has(m)}a.forEach=function(u,m){yn(this),this.g.forEach(function(_,A){_.forEach(function(k){u.call(m,k,A,this)},this)},this)},a.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const k=u[A];for(let q=0;q<k.length;q++)_.push(m[A])}return _},a.V=function(u){yn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(_i(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return yn(this),this.i=null,u=_i(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function yi(u,m,_){La(u,m),0<_.length&&(u.i=null,u.g.set(_i(u,m),K(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const q=encodeURIComponent(String(A)),nt=this.V(A);for(A=0;A<nt.length;A++){var k=q;nt[A]!==""&&(k+="="+encodeURIComponent(String(nt[A]))),u.push(k)}}return this.i=u.join("&")};function _i(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zs(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(_,A){var k=A.toLowerCase();A!=k&&(La(this,A),yi(this,k,_))},u)),u.j=m}function No(u,m){const _=new Yi;if(g.Image){const A=new Image;A.onload=O(_n,_,"TestLoadImage: loaded",!0,m,A),A.onerror=O(_n,_,"TestLoadImage: error",!1,m,A),A.onabort=O(_n,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=O(_n,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Fr(u,m){const _=new Yi,A=new AbortController,k=setTimeout(()=>{A.abort(),_n(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(k),q.ok?_n(_,"TestPingServer: ok",!0,m):_n(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),_n(_,"TestPingServer: error",!1,m)})}function _n(u,m,_,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(_)}catch{}}function Qr(){this.g=new Xe}function Fn(u,m,_){const A=_||"";try{Hr(u,function(k,q){let nt=k;y(k)&&(nt=js(k)),m.push(A+q+"="+encodeURIComponent(nt))})}catch(k){throw m.push(A+"type="+encodeURIComponent("_badmap")),k}}function ir(u){this.l=u.Ub||null,this.j=u.eb||!1}P(ir,Hs),ir.prototype.g=function(){return new vi(this.l,this.j)},ir.prototype.i=function(u){return function(){return u}}({});function vi(u,m){_e.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(vi,_e),a=vi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ws(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ws(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Kn(this),this.readyState==3&&Ws(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},a.Qa=function(u){this.g&&(this.response=u,Qn(this))},a.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Js(u){let m="";return wt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ve(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Js(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Pt(u,m,_))}function qt(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(qt,_e);var ka=/^https?$/i,Kr=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Br.g(),this.v=this.o?bo(this.o):bo(Br),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Oo(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)_.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Kr,m,void 0))||A||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of _)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Oo(this,q)}};function Oo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,za(u),Yn(u)}function za(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Yn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},a.bb=function(){Pa(this)};function Pa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)Ao(u.Ea,0,u);else if(Ce(u,"readystatechange"),vn(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=nt===0){var k=String(u.D).match(Ys)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),A=!ka.test(k?k.toLowerCase():"")}_=A}if(_)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var q=2<vn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",za(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Yr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ce(u,"ready");try{_.onreadystatechange=A}catch{}}}function Yr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bn(m)}};function Io(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qc(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(et(u[A]))continue;var _=I(u[A]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[k]||[];m[k]=q,q.push(_)}M(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ba(u){this.Aa=0,this.i=[],this.j=new Yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,u),this.cb=Xr("retryDelaySeedMs",1e4,u),this.Wa=Xr("forwardChannelMaxRetries",2,u),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Qs(u&&u.concurrentRequestLimit),this.Da=new Qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ba.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,A){oe(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Bo(this,null,this.W),Ha(this)};function tl(u){if(Mo(u),u.G==3){var m=u.U++,_=re(u.I);if(Pt(_,"SID",u.K),Pt(_,"RID",m),Pt(_,"TYPE","terminate"),$r(u,_),m=new qn(u,u.j,m),m.L=2,m.v=Gr(re(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=jo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wt(m)}Po(u)}function ja(u){u.g&&(Zr(u),u.g.cancel(),u.g=null)}function Mo(u){ja(u),u.u&&(g.clearTimeout(u.u),u.u=null),qa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ha(u){if(!Ks(u.h)&&!u.s){u.s=!0;var m=u.Ga;yt||x(),dt||(yt(),dt=!0),Ht.add(m,u),u.B=0}}function Gc(u,m){return Do(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ki(C(u.Ga,u,m),il(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new qn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=w(q),V(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Uo(this,k,m),_=re(this.I),Pt(_,"RID",u),Pt(_,"CVER",22),this.D&&Pt(_,"X-HTTP-Session-Id",this.D),$r(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(Js(q)))+"&"+m:this.m&&Ve(_,this.m,q)),tr(this.h,k),this.Ua&&Pt(_,"TYPE","init"),this.P?(Pt(_,"$req",m),Pt(_,"SID","null"),k.T=!0,On(k,_,null)):On(k,_,m),this.G=2}}else this.G==3&&(u?el(this,u):this.i.length==0||Ks(this.h)||el(this))};function el(u,m){var _;m?_=m.l:_=u.U++;const A=re(u.I);Pt(A,"SID",u.K),Pt(A,"RID",_),Pt(A,"AID",u.T),$r(u,A),u.m&&u.o&&Ve(A,u.m,u.o),_=new qn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Uo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),tr(u.h,_),On(_,A,m)}function $r(u,m){u.H&&wt(u.H,function(_,A){Pt(m,A,_)}),u.l&&Hr({},function(_,A){Pt(m,A,_)})}function Uo(u,m,_){_=Math.min(u.i.length,_);var A=u.l?C(u.l.Na,u.l,u):null;t:{var k=u.i;let q=-1;for(;;){const nt=["count="+_];q==-1?0<_?(q=k[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let It=!0;for(let Ee=0;Ee<_;Ee++){let Mt=k[Ee].g;const xe=k[Ee].map;if(Mt-=q,0>Mt)q=Math.max(0,k[Ee].g-100),It=!1;else try{Fn(xe,nt,"req"+Mt+"_")}catch{A&&A(xe)}}if(It){A=nt.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function Lo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;yt||x(),dt||(yt(),dt=!0),Ht.add(m,u),u.v=0}}function nl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ki(C(u.Fa,u),il(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,ko(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ki(C(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),ja(this),ko(this))};function Zr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function ko(u){u.g=new qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=re(u.qa);Pt(m,"RID","rpc"),Pt(m,"SID",u.K),Pt(m,"AID",u.T),Pt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pt(m,"TO",u.ja),Pt(m,"TYPE","xmlhttp"),$r(u,m),u.m&&u.o&&Ve(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Gr(re(m)),_.m=null,_.P=!0,mi(_,u)}a.Za=function(){this.C!=null&&(this.C=null,ja(this),nl(this),oe(19))};function qa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function zo(u,m){var _=null;if(u.g==m){qa(u),Zr(u),u.g=null;var A=2}else if(Ji(u.h,m))_=m.D,gn(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;A=xa(),Ce(A,new Ro(A,_)),Ha(u)}else Lo(u);else if(k=m.s,k==3||k==0&&0<m.X||!(A==1&&Gc(u,m)||A==2&&nl(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),k){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function il(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=C(u.fb,u),A=u.Xa;const k=!A;A=new gi(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||er(A,"https"),Gr(A),k?No(A.toString(),_):Fr(A.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(m),Po(u),Mo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Po(u){if(u.G=0,u.ka=[],u.l){const m=$e(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Bo(u,m,_){var A=_ instanceof gi?re(_):new gi(_);if(A.g!="")m&&(A.g=m+"."+A.g),qr(A,A.s);else{var k=g.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new gi(null);A&&er(q,A),m&&(q.g=m),k&&qr(q,k),_&&(q.l=_),A=q}return _=u.D,m=u.ya,_&&m&&Pt(A,_,m),Pt(A,"VER",u.la),$r(u,A),A}function jo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new ir({eb:_})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}a=Ho.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ga(){}Ga.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){_e.call(this),this.g=new Ba(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!et(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!et(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}P(Ze,_e),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){tl(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=js(u),u=_);m.i.push(new zc(m.Ya++,u)),m.G==3&&Ha(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Ze.aa.N.call(this)};function qo(u){Gi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}P(qo,Gi);function Go(){Nn.call(this),this.status=1}P(Go,Nn);function Xn(u){this.g=u}P(Xn,Ho),Xn.prototype.ua=function(){Ce(this.g,"a")},Xn.prototype.ta=function(u){Ce(this.g,new qo(u))},Xn.prototype.sa=function(u){Ce(this.g,new Go)},Xn.prototype.ra=function(){Ce(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,mv=function(){return new Ga},dv=function(){return xa()},fv=mn,ad={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,$u=ve,di.COMPLETE="complete",hv=di,So.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Yl=So,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,cv=qt}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const By="@firebase/firestore",jy="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new iv("@firebase/firestore");function ys(){return _a.logLevel}function lt(a,...e){if(_a.logLevel<=kt.DEBUG){const i=e.map(xd);_a.debug(`Firestore (${Ms}): ${a}`,...i)}}function Pi(a,...e){if(_a.logLevel<=kt.ERROR){const i=e.map(xd);_a.error(`Firestore (${Ms}): ${a}`,...i)}}function Rs(a,...e){if(_a.logLevel<=kt.WARN){const i=e.map(xd);_a.warn(`Firestore (${Ms}): ${a}`,...i)}}function xd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a="Unexpected state"){const e=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: `+a;throw Pi(e),new Error(e)}function Gt(a,e){a||_t()}function At(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Is{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class PS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class BS{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=h;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new gv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Qe(e)}}class jS{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HS{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new jS(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qS{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,bS(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const s=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Hy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new Hy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GS(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Ot(a,e){return a<e?-1:a>e?1:0}function ws(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=-62135596800,Gy=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Gy);return new Re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<qy)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gy}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Re(0,0))}static max(){return new Et(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="__name__";class ni{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(),s===void 0?s=e.length-i:s>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ni.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=ni.isNumericId(e),o=ni.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ni.extractNumericId(e).compare(ni.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dr.fromString(e.substring(4,e.length-2))}}class Zt extends ni{construct(e,i,s){return new Zt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new mt(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const FS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ni{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return FS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fy}static keyField(){return new Be([Fy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new mt(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new mt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new mt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Zt.fromString(e))}static fromName(e){return new gt(Zt.fromString(e).popFirst(5))}static empty(){return new gt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=-1;function QS(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new Or(o,gt.empty(),e)}function KS(a){return new Or(a.readTime,a.key,so)}class Or{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Or(Et.min(),gt.empty(),so)}static max(){return new Or(Et.max(),gt.empty(),so)}}function YS(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:Ot(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $S{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==XS)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):$.reject(i)}static resolve(e){return new $((i,s)=>{i(e)})}static reject(e){return new $((i,s)=>{s(e)})}static waitFor(e){return new $((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},p=>s(p))}),d=!0,h===o&&i()})}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next(o=>o?$.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new $((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const y=p;i(e[y]).next(T=>{d[y]=T,++g,g===h&&s(d)},T=>o(T))}})}static doWhile(e,i){return new $((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function ZS(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ls(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}bc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=-1;function Sc(a){return a==null}function sc(a){return a===0&&1/a==-1/0}function WS(a){return typeof a=="number"&&Number.isInteger(a)&&!sc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="";function JS(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Qy(e)),e=t1(a.get(i),e);return Qy(e)}function t1(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case yv:i+="";break;default:i+=h}}return i}function Qy(a){return a+yv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function ba(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function _v(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Pe.RED,this.left=o??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Pe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,i,s,o,h){return this}insert(e,i,s){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new kn([])}unionWith(e){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ws(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new vv("Invalid base64 string: "+h):h}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const e1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(a){if(Gt(!!a),typeof a=="string"){let e=0;const i=e1.exec(a);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(a.seconds),nanos:ce(a.nanos)}}function ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Mr(a){return typeof a=="string"?je.fromBase64String(a):je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="server_timestamp",Tv="__type__",Av="__previous_value__",bv="__local_write_time__";function Od(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tv])===null||i===void 0?void 0:i.stringValue)===Ev}function Rc(a){const e=a.mapValue.fields[Av];return Od(e)?Rc(e):e}function lo(a){const e=Ir(a.mapValue.fields[bv].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,i,s,o,h,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const lc="(default)";class oo{constructor(e,i){this.projectId=e,this.database=i||lc}static empty(){return new oo("","")}get isDefaultDatabase(){return this.database===lc}isEqual(e){return e instanceof oo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="__type__",i1="__max__",Fu={mapValue:{}},Rv="__vector__",oc="value";function Ur(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Od(a)?4:a1(a)?9007199254740991:r1(a)?10:11:_t()}function si(a,e){if(a===e)return!0;const i=Ur(a);if(i!==Ur(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return lo(a).isEqual(lo(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ir(o.timestampValue),g=Ir(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Mr(o.bytesValue).isEqual(Mr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return ce(o.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ce(o.integerValue)===ce(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ce(o.doubleValue),g=ce(h.doubleValue);return d===g?sc(d)===sc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return ws(a.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Ky(d)!==Ky(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!si(d[p],g[p])))return!1;return!0}(a,e);default:return _t()}}function uo(a,e){return(a.values||[]).find(i=>si(i,e))!==void 0}function Cs(a,e){if(a===e)return 0;const i=Ur(a),s=Ur(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),p=ce(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return Xy(a.timestampValue,e.timestampValue);case 4:return Xy(lo(a),lo(e));case 5:return Ot(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Mr(h),p=Mr(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Ot(g[y],p[y]);if(T!==0)return T}return Ot(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Ot(ce(h.latitude),ce(d.latitude));return g!==0?g:Ot(ce(h.longitude),ce(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return $y(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,p,y,T;const S=h.fields||{},C=d.fields||{},O=(g=S[oc])===null||g===void 0?void 0:g.arrayValue,P=(p=C[oc])===null||p===void 0?void 0:p.arrayValue,K=Ot(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((T=P==null?void 0:P.values)===null||T===void 0?void 0:T.length)||0);return K!==0?K:$y(O,P)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Fu.mapValue&&d===Fu.mapValue)return 0;if(h===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const C=Ot(p[S],T[S]);if(C!==0)return C;const O=Cs(g[p[S]],y[T[S]]);if(O!==0)return O}return Ot(p.length,T.length)}(a.mapValue,e.mapValue);default:throw _t()}}function Xy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ot(a,e);const i=Ir(a),s=Ir(e),o=Ot(i.seconds,s.seconds);return o!==0?o:Ot(i.nanos,s.nanos)}function $y(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Cs(i[o],s[o]);if(h)return h}return Ot(i.length,s.length)}function Ds(a){return sd(a)}function sd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Ir(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Mr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=sd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${sd(i.fields[d])}`;return o+"}"}(a.mapValue):_t()}function Zu(a){switch(Ur(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(a);return e?16+Zu(e):16;case 5:return 2*a.stringValue.length;case 6:return Mr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Zu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return ba(s.fields,(h,d)=>{o+=h.length+Zu(d)}),o}(a.mapValue);default:throw _t()}}function ld(a){return!!a&&"integerValue"in a}function Id(a){return!!a&&"arrayValue"in a}function Zy(a){return!!a&&"nullValue"in a}function Wy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Wu(a){return!!a&&"mapValue"in a}function r1(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sv])===null||i===void 0?void 0:i.stringValue)===Rv}function Wl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return ba(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Wl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function a1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===i1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Wu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Wl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Wu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ba(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new xn(Wl(this.value))}}function wv(a){const e=[];return ba(a.fields,(i,s)=>{const o=new Be([i]);if(Wu(s)){const h=wv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Et.min(),Et.min(),Et.min(),xn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Et.min(),Et.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Et.min(),Et.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i){this.position=e,this.inclusive=i}}function Jy(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Cs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function t_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!si(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i="asc"){this.field=e,this.dir=i}}function s1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{}class Se extends Cv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new o1(e,i,s):i==="array-contains"?new h1(e,s):i==="in"?new f1(e,s):i==="not-in"?new d1(e,s):i==="array-contains-any"?new m1(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new u1(e,s):new c1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Cs(i,this.value)):i!==null&&Ur(this.value)===Ur(i)&&this.matchesComparison(Cs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Cv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new li(e,i)}matches(e){return Dv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Dv(a){return a.op==="and"}function Vv(a){return l1(a)&&Dv(a)}function l1(a){for(const e of a.filters)if(e instanceof li)return!1;return!0}function od(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+Ds(a.value);if(Vv(a))return a.filters.map(e=>od(e)).join(",");{const e=a.filters.map(i=>od(i)).join(",");return`${a.op}(${e})`}}function xv(a,e){return a instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&si(s.value,o.value)}(a,e):a instanceof li?function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&xv(d,o.filters[g]),!0):!1}(a,e):void _t()}function Nv(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${Ds(i.value)}`}(a):a instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(Nv).join(" ,")+"}"}(a):"Filter"}class o1 extends Se{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class u1 extends Se{constructor(e,i){super(e,"in",i),this.keys=Ov("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class c1 extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Ov("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Ov(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class h1 extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Id(i)&&uo(i.arrayValue,this.value)}}class f1 extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&uo(this.value.arrayValue,i)}}class d1 extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!uo(this.value.arrayValue,i)}}class m1 extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Id(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>uo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function e_(a,e=null,i=[],s=[],o=null,h=null,d=null){return new g1(a,e,i,s,o,h,d)}function Md(a){const e=At(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>od(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),Sc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ds(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ds(s)).join(",")),e.le=i}return e.le}function Ud(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!s1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!xv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!t_(a.startAt,e.startAt)&&t_(a.endAt,e.endAt)}function ud(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function p1(a,e,i,s,o,h,d,g){return new wc(a,e,i,s,o,h,d,g)}function Ld(a){return new wc(a)}function n_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function y1(a){return a.collectionGroup!==null}function Jl(a){const e=At(a);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new cc(h,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new cc(Be.keyField(),s))}return e.he}function ii(a){const e=At(a);return e.Pe||(e.Pe=_1(e,Jl(a))),e.Pe}function _1(a,e){if(a.limitType==="F")return e_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new cc(o.field,h)});const i=a.endAt?new uc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new uc(a.startAt.position,a.startAt.inclusive):null;return e_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function cd(a,e,i){return new wc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Cc(a,e){return Ud(ii(a),ii(e))&&a.limitType===e.limitType}function Iv(a){return`${Md(ii(a))}|lt:${a.limitType}`}function _s(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Nv(o)).join(", ")}]`),Sc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ds(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ds(o)).join(",")),`Target(${s})`}(ii(a))}; limitType=${a.limitType})`}function Dc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Jl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=Jy(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Jl(s),o)||s.endAt&&!function(d,g,p){const y=Jy(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Jl(s),o))}(a,e)}function v1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Mv(a){return(e,i)=>{let s=!1;for(const o of Jl(a)){const h=E1(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function E1(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(h,d,g){const p=d.data.field(h),y=g.data.field(h);return p!==null&&y!==null?Cs(p,y):_t()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return _v(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new ne(gt.comparator);function Bi(){return T1}const Uv=new ne(gt.comparator);function Xl(...a){let e=Uv;for(const i of a)e=e.insert(i.key,i);return e}function Lv(a){let e=Uv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ya(){return to()}function kv(){return to()}function to(){return new Sa(a=>a.toString(),(a,e)=>a.isEqual(e))}const A1=new ne(gt.comparator),b1=new we(gt.comparator);function xt(...a){let e=b1;for(const i of a)e=e.add(i);return e}const S1=new we(Ot);function R1(){return S1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(e)?"-0":e}}function zv(a){return{integerValue:""+a}}function w1(a,e){return WS(e)?zv(e):kd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function C1(a,e,i){return a instanceof hc?function(o,h){const d={fields:{[Tv]:{stringValue:Ev},[bv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Od(h)&&(h=Rc(h)),h&&(d.fields[Av]=h),{mapValue:d}}(i,e):a instanceof co?Bv(a,e):a instanceof ho?jv(a,e):function(o,h){const d=Pv(o,h),g=i_(d)+i_(o.Ie);return ld(d)&&ld(o.Ie)?zv(g):kd(o.serializer,g)}(a,e)}function D1(a,e,i){return a instanceof co?Bv(a,e):a instanceof ho?jv(a,e):i}function Pv(a,e){return a instanceof fc?function(s){return ld(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class hc extends Vc{}class co extends Vc{constructor(e){super(),this.elements=e}}function Bv(a,e){const i=Hv(e);for(const s of a.elements)i.some(o=>si(o,s))||i.push(s);return{arrayValue:{values:i}}}class ho extends Vc{constructor(e){super(),this.elements=e}}function jv(a,e){let i=Hv(e);for(const s of a.elements)i=i.filter(o=>!si(o,s));return{arrayValue:{values:i}}}class fc extends Vc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function i_(a){return ce(a.integerValue||a.doubleValue)}function Hv(a){return Id(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function V1(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof co&&o instanceof co||s instanceof ho&&o instanceof ho?ws(s.elements,o.elements,si):s instanceof fc&&o instanceof fc?si(s.Ie,o.Ie):s instanceof hc&&o instanceof hc}(a.transform,e.transform)}class x1{constructor(e,i){this.version=e,this.transformResults=i}}class zn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class xc{}function qv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new zd(a.key,zn.none()):new po(a.key,a.data,zn.none());{const i=a.data,s=xn.empty();let o=new we(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ra(a.key,s,new kn(o.toArray()),zn.none())}}function N1(a,e,i){a instanceof po?function(o,h,d){const g=o.value.clone(),p=a_(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Ra?function(o,h,d){if(!Ju(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=a_(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(Gv(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function eo(a,e,i,s){return a instanceof po?function(h,d,g,p){if(!Ju(h.precondition,d))return g;const y=h.value.clone(),T=s_(h.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof Ra?function(h,d,g,p){if(!Ju(h.precondition,d))return g;const y=s_(h.fieldTransforms,p,d),T=d.data;return T.setAll(Gv(h)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(S=>S.field))}(a,e,i,s):function(h,d,g){return Ju(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function O1(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=Pv(s.transform,o||null);h!=null&&(i===null&&(i=xn.empty()),i.set(s.field,h))}return i||null}function r_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ws(s,o,(h,d)=>V1(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class po extends xc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ra extends xc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Gv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function a_(a,e,i){const s=new Map;Gt(a.length===i.length);for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,D1(d,g,i[o]))}return s}function s_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,C1(h,d,e))}return s}class zd extends xc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I1 extends xc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&N1(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=eo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=eo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=kv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=qv(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),xt())}isEqual(e){return this.batchId===e.batchId&&ws(this.mutations,e.mutations,(i,s)=>r_(i,s))&&ws(this.baseMutations,e.baseMutations,(i,s)=>r_(i,s))}}class Pd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=function(){return A1}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Pd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function k1(a){switch(a){case W.OK:return _t();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _t()}}function Fv(a){if(a===void 0)return Pi("GRPC error has no .code"),W.UNKNOWN;switch(a){case pe.OK:return W.OK;case pe.CANCELLED:return W.CANCELLED;case pe.UNKNOWN:return W.UNKNOWN;case pe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pe.INTERNAL:return W.INTERNAL;case pe.UNAVAILABLE:return W.UNAVAILABLE;case pe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pe.NOT_FOUND:return W.NOT_FOUND;case pe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pe.ABORTED:return W.ABORTED;case pe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pe.DATA_LOSS:return W.DATA_LOSS;default:return _t()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Dr([4294967295,4294967295],0);function l_(a){const e=z1().encode(a),i=new uv;return i.update(e),new Uint8Array(i.digest())}function o_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Dr([i,s],0),new Dr([o,h],0)]}class Bd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new $l(`Invalid padding: ${i}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new $l(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Dr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Dr.fromNumber(s)));return o.compare(P1)===1&&(o=new Dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=l_(e),[s,o]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Bd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=l_(e),[s,o]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,yo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Nc(Et.min(),o,new ne(Ot),Bi(),xt())}}class yo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new yo(s,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class Qv{constructor(e,i){this.targetId=e,this.ge=i}}class Kv{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class u_{constructor(){this.pe=0,this.ye=c_(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=xt(),i=xt(),s=xt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t()}}),new yo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=c_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class B1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bi(),this.$e=Qu(),this.Ke=Qu(),this.Ue=new ne(Ot)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(ud(h))if(s===0){const d=new gt(h.path);this.ze(i,d,Ke.newNoDocument(d,Et.min()))}else Gt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Mr(s).toUint8Array()}catch(p){if(p instanceof vv)return Rs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Bd(d,o,h)}catch(p){return Rs(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&ud(g.target)){const p=new gt(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=xt();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new Nc(e,i,this.Ue,this.Qe,s);return this.Qe=Bi(),this.$e=Qu(),this.Ke=Qu(),this.Ue=new ne(Ot),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new u_,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new we(Ot),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Ot),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new u_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Qu(){return new ne(gt.comparator)}function c_(){return new ne(gt.comparator)}const j1={asc:"ASCENDING",desc:"DESCENDING"},H1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q1={and:"AND",or:"OR"};class G1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hd(a,e){return a.useProto3Json||Sc(e)?e:{value:e}}function dc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function F1(a,e){return dc(a,e.toTimestamp())}function ri(a){return Gt(!!a),Et.fromTimestamp(function(i){const s=Ir(i);return new Re(s.seconds,s.nanos)}(a))}function jd(a,e){return fd(a,e).canonicalString()}function fd(a,e){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Xv(a){const e=Zt.fromString(a);return Gt(t0(e)),e}function dd(a,e){return jd(a.databaseId,e.path)}function Kf(a,e){const i=Xv(e);if(i.get(1)!==a.databaseId.projectId)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(Zv(i))}function $v(a,e){return jd(a.databaseId,e)}function Q1(a){const e=Xv(a);return e.length===4?Zt.emptyPath():Zv(e)}function md(a){return new Zt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Zv(a){return Gt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function h_(a,e,i){return{name:dd(a,e),fields:i.value.mapValue.fields}}function K1(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string"),je.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),je.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const T=y.code===void 0?W.UNKNOWN:Fv(y.code);return new mt(T,y.message||"")}(d);i=new Kv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Kf(a,s.document.name),h=ri(s.document.updateTime),d=s.document.createTime?ri(s.document.createTime):Et.min(),g=new xn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,h,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];i=new tc(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Kf(a,s.document),h=s.readTime?ri(s.readTime):Et.min(),d=Ke.newNoDocument(o,h),g=s.removedTargetIds||[];i=new tc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Kf(a,s.document),h=s.removedTargetIds||[];i=new tc([],h,o,null)}else{if(!("filter"in e))return _t();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new L1(o,h),g=s.targetId;i=new Qv(g,d)}}return i}function Y1(a,e){let i;if(e instanceof po)i={update:h_(a,e.key,e.value)};else if(e instanceof zd)i={delete:dd(a,e.key)};else if(e instanceof Ra)i={update:h_(a,e.key,e.data),updateMask:iR(e.fieldMask)};else{if(!(e instanceof I1))return _t();i={verify:dd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof hc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw _t()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:F1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t()}(a,e.precondition)),i}function X1(a,e){return a&&a.length>0?(Gt(e!==void 0),a.map(i=>function(o,h){let d=o.updateTime?ri(o.updateTime):ri(h);return d.isEqual(Et.min())&&(d=ri(h)),new x1(d,o.transformResults||[])}(i,e))):[]}function $1(a,e){return{documents:[$v(a,e.path)]}}function Z1(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=$v(a,o);const h=function(y){if(y.length!==0)return Jv(li.create(y,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(y){if(y.length!==0)return y.map(T=>function(C){return{field:vs(C.field),direction:tR(C.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=hd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function W1(a){let e=Q1(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(S){const C=Wv(S);return C instanceof li&&Vv(C)?C.getFilters():[C]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(C=>function(P){return new cc(Es(P.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(C))}(i.orderBy));let g=null;i.limit&&(g=function(S){let C;return C=typeof S=="object"?S.value:S,Sc(C)?null:C}(i.limit));let p=null;i.startAt&&(p=function(S){const C=!!S.before,O=S.values||[];return new uc(O,C)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const C=!S.before,O=S.values||[];return new uc(O,C)}(i.endAt)),p1(e,o,d,h,g,"F",p,y)}function J1(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Wv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Es(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Es(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Es(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Es(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(a):a.fieldFilter!==void 0?function(i){return Se.create(Es(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return li.create(i.compositeFilter.filters.map(s=>Wv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(a):_t()}function tR(a){return j1[a]}function eR(a){return H1[a]}function nR(a){return q1[a]}function vs(a){return{fieldPath:a.canonicalString()}}function Es(a){return Be.fromServerFormat(a.fieldPath)}function Jv(a){return a instanceof Se?function(i){if(i.op==="=="){if(Wy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NAN"}};if(Zy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Wy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NAN"}};if(Zy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(i.field),op:eR(i.op),value:i.value}}}(a):a instanceof li?function(i){const s=i.getFilters().map(o=>Jv(o));return s.length===1?s[0]:{compositeFilter:{op:nR(i.op),filters:s}}}(a):_t()}function iR(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function t0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,i,s,o,h=Et.min(),d=Et.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.Tt=e}}function aR(a){const e=W1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.Tn=new lR}addToCollectionParentIndex(e,i){return this.Tn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Or.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class lR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Zt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e0=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(e0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Vs(0)}static Un(){return new Vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LruGarbageCollector",oR=1048576;function m_([a,e],[i,s]){const o=Ot(a,i);return o===0?Ot(e,s):o}class uR{constructor(e){this.Hn=e,this.buffer=new we(m_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();m_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){lt(d_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ls(i)?lt(d_,"Ignoring IndexedDB error during garbage collection: ",i):await Us(i)}await this.er(3e5)})}}class hR{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return $.resolve(bc.ae);const s=new uR(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(f_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,h,d,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,i))).next(S=>(h=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),ys()<=kt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S})))}}function fR(a,e){return new hR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.changes=new Sa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&eo(s.mutation,o,kn.empty(),Re.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,xt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=xt()){const o=ya();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Xl();return h.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ya();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,xt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Bi();const d=to(),g=function(){return to()}();return i.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Ra)?h=h.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),eo(T.mutation,y,T.mutation.getFieldMask(),Re.now())):d.set(y.key,kn.empty())}),this.recalculateAndSaveOverlays(e,h).next(p=>(p.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var S;return g.set(y,new mR(T,(S=d.get(y))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const s=to();let o=new ne((d,g)=>d-g),h=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||kn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const S=(o.get(g.batchId)||xt()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,S=kv();T.forEach(C=>{if(!h.has(C)){const O=qv(i.get(C),s.get(C));O!==null&&S.set(C,O),h=h.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return $.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):y1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):$.resolve(ya());let g=so,p=h;return d.next(y=>$.forEach(y,(T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(e,y,h)).next(()=>this.computeViews(e,p,y,xt())).next(T=>({batchId:g,changes:Lv(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,h).next(g=>$.forEach(g,p=>{const y=function(S,C){return new wc(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((S,C)=>{d=d.insert(S,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ke.newInvalidDocument(T)))});let g=Xl();return d.forEach((p,y)=>{const T=h.get(p);T!==void 0&&eo(T.mutation,y,kn.empty(),Re.now()),Dc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return $.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}}(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:aR(o.bundledQuery),readTime:ri(o.readTime)}}(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.overlays=new ne(gt.comparator),this.Rr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ya();return $.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.Et(e,i,h)}),$.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const o=ya(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ne((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=h.get(y.largestBatchId);T===null&&(T=ya(),h=h.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=ya(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=o)););return $.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new U1(i,s));let h=this.Rr.get(i);h===void 0&&(h=xt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Me(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new gt(new Zt([])),s=new Me(i,e),o=new Me(i,e+1),h=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new gt(new Zt([])),s=new Me(i,e),o=new Me(i,e+1);let h=xt();return this.gr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return gt.comparator(e.key,i.key)||Ot(e.Cr,i.Cr)}static pr(e,i){return Ot(e.Cr,i.Cr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new M1(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Nd:this.Fr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);h.push(g)}),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Ot);return i.forEach(o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),$.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new gt(h),0);let g=new we(Ot);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),$.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return $.forEach(i.mutations,o=>{const h=new Me(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Me(i,0),o=this.Mr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.kr=e,this.docs=function(){return new ne(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Bi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Bi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||YS(KS(T),s)<=0||(o.has(T.key)||Dc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,s,o){_t()}qr(e,i){return $.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new TR(this)}getSize(e){return $.resolve(this.size)}}class TR extends dR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),$.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.persistence=e,this.Qr=new Sa(i=>Md(i),Ud),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Hd,this.targetCount=0,this.Ur=Vs.Kn()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),$.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new Vs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.zn(i),$.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),$.waitFor(h).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this.Kr.yr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this.Kr.Sr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Kr.vr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new bc(0),this.zr=!1,this.zr=!0,this.jr=new _R,this.referenceDelegate=e(this),this.Hr=new AR(this),this.indexManager=new sR,this.remoteDocumentCache=function(o){return new ER(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new rR(i),this.Yr=new pR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new yR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new vR(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new bR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return $.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class bR extends $S{constructor(e){super(),this.currentSequenceNumber=e}}class qd{constructor(e){this.persistence=e,this.ti=new Hd,this.ni=null}static ri(e){return new qd(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),$.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,s=>{const o=gt.fromPath(s);return this.si(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return $.or([()=>$.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class mc{constructor(e,i){this.persistence=e,this.oi=new Sa(s=>JS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=fR(this,i)}static ri(e,i){return new mc(e,i)}Zr(){}Xr(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return $.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(h=>h?$.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),$.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zu(e.data.value)),i}ar(e,i,s){return $.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=xt(),o=xt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Gd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Eb()?8:ZS(_b())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new SR;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,o){return s.documentReadCount<this.es?(ys()<=kt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",_s(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(ys()<=kt.DEBUG&&lt("QueryEngine","Query:",_s(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ys()<=kt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",_s(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(i))):$.resolve())}rs(e,i){if(n_(i))return $.resolve(null);let s=ii(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=cd(i,null,"F"),s=ii(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=xt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,cd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return n_(i)||o.isEqual(Et.min())?$.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,o)?$.resolve(null):(ys()<=kt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_s(i)),this.hs(e,d,i,QS(o,so)).next(g=>g))})}cs(e,i){let s=new we(Mv(e));return i.forEach((o,h)=>{Dc(e,h)&&(s=s.add(h))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,s){return ys()<=kt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",_s(i)),this.ns.getDocumentsMatchingQuery(e,i,Or.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="LocalStore",wR=3e8;class CR{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ne(Ot),this.Is=new Sa(h=>Md(h),Ud),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function DR(a,e,i,s){return new CR(a,e,i,s)}async function i0(a,e){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let p=xt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of h){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function VR(a,e){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const S=y.batch,C=S.keys();let O=$.resolve();return C.forEach(P=>{O=O.next(()=>T.getEntry(p,P)).next(K=>{const H=y.docVersions.get(P);Gt(H!==null),K.version.compareTo(H)<0&&(S.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))})}),O.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=xt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function r0(a){const e=At(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function xR(a,e){const i=At(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((T,S)=>{const C=o.get(S);if(!C)return;g.push(i.Hr.removeMatchingKeys(h,T.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(h,T.addedDocuments,S)));let O=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,s)),o=o.insert(S,O),function(K,H,X){return K.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=wR?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(C,O,T)&&g.push(i.Hr.updateTargetData(h,O))});let p=Bi(),y=xt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),g.push(NR(h,d,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Et.min())){const T=i.Hr.getLastRemoteSnapshotVersion(h).next(S=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(T)}return $.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,p,y)).next(()=>p)}).then(h=>(i.Ts=o,h))}function NR(a,e,i){let s=xt(),o=xt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Bi();return i.forEach((g,p)=>{const y=h.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Et.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):lt(Fd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function OR(a,e){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Nd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function IR(a,e){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(h=>h?(o=h,$.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Sr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function gd(a,e,i){const s=At(a),o=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ls(d))throw d;lt(Fd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function g_(a,e,i){const s=At(a);let o=Et.min(),h=xt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,T){const S=At(p),C=S.Is.get(T);return C!==void 0?$.resolve(S.Ts.get(C)):S.Hr.getTargetData(y,T)}(s,d,ii(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{h=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:xt())).next(g=>(MR(s,v1(e),g),{documents:g,gs:h})))}function MR(a,e,i){let s=a.Es.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(e,s)}class p_{constructor(){this.activeTargetIds=R1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UR{constructor(){this.ho=new p_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new p_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class __{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){lt(y_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){lt(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function pd(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="RestConnection",kR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===lc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,h){const d=pd(),g=this.bo(e,i.toUriEncodedString());lt(Yf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,h),this.vo(e,g,p,s).then(y=>(lt(Yf,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Rs(Yf,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,o,h,d){return this.So(e,i,s,o,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const s=kR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class BR extends zR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const h=pd();return new Promise((d,g)=>{const p=new cv;p.setWithCredentials(!0),p.listenOnce(hv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case $u.NO_ERROR:const T=p.getResponseJson();lt(Fe,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case $u.TIMEOUT:lt(Fe,`RPC '${e}' ${h} timed out`),g(new mt(W.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const S=p.getStatus();if(lt(Fe,`RPC '${e}' ${h} failed with status:`,S,"response text:",p.getResponseText()),S>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const O=C==null?void 0:C.error;if(O&&O.status&&O.message){const P=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(X)>=0?X:W.UNKNOWN}(O.status);g(new mt(P,O.message))}else g(new mt(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new mt(W.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{lt(Fe,`RPC '${e}' ${h} completed.`)}});const y=JSON.stringify(o);lt(Fe,`RPC '${e}' ${h} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=pd(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=mv(),g=dv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=h.join("");lt(Fe,`Creating RPC '${e}' stream ${o}: ${T}`,p);const S=d.createWebChannel(T,p);let C=!1,O=!1;const P=new PR({Fo:H=>{O?lt(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(C||(lt(Fe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),lt(Fe,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Mo:()=>S.close()}),K=(H,X,et)=>{H.listen(X,tt=>{try{et(tt)}catch(vt){setTimeout(()=>{throw vt},0)}})};return K(S,Yl.EventType.OPEN,()=>{O||(lt(Fe,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),K(S,Yl.EventType.CLOSE,()=>{O||(O=!0,lt(Fe,`RPC '${e}' stream ${o} transport closed`),P.Ko())}),K(S,Yl.EventType.ERROR,H=>{O||(O=!0,Rs(Fe,`RPC '${e}' stream ${o} transport errored:`,H),P.Ko(new mt(W.UNAVAILABLE,"The operation could not be completed")))}),K(S,Yl.EventType.MESSAGE,H=>{var X;if(!O){const et=H.data[0];Gt(!!et);const tt=et,vt=(tt==null?void 0:tt.error)||((X=tt[0])===null||X===void 0?void 0:X.error);if(vt){lt(Fe,`RPC '${e}' stream ${o} received error:`,vt);const ht=vt.status;let wt=function(b){const V=pe[b];if(V!==void 0)return Fv(V)}(ht),M=vt.message;wt===void 0&&(wt=W.INTERNAL,M="Unknown error status: "+ht+" with message "+vt.message),O=!0,P.Ko(new mt(wt,M)),S.close()}else lt(Fe,`RPC '${e}' stream ${o} received:`,et),P.Uo(et)}}),K(g,fv.STAT_EVENT,H=>{H.stat===ad.PROXY?lt(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===ad.NOPROXY&&lt(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(a){return new G1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="PersistentStream";class s0{constructor(e,i,s,o,h,d,g,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new a0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new mt(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return lt(v_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(lt(v_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jR extends s0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=K1(this.serializer,e),s=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ri(d.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=md(this.serializer),i.addTarget=function(h,d){let g;const p=d.target;if(g=ud(p)?{documents:$1(h,p)}:{query:Z1(h,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Yv(h,d.resumeToken);const y=hd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=dc(h,d.snapshotVersion.toTimestamp());const y=hd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=J1(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=md(this.serializer),i.removeTarget=e,this.I_(i)}}class HR extends s0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=X1(e.writeResults,e.commitTime),s=ri(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=md(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>Y1(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{}class GR extends qR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,fd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new mt(W.UNKNOWN,h.toString())})}Co(e,i,s,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,fd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(W.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class FR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Pi(i),this.N_=!1):lt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class QR{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{wa(this)&&(lt(va,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await _o(y),y.j_.set("Unknown"),y.W_.delete(4),await Ic(y)}(this))})}),this.j_=new FR(s,o)}}async function Ic(a){if(wa(a))for(const e of a.G_)await e(!0)}async function _o(a){for(const e of a.G_)await e(!1)}function l0(a,e){const i=At(a);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),Xd(i)?Yd(i):ks(i).c_()&&Kd(i,e))}function Qd(a,e){const i=At(a),s=ks(i);i.U_.delete(e),s.c_()&&o0(i,e),i.U_.size===0&&(s.c_()?s.P_():wa(i)&&i.j_.set("Unknown"))}function Kd(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ks(a).y_(e)}function o0(a,e){a.H_.Ne(e),ks(a).w_(e)}function Yd(a){a.H_=new B1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.U_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),ks(a).start(),a.j_.B_()}function Xd(a){return wa(a)&&!ks(a).u_()&&a.U_.size>0}function wa(a){return At(a).W_.size===0}function u0(a){a.H_=void 0}async function KR(a){a.j_.set("Online")}async function YR(a){a.U_.forEach((e,i)=>{Kd(a,e)})}async function XR(a,e){u0(a),Xd(a)?(a.j_.q_(e),Yd(a)):a.j_.set("Unknown")}async function $R(a,e,i){if(a.j_.set("Online"),e instanceof Kv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.U_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.U_.delete(g),o.H_.removeTarget(g))}(a,e)}catch(s){lt(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gc(a,s)}else if(e instanceof tc?a.H_.We(e):e instanceof Qv?a.H_.Ze(e):a.H_.je(e),!i.isEqual(Et.min()))try{const s=await r0(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=h.U_.get(y);T&&h.U_.set(y,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const T=h.U_.get(p);if(!T)return;h.U_.set(p,T.withResumeToken(je.EMPTY_BYTE_STRING,T.snapshotVersion)),o0(h,p);const S=new Sr(T.target,p,y,T.sequenceNumber);Kd(h,S)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){lt(va,"Failed to raise snapshot:",s),await gc(a,s)}}async function gc(a,e,i){if(!Ls(e))throw e;a.W_.add(1),await _o(a),a.j_.set("Offline"),i||(i=()=>r0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{lt(va,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Ic(a)})}function c0(a,e){return e().catch(i=>gc(a,i,e))}async function Mc(a){const e=At(a),i=Lr(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Nd;for(;ZR(e);)try{const o=await OR(e.localStore,s);if(o===null){e.K_.length===0&&i.P_();break}s=o.batchId,WR(e,o)}catch(o){await gc(e,o)}h0(e)&&f0(e)}function ZR(a){return wa(a)&&a.K_.length<10}function WR(a,e){a.K_.push(e);const i=Lr(a);i.c_()&&i.S_&&i.b_(e.mutations)}function h0(a){return wa(a)&&!Lr(a).u_()&&a.K_.length>0}function f0(a){Lr(a).start()}async function JR(a){Lr(a).C_()}async function tw(a){const e=Lr(a);for(const i of a.K_)e.b_(i.mutations)}async function ew(a,e,i){const s=a.K_.shift(),o=Pd.from(s,e,i);await c0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Mc(a)}async function nw(a,e){e&&Lr(a).S_&&await async function(s,o){if(function(d){return k1(d)&&d!==W.ABORTED}(o.code)){const h=s.K_.shift();Lr(s).h_(),await c0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Mc(s)}}(a,e),h0(a)&&f0(a)}async function E_(a,e){const i=At(a);i.asyncQueue.verifyOperationInProgress(),lt(va,"RemoteStore received new credentials");const s=wa(i);i.W_.add(3),await _o(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Ic(i)}async function iw(a,e){const i=At(a);e?(i.W_.delete(2),await Ic(i)):e||(i.W_.add(2),await _o(i),i.j_.set("Unknown"))}function ks(a){return a.J_||(a.J_=function(i,s,o){const h=At(i);return h.M_(),new jR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:KR.bind(null,a),No:YR.bind(null,a),Lo:XR.bind(null,a),p_:$R.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),Xd(a)?Yd(a):a.j_.set("Unknown")):(await a.J_.stop(),u0(a))})),a.J_}function Lr(a){return a.Y_||(a.Y_=function(i,s,o){const h=At(i);return h.M_(),new HR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:JR.bind(null,a),Lo:nw.bind(null,a),D_:tw.bind(null,a),v_:ew.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await Mc(a)):(await a.Y_.stop(),a.K_.length>0&&(lt(va,`Stopping write stream with ${a.K_.length} pending writes`),a.K_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new $d(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(a,e){if(Pi("AsyncQueue",`${e}: ${a}`),Ls(a))return new mt(W.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Xl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new As;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.Z_=new ne(gt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class xs{constructor(e,i,s,o,h,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new xs(e,i,As.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class aw{constructor(){this.queries=A_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=At(i),h=o.queries;o.queries=A_(),h.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new mt(W.ABORTED,"Firestore shutting down"))}}function A_(){return new Sa(a=>Iv(a),Cc)}async function d0(a,e){const i=At(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(s=2):(h=new rw,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Zd(d,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Wd(i)}async function m0(a,e){const i=At(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function sw(a,e){const i=At(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&Wd(i)}function lw(a,e,i){const s=At(a),o=s.queries.get(e);if(o)for(const h of o.ta)h.onError(i);s.queries.delete(e)}function Wd(a){a.ia.forEach(e=>{e.next()})}var yd,b_;(b_=yd||(yd={}))._a="default",b_.Cache="cache";class g0{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.key=e}}class y0{constructor(e){this.key=e}}class ow{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=Mv(e),this.wa=new As(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new T_,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,S)=>{const C=o.get(T),O=Dc(this.query,S)?S:null,P=!!C&&this.mutatedKeys.has(C.key),K=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let H=!1;C&&O?C.data.isEqual(O.data)?P!==K&&(s.track({type:3,doc:O}),H=!0):this.va(C,O)||(s.track({type:2,doc:O}),H=!0,(p&&this.ya(O,p)>0||y&&this.ya(O,y)<0)&&(g=!0)):!C&&O?(s.track({type:0,doc:O}),H=!0):C&&!O&&(s.track({type:1,doc:C}),H=!0,(p||y)&&(g=!0)),H&&(O?(d=d.add(O),h=K?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,S)=>function(O,P){const K=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return K(O)-K(P)}(T.type,S.type)||this.ya(T.doc,S.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new xs(this.query,e.wa,h,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new T_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=xt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new y0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new p0(s))}),i}Oa(e){this.fa=e.gs,this.pa=xt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return xs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jd="SyncEngine";class uw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class cw{constructor(e){this.key=e,this.Ba=!1}}class hw{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Sa(g=>Iv(g),Cc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(gt.comparator),this.Ka=new Map,this.Ua=new Hd,this.Wa={},this.Ga=new Map,this.za=Vs.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fw(a,e,i=!0){const s=b0(a);let o;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await _0(s,e,i,!0),o}async function dw(a,e){const i=b0(a);await _0(i,e,!0,!1)}async function _0(a,e,i,s){const o=await IR(a.localStore,ii(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await mw(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&l0(a.remoteStore,o),g}async function mw(a,e,i,s,o){a.Ha=(S,C,O)=>async function(K,H,X,et){let tt=H.view.ba(X);tt.ls&&(tt=await g_(K.localStore,H.query,!1).then(({documents:M})=>H.view.ba(M,tt)));const vt=et&&et.targetChanges.get(H.targetId),ht=et&&et.targetMismatches.get(H.targetId)!=null,wt=H.view.applyChanges(tt,K.isPrimaryClient,vt,ht);return R_(K,H.targetId,wt.Ma),wt.snapshot}(a,S,C,O);const h=await g_(a.localStore,e,!0),d=new ow(e,h.gs),g=d.ba(h.documents),p=yo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(g,a.isPrimaryClient,p);R_(a,i,y.Ma);const T=new uw(e,i,d);return a.ka.set(e,T),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),y.snapshot}async function gw(a,e,i){const s=At(a),o=s.ka.get(e),h=s.qa.get(o.targetId);if(h.length>1)return s.qa.set(o.targetId,h.filter(d=>!Cc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Qd(s.remoteStore,o.targetId),_d(s,o.targetId)}).catch(Us)):(_d(s,o.targetId),await gd(s.localStore,o.targetId,!0))}async function pw(a,e){const i=At(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Qd(i.remoteStore,s.targetId))}async function yw(a,e,i){const s=Sw(a);try{const o=await function(d,g){const p=At(d),y=Re.now(),T=g.reduce((O,P)=>O.add(P.key),xt());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let P=Bi(),K=xt();return p.ds.getEntries(O,T).next(H=>{P=H,P.forEach((X,et)=>{et.isValidDocument()||(K=K.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,P)).next(H=>{S=H;const X=[];for(const et of g){const tt=O1(et,S.get(et.key).overlayedDocument);tt!=null&&X.push(new Ra(et.key,tt,wv(tt.value.mapValue),zn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,X,g)}).next(H=>{C=H;const X=H.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(O,H.batchId,X)})}).then(()=>({batchId:C.batchId,changes:Lv(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ne(Ot)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await vo(s,o.changes),await Mc(s.remoteStore)}catch(o){const h=Zd(o,"Failed to persist write");i.reject(h)}}async function v0(a,e){const i=At(a);try{const s=await xR(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ka.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Gt(d.Ba):o.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await vo(i,s,e)}catch(s){await Us(s)}}function S_(a,e,i){const s=At(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=At(d);p.onlineState=g;let y=!1;p.queries.forEach((T,S)=>{for(const C of S.ta)C.sa(g)&&(y=!0)}),y&&Wd(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _w(a,e,i){const s=At(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ka.get(e),h=o&&o.key;if(h){let d=new ne(gt.comparator);d=d.insert(h,Ke.newNoDocument(h,Et.min()));const g=xt().add(h),p=new Nc(Et.min(),new Map,new ne(Ot),d,g);await v0(s,p),s.$a=s.$a.remove(h),s.Ka.delete(e),tm(s)}else await gd(s.localStore,e,!1).then(()=>_d(s,e,i)).catch(Us)}async function vw(a,e){const i=At(a),s=e.batch.batchId;try{const o=await VR(i.localStore,e);T0(i,s,null),E0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await vo(i,o)}catch(o){await Us(o)}}async function Ew(a,e,i){const s=At(a);try{const o=await function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(S=>(Gt(S!==null),T=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);T0(s,e,i),E0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await vo(s,o)}catch(o){await Us(o)}}function E0(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function T0(a,e,i){const s=At(a);let o=s.Wa[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function _d(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ua.br(e).forEach(s=>{a.Ua.containsKey(s)||A0(a,s)})}function A0(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(Qd(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ka.delete(i),tm(a))}function R_(a,e,i){for(const s of i)s instanceof p0?(a.Ua.addReference(s.key,e),Tw(a,s)):s instanceof y0?(lt(Jd,"Document no longer in limbo: "+s.key),a.Ua.removeReference(s.key,e),a.Ua.containsKey(s.key)||A0(a,s.key)):_t()}function Tw(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(lt(Jd,"New document in limbo: "+i),a.Qa.add(s),tm(a))}function tm(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new gt(Zt.fromString(e)),s=a.za.next();a.Ka.set(s,new cw(i)),a.$a=a.$a.insert(i,s),l0(a.remoteStore,new Sr(ii(Ld(i.path)),s,"TargetPurposeLimboResolution",bc.ae))}}async function vo(a,e,i){const s=At(a),o=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Gd.Yi(p.targetId,y);h.push(S)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>$.forEach(y,C=>$.forEach(C.Hi,O=>T.persistence.referenceDelegate.addReference(S,C.targetId,O)).next(()=>$.forEach(C.Ji,O=>T.persistence.referenceDelegate.removeReference(S,C.targetId,O)))))}catch(S){if(!Ls(S))throw S;lt(Fd,"Failed to update sequence numbers: "+S)}for(const S of y){const C=S.targetId;if(!S.fromCache){const O=T.Ts.get(C),P=O.snapshotVersion,K=O.withLastLimboFreeSnapshotVersion(P);T.Ts=T.Ts.insert(C,K)}}}(s.localStore,h))}async function Aw(a,e){const i=At(a);if(!i.currentUser.isEqual(e)){lt(Jd,"User change. New user:",e.toKey());const s=await i0(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(p=>{p.reject(new mt(W.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vo(i,s.Rs)}}function bw(a,e){const i=At(a),s=i.Ka.get(e);if(s&&s.Ba)return xt().add(s.key);{let o=xt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function b0(a){const e=At(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=v0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_w.bind(null,e),e.La.p_=sw.bind(null,e.eventManager),e.La.Ja=lw.bind(null,e.eventManager),e}function Sw(a){const e=At(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ew.bind(null,e),e}class pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return DR(this.persistence,new RR,e.initialUser,this.serializer)}Xa(e){return new n0(qd.ri,this.serializer)}Za(e){return new UR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pc.provider={build:()=>new pc};class Rw extends pc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof mc);const s=this.persistence.referenceDelegate.garbageCollector;return new cR(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new n0(s=>mc.ri(s,i),this.serializer)}}class vd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>S_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aw.bind(null,this.syncEngine),await iw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aw}()}createDatastore(e){const i=Oc(e.databaseInfo.databaseId),s=function(h){return new BR(h)}(e.databaseInfo);return function(h,d,g,p){return new GR(h,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new QR(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>S_(this.syncEngine,i,0),function(){return __.D()?new __:new LR}())}createSyncEngine(e,i){return function(o,h,d,g,p,y,T){const S=new hw(o,h,d,g,p,y);return T&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=At(o);lt(va,"RemoteStore shutting down."),h.W_.add(5),await _o(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}vd.provider={build:()=>new vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class ww{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=pv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{lt(kr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(lt(kr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Zd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function $f(a,e){a.asyncQueue.verifyOperationInProgress(),lt(kr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await i0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function w_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Cw(a);lt(kr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>E_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>E_(e.remoteStore,o)),a._onlineComponents=e}async function Cw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(kr,"Using user provided OfflineComponentProvider");try{await $f(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Rs("Error using user provided cache. Falling back to memory cache: "+i),await $f(a,new pc)}}else lt(kr,"Using default OfflineComponentProvider"),await $f(a,new Rw(void 0));return a._offlineComponents}async function R0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(kr,"Using user provided OnlineComponentProvider"),await w_(a,a._uninitializedComponentsProvider._online)):(lt(kr,"Using default OnlineComponentProvider"),await w_(a,new vd))),a._onlineComponents}function Dw(a){return R0(a).then(e=>e.syncEngine)}async function Ed(a){const e=await R0(a),i=e.eventManager;return i.onListen=fw.bind(null,e.syncEngine),i.onUnlisten=gw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=dw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=pw.bind(null,e.syncEngine),i}function Vw(a,e,i={}){const s=new Vr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,p,y){const T=new S0({next:C=>{T.su(),d.enqueueAndForget(()=>m0(h,S)),C.fromCache&&p.source==="server"?y.reject(new mt(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),S=new g0(g,T,{includeMetadataChanges:!0,Ta:!0});return d0(h,S)}(await Ed(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(a,e,i){if(!i)throw new mt(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function xw(a,e,i,s){if(e===!0&&s===!0)throw new mt(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function D_(a){if(!gt.isDocumentKey(a))throw new mt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function V_(a){if(gt.isDocumentKey(a))throw new mt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function em(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":_t()}function ai(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new mt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=em(a);throw new mt(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firestore.googleapis.com",x_=!0;class N_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new mt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D0,this.ssl=x_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:x_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oR)throw new mt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new mt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new zS;switch(s.type){case"firstParty":return new HS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=C_.get(i);s&&(lt("ComponentProvider","Removing Datastore"),C_.delete(i),s.terminate())}(this),Promise.resolve()}}function Nw(a,e,i,s={}){var o;const h=(a=ai(a,Uc))._getSettings(),d=`${e}:${i}`;if(h.host!==D0&&h.host!==d&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),s.mockUserToken){let g,p;if(typeof s.mockUserToken=="string")g=s.mockUserToken,p=Qe.MOCK_USER;else{g=yb(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new mt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(y)}a._authCredentials=new PS(new gv(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class fn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class xr extends Eo{constructor(e,i,s){super(e,i,Ld(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new gt(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function bs(a,e,...i){if(a=Ss(a),C0("collection","path",e),a instanceof Uc){const s=Zt.fromString(e,...i);return V_(s),new xr(a,null,s)}{if(!(a instanceof fn||a instanceof xr))throw new mt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(e,...i));return V_(s),new xr(a.firestore,null,s)}}function nm(a,e,...i){if(a=Ss(a),arguments.length===1&&(e=pv.newId()),C0("doc","path",e),a instanceof Uc){const s=Zt.fromString(e,...i);return D_(s),new fn(a,null,new gt(s))}{if(!(a instanceof fn||a instanceof xr))throw new mt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(e,...i));return D_(s),new fn(a.firestore,a instanceof xr?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="AsyncQueue";class I_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new a0(this,"async_queue_retry"),this.Su=()=>{const s=Xf();s&&lt(O_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Vr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ls(e))throw e;lt(O_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Pi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=$d.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function M_(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1}(a,["next","error","complete"])}class Ea extends Uc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new I_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function Ow(a,e){const i=typeof a=="object"?a:CS(),s=typeof a=="string"?a:lc,o=AS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=gb("firestore");h&&Nw(o,...h)}return o}function im(a){if(a._terminated)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Iw(a),a._firestoreClient}function Iw(a){var e,i,s;const o=a._freezeSettings(),h=function(g,p,y,T){return new n1(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,w0(T.experimentalLongPollingOptions),T.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new ww(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(je.fromBase64String(e))}catch(i){throw new mt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ns(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new mt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new mt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new mt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=/^__.*__$/;class Uw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,i,this.fieldTransforms):new po(e,this.data,i,this.fieldTransforms)}}function x0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class lm{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new lm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(x0(this.Lu)&&Mw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Lw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Oc(e)}ju(e,i,s,o=!1){return new lm({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N0(a){const e=a._freezeSettings(),i=Oc(a._databaseId);return new Lw(a._databaseId,!!e.ignoreUndefinedProperties,i)}function O0(a,e,i,s,o,h={}){const d=a.ju(h.merge||h.mergeFields?2:0,e,i,o);L0("Data must be an object, but it was:",d,s);const g=M0(s,d);let p,y;if(h.merge)p=new kn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const S of h.mergeFields){const C=kw(e,S,i);if(!d.contains(C))throw new mt(W.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);Pw(T,C)||T.push(C)}p=new kn(T),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new Uw(new xn(g),p,y)}function I0(a,e){if(U0(a=Ss(a)))return L0("Unsupported field value:",e,a),M0(a,e);if(a instanceof V0)return function(s,o){if(!x0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let p=I0(g,o.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=Ss(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return w1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Re.fromDate(s);return{timestampValue:dc(o.serializer,h)}}if(s instanceof Re){const h=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dc(o.serializer,h)}}if(s instanceof am)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ns)return{bytesValue:Yv(o.serializer,s._byteString)};if(s instanceof fn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:jd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof sm)return function(d,g){return{mapValue:{fields:{[Sv]:{stringValue:Rv},[oc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return kd(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${em(s)}`)}(a,e)}function M0(a,e){const i={};return _v(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(a,(s,o)=>{const h=I0(o,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function U0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Re||a instanceof am||a instanceof Ns||a instanceof fn||a instanceof V0||a instanceof sm)}function L0(a,e,i){if(!U0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=em(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function kw(a,e,i){if((e=Ss(e))instanceof rm)return e._internalPath;if(typeof e=="string")return k0(a,e);throw yc("Field path arguments must be of type string or ",a,!1,void 0,i)}const zw=new RegExp("[~\\*/\\[\\]]");function k0(a,e,i){if(e.search(zw)>=0)throw yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new rm(...e.split("."))._internalPath}catch{throw yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function yc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new mt(W.INVALID_ARGUMENT,g+a+p)}function Pw(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(P0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Bw extends z0{data(){return super.data()}}function P0(a,e){return typeof e=="string"?k0(a,e):e instanceof rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new mt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jw{convertValue(e,i="none"){switch(Ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ba(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[oc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ce(d.doubleValue));return new sm(h)}convertGeoPoint(e){return new am(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Rc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(lo(e));default:return null}}convertTimestamp(e){const i=Ir(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Zt.fromString(e);Gt(t0(s));const o=new oo(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return o.isEqual(i)||Pi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class H0 extends z0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(P0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ec extends H0{data(e={}){return super.data(e)}}class q0{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new ec(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const p=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:Hw(g.type),doc:p,oldIndex:y,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Hw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class om extends jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,i)}}function qw(a){a=ai(a,Eo);const e=ai(a.firestore,Ea),i=im(e),s=new om(e);return B0(a._query),Vw(i,a._query).then(o=>new q0(e,s,a,o))}function Gw(a,e,i){a=ai(a,fn);const s=ai(a.firestore,Ea),o=j0(a.converter,e);return um(s,[O0(N0(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,zn.none())])}function Fw(a){return um(ai(a.firestore,Ea),[new zd(a._key,zn.none())])}function G0(a,e){const i=ai(a.firestore,Ea),s=nm(a),o=j0(a.converter,e);return um(i,[O0(N0(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,zn.exists(!1))]).then(()=>s)}function _c(a,...e){var i,s,o;a=Ss(a);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||M_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(M_(e[d])){const S=e[d];e[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[d+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,T;if(a instanceof fn)y=ai(a.firestore,Ea),T=Ld(a._key.path),p={next:S=>{e[d]&&e[d](Qw(y,a,S))},error:e[d+1],complete:e[d+2]};else{const S=ai(a,Eo);y=ai(S.firestore,Ea),T=S._query;const C=new om(y);p={next:O=>{e[d]&&e[d](new q0(y,C,S,O))},error:e[d+1],complete:e[d+2]},B0(a._query)}return function(C,O,P,K){const H=new S0(K),X=new g0(O,H,P);return C.asyncQueue.enqueueAndForget(async()=>d0(await Ed(C),X)),()=>{H.su(),C.asyncQueue.enqueueAndForget(async()=>m0(await Ed(C),X))}}(im(y),T,g,p)}function um(a,e){return function(s,o){const h=new Vr;return s.asyncQueue.enqueueAndForget(async()=>yw(await Dw(s),o,h)),h.promise}(im(a),e)}function Qw(a,e,i){const s=i.docs.get(e._key),o=new om(a);return new H0(a,o,e._key,s,new Zl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ms=o})(wS),ac(new ro("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Ea(new BS(s.getProvider("auth-internal")),new qS(d,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oo(y.options.projectId,T)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Ts(By,jy,e),Ts(By,jy,"esm2017")})();var Kw="firebase",Yw="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(Kw,Yw,"app");const Xw={apiKey:void 0,authDomain:void 0,databaseURL:void 0,projectId:"musikkampen",storageBucket:"musikkampen.firebasestorage.app",messagingSenderId:"10870804330",appId:"1:10870804330:web:5bbbf4e20cd6ec11b2df13"},$w=sv(Xw),Rr=Ow($w),F0=({isPressed:a,buttonMode:e,teamButtonColor:i,teamButtonPressedColor:s,onClick:o,teamName:h,width:d="w-62",height:g="h-62"})=>{const p=e==="inactive"||e==="single-press"&&a;return it.jsx("button",{onClick:()=>o(h),disabled:a||p,className:`${d} ${g} rounded-full shadow-lg border-4 border-gray-300 transition-all duration-300 transform hover:scale-110 bg-gradient-to-b ${a?s:i} ${p?"opacity-50 cursor-not-allowed":""}`})},cm=()=>{const a=bd();return it.jsx("button",{onClick:()=>a("/"),className:"absolute top-4 left-4 bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded-lg text-sm shadow-md",children:"⬅ Till start"})},hm=({clicks:a})=>it.jsxs("div",{className:"mt-10 w-full max-w-md",children:[it.jsx("h2",{className:"text-xl font-semibold mb-2 text-center",children:"📋 Tryckhistorik"}),it.jsxs("table",{className:"w-full bg-white rounded-lg shadow-md",children:[it.jsx("thead",{className:"bg-gray-300",children:it.jsxs("tr",{children:[it.jsx("th",{className:"py-2 px-4 text-left",children:"Lag"}),it.jsx("th",{className:"py-2 px-4 text-left",children:"Tidpunkt"})]})}),it.jsx("tbody",{children:a.length>0?a.map((e,i)=>it.jsxs("tr",{className:"border-t border-gray-300",children:[it.jsx("td",{className:"py-2 px-4",children:e.team}),it.jsx("td",{className:"py-2 px-4",children:new Date(e.timestamp).toLocaleTimeString()})]},i)):it.jsx("tr",{children:it.jsx("td",{colSpan:2,className:"py-2 px-4 text-center text-gray-500",children:"Inga tryck registrerade än"})})})]})]}),Zw=()=>{const{teamName:a}=iA(),e=G.useRef("inactive"),[i,s]=G.useState(!1),[o,h]=G.useState([]),d=io.find(T=>T.name.toLowerCase()===(a==null?void 0:a.toLowerCase()))||io[0],g=G.useCallback(()=>{const T=nm(Rr,"settings","buttonMode");return _c(T,C=>{if(C.exists()){const O=C.data();O&&O.mode&&(e.current=O.mode)}})},[]),p=G.useCallback(()=>{const T=bs(Rr,"clicks");return _c(T,C=>{const O=C.docs.map(P=>({...P.data(),timestamp:P.data().timestamp}));if(h(O),e.current==="single-press"){const P=O.some(K=>K.team===d.displayName);s(P)}})},[d.displayName]);G.useEffect(()=>{const T=g(),S=p();return()=>{T(),S()}},[g,p]);const y=async T=>{if(e.current!=="inactive"&&!(e.current==="single-press"&&i))try{await G0(bs(Rr,"clicks"),{team:T,timestamp:new Date().toISOString()}),e.current==="single-press"&&s(!0)}catch(S){console.error("Error registering click: ",S)}};return it.jsxs("div",{className:"flex flex-col items-center justify-between min-h-screen w-screen bg-gradient-to-b from-gray-100 to-gray-300 text-black p-6 relative",children:[it.jsxs("div",{className:"flex justify-between w-full mb-4",children:[it.jsx(cm,{}),it.jsx("img",{src:Ac,alt:"Musikkampen Logo",className:"w-20 ml-auto"})]}),it.jsxs(it.Fragment,{children:[it.jsxs("h1",{className:"text-3xl font-bold mb-6",children:["Lag: ",d.displayName]}),it.jsx(F0,{isPressed:i,buttonMode:e.current,teamButtonColor:d.teamButtonColor,teamButtonPressedColor:d.teamButtonPressedColor,onClick:y,teamName:d.displayName}),it.jsx(hm,{clicks:o})]}),it.jsx(Tc,{})]})},Ww=({currentMode:a,onChange:e})=>{const i=["inactive","single-press","multi-press"];return it.jsx("div",{className:"flex flex-col items-start",children:i.map(s=>it.jsxs("label",{className:"inline-flex items-center space-x-2",children:[it.jsx("input",{type:"radio",value:s,checked:a===s,onChange:()=>e(s)}),it.jsx("span",{children:s==="inactive"?"🚫 Inaktiv":s==="single-press"?"✅ Engångstryck":"🔄 Flera tryck"})]},s))})},Jw=({onClear:a})=>it.jsx("button",{onClick:a,className:"mt-4 bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-3 rounded-lg text-lg font-semibold shadow-md transition",children:"🗑️ Rensa knapphistorik"}),t2=()=>{const[a,e]=G.useState("inactive"),[i,s]=G.useState([]),[o,h]=G.useState({}),d=async()=>{const y=bs(Rr,"clicks"),S=(await qw(y)).docs.map(C=>Fw(C.ref));await Promise.all(S),s([]),h({})},g=async y=>{e(y),h({});try{await Gw(nm(Rr,"settings","buttonMode"),{mode:y})}catch(T){console.error("Error updating button mode: ",T)}},p=async y=>{if(a!=="inactive"&&!(a==="single-press"&&o[y]))try{await G0(bs(Rr,"clicks"),{team:y,timestamp:new Date().toISOString()}),a==="single-press"&&h(T=>({...T,[y]:!0}))}catch(T){console.error("Error registering click: ",T)}};return G.useEffect(()=>{const y=bs(Rr,"clicks"),T=_c(y,S=>{const C=S.docs.map(O=>({...O.data(),timestamp:O.data().timestamp}));s(C)});return()=>T()},[]),it.jsxs("div",{className:"flex flex-col items-center justify-between min-h-screen w-screen bg-gradient-to-b from-gray-100 to-gray-300 text-black p-6 relative",children:[it.jsxs("div",{className:"flex justify-between w-full mb-4",children:[it.jsx(cm,{}),it.jsx("img",{src:Ac,alt:"Musikkampen Logo",className:"w-20 ml-auto"})]}),it.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:io.map(({name:y,displayName:T,teamButtonColor:S,teamButtonPressedColor:C})=>it.jsx(F0,{isPressed:o[y],buttonMode:a,teamButtonColor:S,teamButtonPressedColor:C,onClick:p,teamName:T,width:"w-20",height:"h-20"},y))}),it.jsxs("div",{className:"flex flex-col items-center gap-4 mt-6",children:[it.jsx("span",{className:"text-lg font-semibold",children:"🕹️ Styr lagens knappar:"}),it.jsx(Ww,{currentMode:a,onChange:g})]}),it.jsx(Jw,{onClear:d}),it.jsx(hm,{clicks:i}),it.jsx(Tc,{})]})},e2=({fastestTeam:a})=>{if(!a)return it.jsx("p",{className:"text-lg mb-6 text-gray-500 text-center",children:"Ingen har tryckt ännu!"});const e=io.find(o=>o.displayName===a),i=e?e.backgroundColor:"bg-green-200",s=e?e.textColor:"text-green-700";return it.jsxs("div",{className:`mb-6 p-4 ${i} rounded-lg shadow-md text-center`,children:[it.jsx("h2",{className:`text-2xl font-semibold ${s}`,children:"Snabbast på knappen:"}),it.jsx("p",{className:`text-3xl font-bold mt-2 ${s}`,children:a})]})},n2=()=>{const[a,e]=G.useState([]),[i,s]=G.useState("");return G.useEffect(()=>{const o=bs(Rr,"clicks"),h=_c(o,d=>{const g=d.docs.map(p=>({...p.data(),timestamp:p.data().timestamp}));e(g),g.length>0?s(g[0].team):s("")});return()=>h()},[]),it.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen w-screen bg-gradient-to-b from-gray-100 to-gray-300 text-black p-6 relative",children:[it.jsx(cm,{}),it.jsx("img",{src:Ac,alt:"Musikkampen Logo",className:"w-40 mb-6"}),it.jsx("h1",{className:"text-4xl font-extrabold mb-4 text-center tracking-wide",children:"Resultat"}),it.jsx(e2,{fastestTeam:i}),it.jsx(hm,{clicks:a}),it.jsx(Tc,{})]})},i2=()=>it.jsxs(_A,{children:[it.jsx(Kl,{path:"/",element:it.jsx(ab,{})}),it.jsx(Kl,{path:"/team/:teamName",element:it.jsx(Zw,{})}),it.jsx(Kl,{path:"/admin",element:it.jsx(t2,{})}),it.jsx(Kl,{path:"/dashboard",element:it.jsx(n2,{})})]});CT.createRoot(document.getElementById("root")).render(it.jsx(vT.StrictMode,{children:it.jsx(HA,{children:it.jsx(i2,{})})}));
